{"version":3,"names":["validateSpinVariant","component","value","watchValidator","Set","defaultStyleCss","renderSpin","variant","h","class","name","Fragment","KolSpin","this","showToggled","_variant","render","Host","state","_show","translate","spin","role","validateShow","watchBoolean","validateVariant","componentWillLoad"],"sources":["src/types/props/variant/spin.ts","src/components/spin/style.css?tag=kol-spin&mode=default&encapsulation=shadow","src/components/spin/component.tsx"],"sourcesContent":["import { Generic } from '@a11y-ui/core';\r\n\r\nimport { watchValidator } from '../../../utils/prop.validators';\r\n\r\n/* types */\r\n/**\r\n * Loadingspinner\r\n * - https://github.com/vineethtrv/css-loader\r\n */\r\nexport type SpinVariant = 'cycle' | 'dot' | 'none';\r\n\r\n/** de\r\n * Macht die Fehlermeldung dieses Elements von Screenreadern lesbar.\r\n */\r\n/** en\r\n * Makes hints readable for screenreaders.\r\n */\r\nexport type PropSpinVariant = {\r\n\tvariant: SpinVariant;\r\n};\r\n\r\n/* validator */\r\nexport const validateSpinVariant = (component: Generic.Element.Component, value?: SpinVariant): void => {\r\n\twatchValidator(component, '_variant', (value) => value === 'cycle' || value === 'dot' || value === 'none', new Set(['cycle', 'dot', 'none']), value);\r\n};\r\n","@import url(../style.css);\n@import url(cycle.css);\n@import url(dot.css);\n.spin {\n\tdisplay: block;\n\tpadding: 0.125rem;\n\tposition: relative;\n}\n","import { Component, Fragment, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { translate } from '../../i18n';\r\nimport { SpinVariant, validateSpinVariant } from '../../types/props/variant/spin';\r\nimport { watchBoolean } from '../../utils/prop.validators';\r\nimport { KoliBriSpinAPI, KoliBriSpinStates } from './types';\r\n\r\nfunction renderSpin(variant: SpinVariant): JSX.Element {\r\n\tswitch (variant) {\r\n\t\tcase 'cycle':\r\n\t\t\treturn <span class=\"loader\"></span>;\r\n\t\tcase 'none':\r\n\t\t\treturn <slot name=\"expert\"></slot>;\r\n\t\tdefault:\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<span class=\"bg-spin-1\"></span>\r\n\t\t\t\t\t<span class=\"bg-spin-2\"></span>\r\n\t\t\t\t\t<span class=\"bg-spin-3\"></span>\r\n\t\t\t\t\t<span class=\"bg-neutral\"></span>\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\n@Component({\r\n\ttag: 'kol-spin',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolSpin implements KoliBriSpinAPI {\r\n\tprivate showToggled = false;\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t{this.state._show ? (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-busy=\"true\"\r\n\t\t\t\t\t\taria-label={translate('kol-action-running')}\r\n\t\t\t\t\t\taria-live=\"polite\"\r\n\t\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t\tspin: true,\r\n\t\t\t\t\t\t\t[this.state._variant]: true,\r\n\t\t\t\t\t\t\t/* [`spin--${this.state._variant}`]: true, witch benefit have this notation? */\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\trole=\"alert\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{renderSpin(this.state._variant)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tthis.showToggled && <span aria-label={translate('kol-action-done')} aria-busy=\"false\" aria-live=\"polite\" role=\"alert\"></span>\r\n\t\t\t\t)}\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Gibt an, ob die Komponente entweder ein- oder ausgeblendet ist.\r\n\t */\r\n\t@Prop() public _show?: boolean = false;\r\n\r\n\t/**\r\n\t * Gibt an, welche Variante der Darstellung genutzt werden soll.\r\n\t */\r\n\t@Prop() public _variant?: SpinVariant = 'dot';\r\n\r\n\t@State() public state: KoliBriSpinStates = {\r\n\t\t_variant: 'dot',\r\n\t};\r\n\r\n\t@Watch('_show')\r\n\tpublic validateShow(value?: boolean): void {\r\n\t\tthis.showToggled = this.state._show === true && this._show === false;\r\n\t\twatchBoolean(this, '_show', value);\r\n\t}\r\n\r\n\t@Watch('_variant')\r\n\tpublic validateVariant(value?: SpinVariant): void {\r\n\t\tvalidateSpinVariant(this, value);\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateShow(this._show);\r\n\t\tthis.validateVariant(this._variant);\r\n\t}\r\n}\r\n"],"mappings":";;;6SAsBO,MAAMA,EAAsB,CAACC,EAAsCC,KACzEC,EAAeF,EAAW,YAAaC,GAAUA,IAAU,SAAWA,IAAU,OAASA,IAAU,QAAQ,IAAIE,IAAI,CAAC,QAAS,MAAO,SAAUF,EAAM,ECvBrJ,MAAMG,EAAkB,0nFCOxB,SAASC,EAAWC,GACnB,OAAQA,GACP,IAAK,QACJ,OAAOC,EAAA,QAAMC,MAAM,WACpB,IAAK,OACJ,OAAOD,EAAA,QAAME,KAAK,WACnB,QACC,OACCF,EAACG,EAAQ,KACRH,EAAA,QAAMC,MAAM,cACZD,EAAA,QAAMC,MAAM,cACZD,EAAA,QAAMC,MAAM,cACZD,EAAA,QAAMC,MAAM,gBAIjB,C,MASaG,EAAO,M,yBACXC,KAAAC,YAAc,M,WA6BW,M,cAKO,M,WAEG,CAC1CC,SAAU,M,CAnCJC,SACN,OACCR,EAACS,EAAI,KACHJ,KAAKK,MAAMC,MACXX,EAAA,oBACW,OAAM,aACJY,EAAU,sBAAqB,YACjC,SACVX,MAAO,CACNY,KAAM,KACN,CAACR,KAAKK,MAAMH,UAAW,MAGxBO,KAAK,SAEJhB,EAAWO,KAAKK,MAAMH,WAGxBF,KAAKC,aAAeN,EAAA,qBAAkBY,EAAU,mBAAkB,YAAY,QAAO,YAAW,SAASE,KAAK,U,CAqB3GC,aAAarB,GACnBW,KAAKC,YAAcD,KAAKK,MAAMC,QAAU,MAAQN,KAAKM,QAAU,MAC/DK,EAAaX,KAAM,QAASX,E,CAItBuB,gBAAgBvB,GACtBF,EAAoBa,KAAMX,E,CAGpBwB,oBACNb,KAAKU,aAAaV,KAAKM,OACvBN,KAAKY,gBAAgBZ,KAAKE,S"}