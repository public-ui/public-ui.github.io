{"version":3,"names":["prototypeKoliBri","name","cb","Object","defineProperty","KoliBri","get","e","Log","debug","metaModeLog","active","initialize","initKoliBri","getDevMode","renderDevAdvice","koliBriA11yColorContrast","koliBriQuerySelector","koliBriQuerySelectorAll","koliBriQuerySelectorColors","KoliBriUtils","parseJson","stringifyJson","body","getDocument","div","createElement","setAttribute","innerHTML","appendChild","getExperimalMode","getColorContrastAnalysis","timeout","setTimeout","clearTimeout","setInterval","queryHtmlElementColors"],"sources":["src/global/devtools.ts"],"sourcesContent":["import { getColorContrastAnalysis, getDevMode, getDocument, getExperimalMode, initKoliBri, KoliBri, Log, renderDevAdvice } from '../utils/dev.utils';\r\nimport {\r\n\tkoliBriA11yColorContrast,\r\n\tkoliBriQuerySelector,\r\n\tkoliBriQuerySelectorAll,\r\n\tkoliBriQuerySelectorColors,\r\n\tKoliBriUtils,\r\n\tparseJson,\r\n\tstringifyJson,\r\n} from '../utils/prop.validators';\r\n\r\nfunction prototypeKoliBri<T>(name: string, cb: T) {\r\n\ttry {\r\n\t\tObject.defineProperty(KoliBri, name, {\r\n\t\t\tget: function () {\r\n\t\t\t\treturn cb;\r\n\t\t\t},\r\n\t\t});\r\n\t} catch (e) {\r\n\t\tLog.debug(`KoliBri property ${name} is already bind.`);\r\n\t}\r\n}\r\n\r\nconst metaModeLog = (name: string, active: boolean) => Log.debug(`${name} ${active ? '' : 'not '}activated`);\r\n\r\nexport const initialize = (): void => {\r\n\tinitKoliBri();\r\n\tif (getDevMode()) {\r\n\t\trenderDevAdvice();\r\n\r\n\t\tprototypeKoliBri('a11yColorContrast', koliBriA11yColorContrast);\r\n\t\tprototypeKoliBri('querySelector', koliBriQuerySelector);\r\n\t\tprototypeKoliBri('querySelectorAll', koliBriQuerySelectorAll);\r\n\t\tprototypeKoliBri('querySelectorColors', koliBriQuerySelectorColors);\r\n\t\tprototypeKoliBri('utils', function () {\r\n\t\t\treturn KoliBriUtils;\r\n\t\t});\r\n\t\tprototypeKoliBri('parseJson', parseJson);\r\n\t\tprototypeKoliBri('stringifyJson', stringifyJson);\r\n\r\n\t\tconst body = getDocument().body;\r\n\r\n\t\tconst div = getDocument().createElement('svg');\r\n\t\tdiv.setAttribute('aria-label', 'KoliBri-DevTools');\r\n\t\tdiv.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n\t\tdiv.setAttribute('role', 'toolbar');\r\n\t\tdiv.setAttribute('style', 'position: fixed;color: black;font-size: 200%;bottom: 0.25rem;right: 0.25rem;');\r\n\t\tdiv.innerHTML = `<svg\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  width=\"50\"\r\n  height=\"50\"\r\n  viewBox=\"0 0 600 600\"\r\n>\r\n  <path d=\"M353 322L213 304V434L353 322Z\" fill=\"#047\" />\r\n  <path d=\"M209 564V304L149 434L209 564Z\" fill=\"#047\" />\r\n  <path d=\"M357 316L417 250L361 210L275 244L357 316Z\" fill=\"#047\" />\r\n  <path d=\"M353 318L35 36L213 300L353 318Z\" fill=\"#047\" />\r\n  <path d=\"M329 218L237 92L250 222L272 241L329 218Z\" fill=\"#047\" />\r\n  <path d=\"M391 286L565 272L421 252L391 286Z\" fill=\"#047\" />\r\n</svg>`;\r\n\r\n\t\tgetDocument().body.appendChild(div);\r\n\r\n\t\tmetaModeLog('Development mode', getDevMode());\r\n\t\tmetaModeLog('Experimental mode', getExperimalMode());\r\n\t\tmetaModeLog('Color contrast analysis', getColorContrastAnalysis());\r\n\r\n\t\tif (getColorContrastAnalysis()) {\r\n\t\t\tconst timeout = setTimeout(() => {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\tsetInterval(() => {\r\n\t\t\t\t\tKoliBriUtils.queryHtmlElementColors(getDocument().createElement('div'), koliBriA11yColorContrast(body), false, false);\r\n\t\t\t\t}, 10000);\r\n\t\t\t}, 2500);\r\n\t\t}\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t//   const kolButton = koliBriQuerySelector<HTMLButtonElement>(document, '[_label=\"Aktion ausführen\"]');\r\n\t\t//   if (kolButton) {\r\n\t\t//     const button = koliBriQuerySelector<HTMLButtonElement>(kolButton?.shadowRoot as ShadowRoot, 'button');\r\n\t\t//     if (button) {\r\n\t\t//       kolButton.style.backgroundColor = '#988';\r\n\t\t//       button.style.backgroundColor = 'inherit';\r\n\t\t//       button.style.color = '#988';\r\n\t\t//       const kolButtonColors = koliBriQuerySelectorColors('[_label=\"Aktion ausführen\"]');\r\n\t\t//       console.log(\r\n\t\t//         koliBriQuerySelectorColors('button', {\r\n\t\t//           ...kolButtonColors,\r\n\t\t//         })\r\n\t\t//       );\r\n\t\t//     }\r\n\t\t//   }\r\n\t\t// }, 2500);\r\n\t}\r\n};\r\n"],"mappings":";;;kRAWA,SAASA,EAAoBC,EAAcC,GAC1C,IACCC,OAAOC,eAAeC,EAASJ,EAAM,CACpCK,IAAK,WACJ,OAAOJ,C,IAGR,MAAOK,GACRC,EAAIC,MAAM,oBAAoBR,qB,CAEhC,CAEA,MAAMS,EAAc,CAACT,EAAcU,IAAoBH,EAAIC,MAAM,GAAGR,KAAQU,EAAS,GAAK,mB,MAE7EC,EAAa,KACzBC,IACA,GAAIC,IAAc,CACjBC,IAEAf,EAAiB,oBAAqBgB,GACtChB,EAAiB,gBAAiBiB,GAClCjB,EAAiB,mBAAoBkB,GACrClB,EAAiB,sBAAuBmB,GACxCnB,EAAiB,SAAS,WACzB,OAAOoB,C,IAERpB,EAAiB,YAAaqB,GAC9BrB,EAAiB,gBAAiBsB,GAElC,MAAMC,EAAOC,IAAcD,KAE3B,MAAME,EAAMD,IAAcE,cAAc,OACxCD,EAAIE,aAAa,aAAc,oBAC/BF,EAAIE,aAAa,QAAS,8BAC1BF,EAAIE,aAAa,OAAQ,WACzBF,EAAIE,aAAa,QAAS,gFAC1BF,EAAIG,UAAY,ueAchBJ,IAAcD,KAAKM,YAAYJ,GAE/Bf,EAAY,mBAAoBI,KAChCJ,EAAY,oBAAqBoB,KACjCpB,EAAY,0BAA2BqB,KAEvC,GAAIA,IAA4B,CAC/B,MAAMC,EAAUC,YAAW,KAC1BC,aAAaF,GACbG,aAAY,KACXf,EAAagB,uBAAuBZ,IAAcE,cAAc,OAAQV,EAAyBO,GAAO,MAAO,MAAM,GACnH,IAAM,GACP,K"}