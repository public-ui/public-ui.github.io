/*!
 * KoliBri - The accessible HTML-Standard
 */
var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function t(e,t,o){return o={path:t,exports:{},require:function(e,t){return n()}},e(o,o.exports),o.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var o=t((function(t){(function(e,n){if(t.exports){t.exports=n()}else{e.log=n()}})(e,(function(){var e=function(){};var t="undefined";var n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent);var o=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if(typeof n.bind==="function"){return n.bind(e)}else{try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}}function i(){if(console.log){if(console.log.apply){console.log.apply(console,arguments)}else{Function.prototype.apply.apply(console.log,[console,arguments])}}if(console.trace)console.trace()}function l(o){if(o==="debug"){o="log"}if(typeof console===t){return false}else if(o==="trace"&&n){return i}else if(console[o]!==undefined){return r(console,o)}else if(console.log!==undefined){return r(console,"log")}else{return e}}function f(t,n){for(var r=0;r<o.length;r++){var i=o[r];this[i]=r<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function c(e,n,o){return function(){if(typeof console!==t){f.call(this,n,o);this[e].apply(this,arguments)}}}function s(e,t,n){return l(e)||c.apply(this,arguments)}function u(e,n,r){var i=this;var l;n=n==null?"WARN":n;var c="loglevel";if(typeof e==="string"){c+=":"+e}else if(typeof e==="symbol"){c=undefined}function u(e){var n=(o[e]||"silent").toUpperCase();if(typeof window===t||!c)return;try{window.localStorage[c]=n;return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}function a(){var e;if(typeof window===t||!c)return;try{e=window.localStorage[c]}catch(e){}if(typeof e===t){try{var n=window.document.cookie;var o=n.indexOf(encodeURIComponent(c)+"=");if(o!==-1){e=/^([^;]+)/.exec(n.slice(o))[1]}}catch(e){}}if(i.levels[e]===undefined){e=undefined}return e}function y(){if(typeof window===t||!c)return;try{window.localStorage.removeItem(c);return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}i.name=e;i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};i.methodFactory=r||s;i.getLevel=function(){return l};i.setLevel=function(n,o){if(typeof n==="string"&&i.levels[n.toUpperCase()]!==undefined){n=i.levels[n.toUpperCase()]}if(typeof n==="number"&&n>=0&&n<=i.levels.SILENT){l=n;if(o!==false){u(n)}f.call(i,n,e);if(typeof console===t&&n<i.levels.SILENT){return"No console available for logging"}}else{throw"log.setLevel() called with invalid level: "+n}};i.setDefaultLevel=function(e){n=e;if(!a()){i.setLevel(e,false)}};i.resetLevel=function(){i.setLevel(n,false);y()};i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)};i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var p=a();if(p==null){p=n}i.setLevel(p,false)}var a=new u;var y={};a.getLogger=function e(t){if(typeof t!=="symbol"&&typeof t!=="string"||t===""){throw new TypeError("You must supply a name when creating a logger.")}var n=y[t];if(!n){n=y[t]=new u(t,a.getLevel(),a.methodFactory)}return n};var p=typeof window!==t?window.log:undefined;a.noConflict=function(){if(typeof window!==t&&window.log===a){window.log=p}return a};a.getLoggers=function e(){return y};a["default"]=a;return a}))}));const r="object"==typeof window?window:"object"==typeof global?global:"object"==typeof self?self:{};let i=!0,l=!1;const f=/^[a-z][a-z0-9]{1,}(-[a-z0-9]+)?$/,c=e=>"string"==typeof e&&f.test(e),s=e=>{if(!1===c(e))throw new Error(`[Theming] The theme identifier "${"string"==typeof e?e:""}" (Type: ${typeof e}) is not valid. Please use only follow this pattern: /^[a-z][a-z0-9]{1,}(-[a-z0-9]+)?$/`)},u=(e,t,n)=>{s(e),!0===i&&!1===l&&(l=!0,o.warn(`[Theming] The theme process is locked. This means that the theme "${e}" should not be patched.\n\nimport { register } from '@a11y-ui/core';\nimport { defineCustomElements } from '...';\nimport { THEME } from '...';\n\nregister(THEME, defineCustomElements)\n\t.then(() => {\n\t\tconst htmlDivElement: HTMLElement | null = document.querySelector<HTMLElement>('#my-app');\n    if (htmlDivElement instanceof HTMLElement) {\n      const root = createRoot(htmlDivElement);\n      root.render(<App />);\n    }\n  })\n  .catch(console.warn);`)),"object"==typeof r.A11yUi&&null!==r.A11yUi||(r.A11yUi={}),"object"!=typeof r.A11yUi||null===r.A11yUi||"object"==typeof r.A11yUi.Themes&&null!==r.A11yUi.Themes||(r.A11yUi.Themes={}),"object"!=typeof r.A11yUi||null===r.A11yUi||"object"!=typeof r.A11yUi.Themes||null===r.A11yUi.Themes||"object"==typeof r.A11yUi.Themes[e]&&null!==r.A11yUi.Themes[e]||(r.A11yUi.Themes[e]={}),"object"==typeof r.A11yUi&&null!==r.A11yUi&&"object"==typeof r.A11yUi.Themes&&null!==r.A11yUi.Themes&&"object"==typeof r.A11yUi.Themes[e]&&null!==r.A11yUi.Themes[e]&&(r.A11yUi.Themes[e][t]=n)},a=(e,t)=>{if(s(e),"object"==typeof t&&null!==t){Object.getOwnPropertyNames(t).forEach((n=>{const o=t[n];"string"==typeof o&&o.length>0&&u(e,n,o)}))}return e},y=e=>{if(e instanceof HTMLElement){if("string"==typeof e.dataset.theme)return e;{let t=e.parentNode;for(;t instanceof ShadowRoot;)t=t.host;return y(t)}}return null},p=(e={})=>"false"!==e.themeEncroachCss&&"true"!==e.themeReset&&{mode:"after"===e.themeEncroachCssMode||"before"===e.themeEncroachCssMode?e.themeEncroachCssMode:"before"},d=()=>"object"==typeof r.A11yUi&&null!==r.A11yUi&&"object"==typeof r.A11yUi.Theme&&null!==r.A11yUi.Theme&&"boolean"==typeof r.A11yUi.Theme.cache&&"object"==typeof r.A11yUi.Theme.encroachCss&&null!==typeof r.A11yUi.Theme.encroachCss&&"string"==typeof r.A11yUi.Theme.encroachCss.mode&&"string"==typeof r.A11yUi.Theme.name,h=e=>{if(d())return r.A11yUi.Theme;{const t={cache:!0,encroachCss:p(),loglevel:"silent",name:null},n=y(e);return n instanceof HTMLElement&&(t.cache="false"!==n.dataset.themeCache,t.encroachCss=p(n.dataset),t.loglevel="debug"===n.dataset.themeLoglevel?n.dataset.themeLoglevel:"silent",t.name=n.dataset.theme||null),t}},w=(e,t)=>({cache:!1!==t.cache,detect:"auto"===t.detect?"auto":"fixed",encroachCss:!1!==t.encroachCss&&("object"!=typeof t.encroachCss||null==t.encroachCss||"after"!==t.encroachCss.mode&&"before"!==t.encroachCss.mode?{mode:"before"}:t.encroachCss),loglevel:"debug"===t.loglevel?t.loglevel:"silent",name:"string"==typeof t.name?t.name:e}),m=(e,t)=>{!1!==d()||0!=("object"==typeof r.A11yUi&&null!==r.A11yUi)&&0!=("object"==typeof r.A11yUi.Theme&&null!==r.A11yUi.Theme)&&"default"===r.A11yUi.Theme.name||"object"==typeof t&&null!==t&&("fixed"===(t=w(e,t)).detect?(null===t.name&&"string"==typeof e&&(t.name=e),e===t.name&&("object"==typeof r.A11yUi&&null!==r.A11yUi||(r.A11yUi={}),r.A11yUi.Theme=t,o.info(`[Theming] Theme "${e}" was set as default theme.`))):o.warn("[Theming] The presetting of theme options is only relevant by using 'fixed' detection mode."))};let b=!1;const g=(e,t,n={})=>{!1===b&&(b=!0,i=!1),"function"==typeof e?e=new Set([e]):Array.isArray(e)&&(e=new Set(e)),e instanceof Set&&e.forEach((e=>{"function"==typeof e&&1===e.length?m(e(a),{cache:n.theme?.cache,detect:n.theme?.detect,encroachCss:n.theme?.encroachCss,name:n.theme?.name}):o.error("[Theming] Es wurde versucht eine nicht kompatibles Theme zu laden.")})),i=!0,"function"==typeof t?t=new Set([t]):Array.isArray(t)&&(t=new Set(t));const r=[];return t.forEach((e=>r.push(e()))),Promise.all(r)};const T=new Map,v=[],E=new Set,j=new Map,S=/--[^;]+/g,A=/:/;"object"==typeof r.A11yUi&&null!==r.A11yUi||(r.A11yUi={CSS_STYLE_CACHE:j,HYDRATED_HISTORY:v,STYLING_TASK_QUEUE:T});const L=(e,t)=>{let n=t.match(S);if(Array.isArray(n)){n=n.filter((e=>A.test(e)));const t=document.createElement("style");t.innerHTML=`.${e} {${n.join(";")}}`,document.querySelector("head")?.appendChild(t)}E.add(e)},R=(e,t)=>"object"==typeof r.A11yUi&&null!==r.A11yUi&&"object"==typeof r.A11yUi.Themes&&null!==r.A11yUi.Themes&&"object"==typeof r.A11yUi.Themes[e]&&null!==r.A11yUi.Themes[e]&&"string"==typeof r.A11yUi.Themes[e][t]?r.A11yUi.Themes[e][t].replace(/\r?\n/g,""):"",C=e=>{for(const t of Array.from(e.childNodes)){if(!(t instanceof HTMLStyleElement&&"STYLE"===t.tagName))break;e.removeChild(t)}},D=(e,t)=>{try{const n=[];t.forEach((e=>{const t=new CSSStyleSheet;t.replaceSync(e),n.push(t)})),e.adoptedStyleSheets=n}catch(n){t.reverse().forEach((t=>{const n=document.createElement("style");n.innerHTML=t,e.insertBefore(n,e.firstChild)}))}},M=(e,t,n)=>{if(!1!==n){const o=[...Array.from(e.childNodes).filter((e=>e instanceof HTMLStyleElement&&"STYLE"===e.tagName))];let r;try{r=[...Array.from(e.adoptedStyleSheets)]}catch(e){r=[]}"before"===n?.mode?(o.reverse().forEach((e=>t.unshift(e.innerHTML))),r.reverse().forEach((e=>t.unshift(Array.from(e.cssRules).map((e=>e.cssText)).join(""))))):"after"===n?.mode&&(o.forEach((e=>t.push(e.innerHTML))),r.forEach((e=>t.push(Array.from(e.cssRules).map((e=>e.cssText)).join("")))))}},H=(e,t,n)=>{const o=t.name||"default";let r;try{if(null===e.shadowRoot)throw new Error("ShadowRoot is null");r=e.shadowRoot}catch(t){r=e}if(j.get(o)?.has(e.tagName))I(e,r,j.get(o)?.get(e.tagName),n);else{const i=R(o,"PROPERTIES"),l=R(o,"GLOBAL"),f=R(o,e.tagName);!1===E.has(o)&&L(o,l);const c=[i,l,f];M(r,c,t.encroachCss),"debug"===t.loglevel&&console.log(e.tagName,c),!0===t.cache&&(!1===j.has(o)&&j.set(o,new Map),j.get(o)?.set(e.tagName,c)),I(e,r,c,n)}},I=(e,t,n,o)=>{C(t),D(t,n),e.style.display=o},$=e=>{"debug"===e.loglevel&&v.push({timestamp:Date.now(),numberOfTasks:T.size})},O=(e,t)=>{T.set(e,{styleDisplay:e.style.display?`${e.style.display}`:null,themeDetails:t})},z=(e,t)=>{O(e,t),$(t)},U=e=>{T.delete(e)},Y=(e,t)=>{U(e),$(t)},x=e=>{const t=setTimeout((()=>{if(clearTimeout(t),T.has(e)&&e.classList.contains("hydrated")){const{styleDisplay:t,themeDetails:n}=T.get(e);H(e,n,t),Y(e,n)}else x(e)}),25)},N=e=>{for(const t of e)if(T.has(t.target)&&t.target.classList.contains("hydrated")){const{styleDisplay:e,themeDetails:n}=T.get(t.target);H(t.target,n,e),Y(t.target,n)}},F={attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1};let _;try{_=new MutationObserver(N)}catch(e){_=null}const k=(e,t)=>{z(e,t),_?_.observe(e,F):x(e),e.style.display="none"};export{r as S,u as a,h as g,a as p,g as r,k as s};
//# sourceMappingURL=index-3711603c.js.map