{"version":3,"names":["KolForm","this","onSubmit","event","preventDefault","_a","state","_on","_b","onReset","render","h","method","autoComplete","noValidate","_requiredText","translate","length","validateOn","value","Object","assign","validateRequiredText","watchBoolean","watchString","componentWillLoad"],"sources":["src/components/form/component.tsx"],"sourcesContent":["import { Component, h, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { translate } from '../../i18n';\r\nimport { Stringified } from '../../types/common';\r\nimport { watchBoolean, watchString } from '../../utils/prop.validators';\r\nimport { KoliBriFormAPI, KoliBriFormCallbacks, KoliBriFormStates } from './types';\r\n\r\n/**\r\n * @slot - Inhalt der Form.\r\n */\r\n@Component({\r\n\ttag: 'kol-form',\r\n\tshadow: true,\r\n})\r\nexport class KolForm implements KoliBriFormAPI {\r\n\tprivate readonly onSubmit = (event: Event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (typeof this.state._on?.onSubmit === 'function') {\r\n\t\t\tthis.state._on?.onSubmit(event as SubmitEvent);\r\n\t\t}\r\n\t};\r\n\tprivate readonly onReset = (event: Event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (typeof this.state._on?.onReset === 'function') {\r\n\t\t\tthis.state._on?.onReset(event);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\treturn (\r\n\t\t\t<form method=\"post\" onSubmit={this.onSubmit} onReset={this.onReset} autoComplete=\"off\" noValidate>\r\n\t\t\t\t{this.state._requiredText === true ? (\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<kol-indented-text>{translate('kol-form-description')}</kol-indented-text>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : typeof this.state._requiredText === 'string' && this.state._requiredText.length > 0 ? (\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<kol-indented-text>{this.state._requiredText}</kol-indented-text>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<slot />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Gibt die EventCallback-Funktionen für die Form-Events an.\r\n\t */\r\n\t@Prop() public _on?: KoliBriFormCallbacks;\r\n\r\n\t/**\r\n\t * Gibt an, ob der Pflichtfeld-Hinweis eingeblendet werden soll. Ein String überschreibt den Standardtext.\r\n\t */\r\n\t@Prop() public _requiredText?: Stringified<boolean> = true;\r\n\r\n\t@State() public state: KoliBriFormStates = {};\r\n\r\n\t@Watch('_on')\r\n\tpublic validateOn(value?: KoliBriFormCallbacks): void {\r\n\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\tthis.state = {\r\n\t\t\t\t...this.state,\r\n\t\t\t\t_on: value,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\t@Watch('_requiredText')\r\n\tpublic validateRequiredText(value?: Stringified<boolean>): void {\r\n\t\tif (typeof value === 'boolean') {\r\n\t\t\twatchBoolean(this, '_requiredText', value);\r\n\t\t} else {\r\n\t\t\twatchString(this, '_requiredText', value);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateOn(this._on);\r\n\t\tthis.validateRequiredText(this._requiredText);\r\n\t}\r\n}\r\n"],"mappings":";;;0SAcaA,EAAO,M,yBACFC,KAAAC,SAAYC,I,QAC5BA,EAAMC,iBACN,WAAWC,EAAAJ,KAAKK,MAAMC,OAAG,MAAAF,SAAA,SAAAA,EAAEH,YAAa,WAAY,EACnDM,EAAAP,KAAKK,MAAMC,OAAG,MAAAC,SAAA,SAAAA,EAAEN,SAASC,E,GAGVF,KAAAQ,QAAWN,I,QAC3BA,EAAMC,iBACN,WAAWC,EAAAJ,KAAKK,MAAMC,OAAG,MAAAF,SAAA,SAAAA,EAAEI,WAAY,WAAY,EAClDD,EAAAP,KAAKK,MAAMC,OAAG,MAAAC,SAAA,SAAAA,EAAEC,QAAQN,E,yCA6B4B,K,WAEX,E,CA3BpCO,SACN,OACCC,EAAA,QAAMC,OAAO,OAAOV,SAAUD,KAAKC,SAAUO,QAASR,KAAKQ,QAASI,aAAa,MAAMC,WAAU,MAC/Fb,KAAKK,MAAMS,gBAAkB,KAC7BJ,EAAA,SACCA,EAAA,yBAAoBK,EAAU,iCAErBf,KAAKK,MAAMS,gBAAkB,UAAYd,KAAKK,MAAMS,cAAcE,OAAS,EACrFN,EAAA,SACCA,EAAA,yBAAoBV,KAAKK,MAAMS,gBAE7B,KACJJ,EAAA,a,CAkBIO,WAAWC,GACjB,UAAWA,IAAU,UAAYA,IAAU,KAAM,CAChDlB,KAAKK,MAAKc,OAAAC,OAAAD,OAAAC,OAAA,GACNpB,KAAKK,OAAK,CACbC,IAAKY,G,EAMDG,qBAAqBH,GAC3B,UAAWA,IAAU,UAAW,CAC/BI,EAAatB,KAAM,gBAAiBkB,E,KAC9B,CACNK,EAAYvB,KAAM,gBAAiBkB,E,EAI9BM,oBACNxB,KAAKiB,WAAWjB,KAAKM,KACrBN,KAAKqB,qBAAqBrB,KAAKc,c"}