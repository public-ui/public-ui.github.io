{"version":3,"names":["defaultStyleCss","KolToast","this","handleShowAndDuration","state","_show","_showDuration","clearTimeout","durationTimeout","setTimeout","close","Object","assign","_a","_on","onClose","undefined","Event","on","_alert","_level","validateAlert","value","watchBoolean","validateHasCloser","validateHeading","watchString","validateLevel","watchHeadingLevel","validateOn","setState","validateShow","hooks","afterPatch","validateShowDuration","watchNumber","validateType","watchValidator","Set","componentWillLoad","_hasCloser","_heading","_type","render","h","Host","_variant"],"sources":["src/components/toast/style.css?tag=kol-toast&mode=default&encapsulation=shadow","src/components/toast/component.tsx"],"sourcesContent":["@import url(../style.css);\n@import url(../host-display-block.css);\n:host > div {\n\tbackground-color: #fff;\n\t/* needed for overlay situations */\n\theight: 0;\n\tleft: 0;\n\tposition: fixed;\n\ttop: 0;\n\twidth: 100%;\n\tz-index: 200;\n}\n:host > div > kol-alert {\n\tdisplay: block;\n\tmargin: auto;\n\tmax-width: 750px;\n}\n:host > div > kol-button-wc {\n\tdisplay: block;\n\tmargin: auto;\n\tposition: relative;\n\ttop: 0;\n\twidth: 1em;\n}\n","import { Component, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { HeadingLevel } from '../../types/heading-level';\r\nimport { validateHasCloser } from '../../types/props/has-closer';\r\nimport { validateShow } from '../../types/props/show';\r\nimport { KoliBriToastEventCallbacks } from '../../types/toast';\r\nimport { setState, watchBoolean, watchNumber, watchString, watchValidator } from '../../utils/prop.validators';\r\nimport { AlertType } from '../alert/types';\r\nimport { watchHeadingLevel } from '../heading/validation';\r\nimport { KoliBriToastAPI, KoliBriToastStates } from './types';\r\n\r\n/**\r\n * @slot - Der Inhalt der Meldung.\r\n */\r\n@Component({\r\n\ttag: 'kol-toast',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolToast implements KoliBriToastAPI {\r\n\t/**\r\n\t * Gibt an, ob der Screenreader die Meldung aktiv vorlesen soll.\r\n\t */\r\n\t@Prop() public _alert?: boolean = true;\r\n\r\n\t/**\r\n\t * Gibt an, ob die Komponente einen Schließen-Schalter hat.\r\n\t */\r\n\t@Prop() public _hasCloser?: boolean = false;\r\n\r\n\t/**\r\n\t * Gibt die Beschriftung der Komponente an.\r\n\t */\r\n\t@Prop() public _heading?: string = '';\r\n\r\n\t/**\r\n\t * Gibt an, welchen H-Level von 1 bis 6 die Überschrift hat. Oder bei 0, ob es keine Überschrift ist und als fett gedruckter Text angezeigt werden soll.\r\n\t */\r\n\t@Prop() public _level?: HeadingLevel = 1;\r\n\r\n\t/**\r\n\t * Gibt die EventCallback-Function für das Schließen des Toasts an.\r\n\t */\r\n\t@Prop() public _on?: KoliBriToastEventCallbacks;\r\n\r\n\t/**\r\n\t * Gibt an, ob die Komponente entweder ein- oder ausgeblendet ist.\r\n\t */\r\n\t@Prop({ mutable: true, reflect: true }) public _show?: boolean = true;\r\n\r\n\t/**\r\n\t * Gibt an, wie viele Millisekunden der Toast eingeblendet werden soll.\r\n\t */\r\n\t@Prop() public _showDuration?: number = 10000;\r\n\r\n\t/**\r\n\t * Setzt den Typ der Komponente oder des interaktiven Elements in der Komponente an.\r\n\t */\r\n\t@Prop() public _type?: AlertType = 'default';\r\n\r\n\t@State() public state: KoliBriToastStates = {\r\n\t\t_alert: true,\r\n\t\t_level: 1,\r\n\t\t_show: true,\r\n\t};\r\n\r\n\t@Watch('_alert')\r\n\tpublic validateAlert(value?: boolean): void {\r\n\t\twatchBoolean(this, '_alert', value);\r\n\t}\r\n\r\n\t@Watch('_hasCloser')\r\n\tpublic validateHasCloser(value?: boolean): void {\r\n\t\tvalidateHasCloser(this, value);\r\n\t}\r\n\r\n\t@Watch('_heading')\r\n\tpublic validateHeading(value?: string): void {\r\n\t\twatchString(this, '_heading', value);\r\n\t}\r\n\r\n\t@Watch('_level')\r\n\tpublic validateLevel(value?: HeadingLevel): void {\r\n\t\twatchHeadingLevel(this, value);\r\n\t}\r\n\r\n\t@Watch('_on')\r\n\tpublic validateOn(value?: KoliBriToastEventCallbacks): void {\r\n\t\tif (typeof value === 'object' && (typeof value?.onClose === 'function' || value.onClose === true)) {\r\n\t\t\tsetState<KoliBriToastEventCallbacks>(this, '_on', { onClose: value.onClose });\r\n\t\t}\r\n\t}\r\n\r\n\t@Watch('_show')\r\n\tpublic validateShow(value?: boolean): void {\r\n\t\tvalidateShow(this, value, { hooks: { afterPatch: this.handleShowAndDuration } });\r\n\t}\r\n\r\n\t@Watch('_showDuration')\r\n\tpublic validateShowDuration(value?: number): void {\r\n\t\twatchNumber(this, '_showDuration', value, {\r\n\t\t\thooks: {\r\n\t\t\t\tafterPatch: this.handleShowAndDuration,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_type')\r\n\tpublic validateType(value?: AlertType): void {\r\n\t\twatchValidator(\r\n\t\t\tthis,\r\n\t\t\t'_type',\r\n\t\t\t(value) => typeof value === 'string' && (value === 'default' || value === 'error' || value === 'info' || value === 'success' || value === 'warning'),\r\n\t\t\tnew Set('String {success, info, warning, error}'),\r\n\t\t\tvalue\r\n\t\t);\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateAlert(this._alert);\r\n\t\tthis.validateHasCloser(this._hasCloser);\r\n\t\tthis.validateHeading(this._heading);\r\n\t\tthis.validateLevel(this._level);\r\n\t\tthis.validateOn(this._on);\r\n\t\tthis.validateShow(this._show);\r\n\t\tthis.validateShowDuration(this._showDuration);\r\n\t\tthis.validateType(this._type);\r\n\t}\r\n\r\n\tprivate durationTimeout?: NodeJS.Timer;\r\n\r\n\tprivate readonly handleShowAndDuration = () => {\r\n\t\tif (this.state._show === true && typeof this.state._showDuration === 'number' && this.state._showDuration >= 0) {\r\n\t\t\tclearTimeout(this.durationTimeout as NodeJS.Timer);\r\n\t\t\tthis.durationTimeout = setTimeout(() => {\r\n\t\t\t\tthis.close();\r\n\t\t\t}, this.state._showDuration);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate readonly close = () => {\r\n\t\tthis._show = false;\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\t_show: false,\r\n\t\t};\r\n\r\n\t\tif (this._on?.onClose !== undefined) {\r\n\t\t\tthis._on.onClose(new Event('Close'));\r\n\t\t}\r\n\t};\r\n\r\n\tprivate readonly on = {\r\n\t\tonClose: this.close,\r\n\t};\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t{this.state._show && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<kol-alert\r\n\t\t\t\t\t\t\t_alert={this.state._alert}\r\n\t\t\t\t\t\t\t_heading={this.state._heading}\r\n\t\t\t\t\t\t\t_level={this.state._level}\r\n\t\t\t\t\t\t\t_hasCloser={this.state._hasCloser}\r\n\t\t\t\t\t\t\t_type={this.state._type}\r\n\t\t\t\t\t\t\t_variant=\"card\"\r\n\t\t\t\t\t\t\t// tabindex=\"0\"\r\n\t\t\t\t\t\t\t_on={this.on}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<slot />\r\n\t\t\t\t\t\t</kol-alert>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":";;;8XAAA,MAAMA,EAAkB,y7B,MCqBXC,EAAQ,M,yBAgHHC,KAAAC,sBAAwB,KACxC,GAAID,KAAKE,MAAMC,QAAU,aAAeH,KAAKE,MAAME,gBAAkB,UAAYJ,KAAKE,MAAME,eAAiB,EAAG,CAC/GC,aAAaL,KAAKM,iBAClBN,KAAKM,gBAAkBC,YAAW,KACjCP,KAAKQ,OAAO,GACVR,KAAKE,MAAME,c,GAICJ,KAAAQ,MAAQ,K,MACxBR,KAAKG,MAAQ,MACbH,KAAKE,MAAKO,OAAAC,OAAAD,OAAAC,OAAA,GACNV,KAAKE,OAAK,CACbC,MAAO,QAGR,KAAIQ,EAAAX,KAAKY,OAAG,MAAAD,SAAA,SAAAA,EAAEE,WAAYC,UAAW,CACpCd,KAAKY,IAAIC,QAAQ,IAAIE,MAAM,S,GAIZf,KAAAgB,GAAK,CACrBH,QAASb,KAAKQ,O,YAlImB,K,gBAKI,M,cAKH,G,YAKI,E,8BAU0B,K,mBAKzB,I,WAKL,U,WAES,CAC3CS,OAAQ,KACRC,OAAQ,EACRf,MAAO,K,CAIDgB,cAAcC,GACpBC,EAAarB,KAAM,SAAUoB,E,CAIvBE,kBAAkBF,GACxBE,EAAkBtB,KAAMoB,E,CAIlBG,gBAAgBH,GACtBI,EAAYxB,KAAM,WAAYoB,E,CAIxBK,cAAcL,GACpBM,EAAkB1B,KAAMoB,E,CAIlBO,WAAWP,GACjB,UAAWA,IAAU,kBAAoBA,IAAK,MAALA,SAAK,SAALA,EAAOP,WAAY,YAAcO,EAAMP,UAAY,MAAO,CAClGe,EAAqC5B,KAAM,MAAO,CAAEa,QAASO,EAAMP,S,EAK9DgB,aAAaT,GACnBS,EAAa7B,KAAMoB,EAAO,CAAEU,MAAO,CAAEC,WAAY/B,KAAKC,wB,CAIhD+B,qBAAqBZ,GAC3Ba,EAAYjC,KAAM,gBAAiBoB,EAAO,CACzCU,MAAO,CACNC,WAAY/B,KAAKC,wB,CAMbiC,aAAad,GACnBe,EACCnC,KACA,SACCoB,UAAiBA,IAAU,WAAaA,IAAU,WAAaA,IAAU,SAAWA,IAAU,QAAUA,IAAU,WAAaA,IAAU,YAC1I,IAAIgB,IAAI,0CACRhB,E,CAIKiB,oBACNrC,KAAKmB,cAAcnB,KAAKiB,QACxBjB,KAAKsB,kBAAkBtB,KAAKsC,YAC5BtC,KAAKuB,gBAAgBvB,KAAKuC,UAC1BvC,KAAKyB,cAAczB,KAAKkB,QACxBlB,KAAK2B,WAAW3B,KAAKY,KACrBZ,KAAK6B,aAAa7B,KAAKG,OACvBH,KAAKgC,qBAAqBhC,KAAKI,eAC/BJ,KAAKkC,aAAalC,KAAKwC,M,CA8BjBC,SACN,OACCC,EAACC,EAAI,KACH3C,KAAKE,MAAMC,OACXuC,EAAA,WACCA,EAAA,aACCzB,OAAQjB,KAAKE,MAAMe,OACnBsB,SAAUvC,KAAKE,MAAMqC,SACrBrB,OAAQlB,KAAKE,MAAMgB,OACnBoB,WAAYtC,KAAKE,MAAMoC,WACvBE,MAAOxC,KAAKE,MAAMsC,MAClBI,SAAS,OAEThC,IAAKZ,KAAKgB,IAEV0B,EAAA,e"}