/*!
 * KoliBri - The accessible HTML-Standard
 */
import{b as t,a as s,d as i,m as e,s as a}from"./prop.validators-0a66a178.js";import{S as o}from"./reuse-c2156413.js";import{I as r}from"./controller-19c67d91.js";const n=(s,i)=>{t(s,"_required",i)};const h=(t,s,i="")=>{s.forEach(((s,e)=>{const a=`${i}-${e}`;if(typeof s==="object"&&s!==null&&typeof s.label==="string"&&s.label.length>0){if(Array.isArray(s.options)){h(t,s.options,a)}else{t.set(a,s)}}}))};class l extends r{constructor(t,s,i){super(t,s,i);this.component=t}validateRequired(t){n(this.component,t)}componentWillLoad(){super.componentWillLoad();this.validateRequired(this.component._required)}}class c extends l{constructor(t,s,i){super(t,s,i);this.keyOptionMap=new Map;this.getOptionByKey=t=>this.keyOptionMap.get(t);this.isValueInOptions=(t,s)=>s.find((s=>s.value===t))!==undefined;this.beforePatchListValue=(t,s)=>{const i=s.has("_list")?s.get("_list"):this.component.state._list;if(Array.isArray(i)&&i.length>0){this.keyOptionMap.clear();h(this.keyOptionMap,i);const t=s.has("_value")?s.get("_value"):this.component.state._value;if(this.isValueInOptions(t,i)===false){const t=i[0].value;s.set("_value",t);this.onStateChange()}}};this.component=t}validateOrientation(t){s(this.component,"_orientation",(t=>t==="horizontal"||t==="vertical"),new Set(["Orientation {horizontal, vertical}"]),t,{defaultValue:"vertical"})}validateList(t){i(this.component,"_list",(t=>typeof t==="object"&&t!==null&&typeof t.label==="string"&&t.label.length>0),t,undefined,{hooks:{beforePatch:this.beforePatchListValue}})}validateValue(t){t=e(t);t=Array.isArray(t)?t[0]:t;a(this.component,"_value",t,{beforePatch:this.beforePatchListValue});this.setFormAssociatedValue(this.component._value)}componentWillLoad(t){super.componentWillLoad();this.onStateChange=()=>{if(typeof t==="function"){const s=setTimeout((()=>{clearTimeout(s);t(o)}))}};this.validateOrientation(this.component._orientation);this.validateList(this.component._list);this.validateValue(this.component._value)}}export{l as I,c as a,h as f};
//# sourceMappingURL=controller-ffdba8be.js.map