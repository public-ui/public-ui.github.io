{"version":3,"names":["InputFileController","InputIconController","constructor","component","name","host","super","this","validateAccept","value","watchString","validateMultiple","watchBoolean","validateRequired","validateValue","setFormAssociatedValue","_value","componentWillLoad","_accept","_multiple","_required","defaultStyleCss","KolInputFile","render","ariaDescribedBy","getRenderStates","state","showExpertSlot","_label","showDefaultSlot","h","Host","class","file","_hideLabel","_disabled","_error","_hint","_icon","_id","_smartButton","_touched","onClick","_a","ref","focus","slot","Object","assign","catchRef","title","accept","accessKey","_accessKey","length","join","undefined","autoCapitalize","autoCorrect","disabled","id","multiple","_name","required","spellcheck","type","controller","onFacade","onChange","hostRef","propagateFocus","event","HTMLInputElement","_on","files","nonce","validateAccessKey","validateAlert","validateDisabled","validateError","validateHideLabel","validateHint","validateIcon","validateId","validateLabel","validateName","validateOn","validateSmartButton","validateSyncValueBySelector","validateTabIndex","validateTouched","_alert"],"sources":["src/components/input-file/controller.ts","src/components/input-file/style.css?tag=kol-input-file&mode=default&encapsulation=shadow","src/components/input-file/component.tsx"],"sourcesContent":["import { Generic } from '@a11y-ui/core';\r\n\r\nimport { watchBoolean, watchString } from '../../utils/prop.validators';\r\nimport { InputIconController } from '../@deprecated/input/controller-icon';\r\nimport { Props, Watches } from './types';\r\n\r\nexport class InputFileController extends InputIconController implements Watches {\r\n\tprotected readonly component: Generic.Element.Component & Props;\r\n\r\n\tpublic constructor(component: Generic.Element.Component & Props, name: string, host?: HTMLElement) {\r\n\t\tsuper(component, name, host);\r\n\t\tthis.component = component;\r\n\t}\r\n\r\n\tpublic validateAccept(value?: string): void {\r\n\t\twatchString(this.component, '_accept', value);\r\n\t}\r\n\r\n\tpublic validateMultiple(value?: boolean): void {\r\n\t\twatchBoolean(this.component, '_multiple', value);\r\n\t}\r\n\r\n\tpublic validateRequired(value?: boolean): void {\r\n\t\twatchBoolean(this.component, '_required', value);\r\n\t}\r\n\r\n\tpublic validateValue(value?: string): void {\r\n\t\twatchString(this.component, '_value', value);\r\n\t\tthis.setFormAssociatedValue(this.component._value as string);\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tsuper.componentWillLoad();\r\n\t\tthis.validateAccept(this.component._accept);\r\n\t\tthis.validateMultiple(this.component._multiple);\r\n\t\tthis.validateRequired(this.component._required);\r\n\t\tthis.validateValue(this.component._value);\r\n\t}\r\n}\r\n","@import url(../input-line.css);\nlabel input[type='file']::-webkit-file-upload-button {\n\tdisplay: none;\n}\nlabel input[type='file']:before {\n\tcontent: 'Datei auswählen';\n}\nlabel input[multiple]:before {\n\tcontent: 'Dateien auswählen';\n}\ndiv.input {\n\tcursor: pointer;\n}\n","import { Component, Element, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { ButtonProps } from '../../types/button-link';\r\nimport { Stringified } from '../../types/common';\r\nimport { KoliBriHorizontalIcon } from '../../types/icon';\r\nimport { InputTypeOnDefault } from '../../types/input/types';\r\nimport { LabelWithExpertSlotPropType } from '../../types/props/label';\r\nimport { nonce } from '../../utils/dev.utils';\r\nimport { propagateFocus } from '../../utils/reuse';\r\nimport { getRenderStates } from '../input/controller';\r\nimport { InputFileController } from './controller';\r\nimport { ComponentApi, States } from './types';\r\n\r\n/**\r\n * @slot - Die Beschriftung des Eingabefeldes.\r\n */\r\n@Component({\r\n\ttag: 'kol-input-file',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolInputFile implements ComponentApi {\r\n\t@Element() private readonly host?: HTMLKolInputFileElement;\r\n\tprivate ref?: HTMLInputElement;\r\n\r\n\tprivate readonly catchRef = (ref?: HTMLInputElement) => {\r\n\t\tthis.ref = ref;\r\n\t\tpropagateFocus(this.host, this.ref);\r\n\t};\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\tconst { ariaDescribedBy } = getRenderStates(this.state);\r\n\t\tconst showExpertSlot = this.state._label === ''; // _label=\"\" or _label\r\n\t\tconst showDefaultSlot = this.state._label === '…'; // deprecated: default slot will be removed in v2.0.0\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<kol-input\r\n\t\t\t\t\tclass={{\r\n\t\t\t\t\t\tfile: true,\r\n\t\t\t\t\t\t'hide-label': !!this.state._hideLabel,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t_disabled={this.state._disabled}\r\n\t\t\t\t\t_error={this.state._error}\r\n\t\t\t\t\t_hideLabel={this.state._hideLabel}\r\n\t\t\t\t\t_hint={this.state._hint}\r\n\t\t\t\t\t_icon={this.state._icon}\r\n\t\t\t\t\t_id={this.state._id}\r\n\t\t\t\t\t_required={this.state._required}\r\n\t\t\t\t\t_smartButton={this.state._smartButton}\r\n\t\t\t\t\t_touched={this.state._touched}\r\n\t\t\t\t\tonClick={() => this.ref?.focus()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span slot=\"label\">{showExpertSlot ? <slot name=\"expert\"></slot> : showDefaultSlot ? <slot></slot> : this.state._label}</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={this.catchRef}\r\n\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\taccept={this.state._accept}\r\n\t\t\t\t\t\taccessKey={this.state._accessKey}\r\n\t\t\t\t\t\taria-describedby={ariaDescribedBy.length > 0 ? ariaDescribedBy.join(' ') : undefined}\r\n\t\t\t\t\t\taria-labelledby={`${this.state._id}-label`}\r\n\t\t\t\t\t\tautoCapitalize=\"off\"\r\n\t\t\t\t\t\tautoCorrect=\"off\"\r\n\t\t\t\t\t\tdisabled={this.state._disabled}\r\n\t\t\t\t\t\tid={this.state._id}\r\n\t\t\t\t\t\tmultiple={this.state._multiple}\r\n\t\t\t\t\t\tname={this.state._name}\r\n\t\t\t\t\t\trequired={this.state._required}\r\n\t\t\t\t\t\tslot=\"input\"\r\n\t\t\t\t\t\tspellcheck=\"false\"\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tvalue={this.state._value as string}\r\n\t\t\t\t\t\t{...this.controller.onFacade}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</kol-input>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate readonly controller: InputFileController;\r\n\r\n\t/**\r\n\t * Gibt an, welche Dateiformate erlaubt sind.\r\n\t */\r\n\t@Prop() public _accept?: string;\r\n\r\n\t/**\r\n\t * Gibt an, mit welcher Tastenkombination man das interaktive Element der Komponente auslösen oder fokussieren kann.\r\n\t */\r\n\t@Prop() public _accessKey?: string;\r\n\r\n\t/**\r\n\t * Gibt an, ob der Screenreader die Meldung aktiv vorlesen soll.\r\n\t */\r\n\t@Prop({ mutable: true, reflect: true }) public _alert?: boolean = true;\r\n\r\n\t/**\r\n\t * Deaktiviert das interaktive Element in der Komponente und erlaubt keine Interaktion mehr damit.\r\n\t */\r\n\t@Prop() public _disabled?: boolean;\r\n\r\n\t/**\r\n\t * Gibt den Text für eine Fehlermeldung an.\r\n\t */\r\n\t@Prop() public _error?: string;\r\n\r\n\t/**\r\n\t * Blendet die Beschriftung (Label) aus und zeigt sie stattdessen mittels eines Tooltips an.\r\n\t */\r\n\t@Prop() public _hideLabel?: boolean;\r\n\r\n\t/**\r\n\t * Gibt den Hinweistext an.\r\n\t */\r\n\t@Prop() public _hint?: string = '';\r\n\r\n\t/**\r\n\t * Setzt die Iconklasse (z.B.: `_icon=\"codicon codicon-home`).\r\n\t */\r\n\t@Prop() public _icon?: Stringified<KoliBriHorizontalIcon>;\r\n\r\n\t/**\r\n\t * Gibt die interne ID des primären Elements in der Komponente an.\r\n\t */\r\n\t@Prop() public _id?: string;\r\n\r\n\t/**\r\n\t * Setzt die sichtbare oder semantische Beschriftung der Komponente (z.B. Aria-Label, Label, Headline, Caption, Summary usw.).\r\n\t */\r\n\t@Prop() public _label!: LabelWithExpertSlotPropType;\r\n\r\n\t/**\r\n\t * Gibt an, ob mehrere Werte eingegeben werden können.\r\n\t */\r\n\t@Prop() public _multiple?: boolean;\r\n\r\n\t/**\r\n\t * Gibt den technischen Namen des Eingabefeldes an.\r\n\t */\r\n\t@Prop() public _name?: string;\r\n\r\n\t/**\r\n\t * Gibt die EventCallback-Funktionen für das Input-Event an.\r\n\t */\r\n\t@Prop() public _on?: InputTypeOnDefault;\r\n\r\n\t/**\r\n\t * Macht das Eingabeelement zu einem Pflichtfeld.\r\n\t */\r\n\t@Prop() public _required?: boolean;\r\n\r\n\t/**\r\n\t * Ermöglicht eine Schaltfläche ins das Eingabefeld mit einer beliebigen Aktion zu einzufügen (ohne label).\r\n\t */\r\n\t@Prop() public _smartButton?: ButtonProps;\r\n\r\n\t/**\r\n\t * Selector for synchronizing the value with another input element.\r\n\t * @internal\r\n\t */\r\n\t@Prop() public _syncValueBySelector?: string;\r\n\r\n\t/**\r\n\t * Gibt an, welchen Tab-Index das primäre Element in der Komponente hat. (https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex)\r\n\t */\r\n\t@Prop() public _tabIndex?: number;\r\n\r\n\t/**\r\n\t * Gibt an, ob dieses Eingabefeld von Nutzer:innen einmal besucht/berührt wurde.\r\n\t */\r\n\t@Prop({ mutable: true, reflect: true }) public _touched?: boolean = false;\r\n\r\n\t/**\r\n\t * Gibt den Wert des Eingabefeldes an.\r\n\t */\r\n\t@Prop() public _value?: string;\r\n\r\n\t@State() public state: States = {\r\n\t\t_id: nonce(), // ⚠ required\r\n\t\t_label: false, // ⚠ required\r\n\t};\r\n\r\n\tpublic constructor() {\r\n\t\tthis.controller = new InputFileController(this, 'file', this.host);\r\n\t}\r\n\r\n\t@Watch('_accept')\r\n\tpublic validateAccept(value?: string): void {\r\n\t\tthis.controller.validateAccept(value);\r\n\t}\r\n\r\n\t@Watch('_accessKey')\r\n\tpublic validateAccessKey(value?: string): void {\r\n\t\tthis.controller.validateAccessKey(value);\r\n\t}\r\n\r\n\t@Watch('_alert')\r\n\tpublic validateAlert(value?: boolean): void {\r\n\t\tthis.controller.validateAlert(value);\r\n\t}\r\n\r\n\t@Watch('_disabled')\r\n\tpublic validateDisabled(value?: boolean): void {\r\n\t\tthis.controller.validateDisabled(value);\r\n\t}\r\n\r\n\t@Watch('_error')\r\n\tpublic validateError(value?: string): void {\r\n\t\tthis.controller.validateError(value);\r\n\t}\r\n\r\n\t@Watch('_hideLabel')\r\n\tpublic validateHideLabel(value?: boolean): void {\r\n\t\tthis.controller.validateHideLabel(value);\r\n\t}\r\n\r\n\t@Watch('_hint')\r\n\tpublic validateHint(value?: string): void {\r\n\t\tthis.controller.validateHint(value);\r\n\t}\r\n\r\n\t@Watch('_icon')\r\n\tpublic validateIcon(value?: Stringified<KoliBriHorizontalIcon>): void {\r\n\t\tthis.controller.validateIcon(value);\r\n\t}\r\n\r\n\t@Watch('_id')\r\n\tpublic validateId(value?: string): void {\r\n\t\tthis.controller.validateId(value);\r\n\t}\r\n\r\n\t@Watch('_label')\r\n\tpublic validateLabel(value?: LabelWithExpertSlotPropType): void {\r\n\t\tthis.controller.validateLabel(value);\r\n\t}\r\n\r\n\t@Watch('_multiple')\r\n\tpublic validateMultiple(value?: boolean): void {\r\n\t\tthis.controller.validateMultiple(value);\r\n\t}\r\n\r\n\t@Watch('_name')\r\n\tpublic validateName(value?: string): void {\r\n\t\tthis.controller.validateName(value);\r\n\t}\r\n\r\n\t@Watch('_on')\r\n\tpublic validateOn(value?: InputTypeOnDefault): void {\r\n\t\tthis.controller.validateOn(value);\r\n\t}\r\n\r\n\t@Watch('_required')\r\n\tpublic validateRequired(value?: boolean): void {\r\n\t\tthis.controller.validateRequired(value);\r\n\t}\r\n\r\n\t@Watch('_smartButton')\r\n\tpublic validateSmartButton(value?: ButtonProps | string): void {\r\n\t\tthis.controller.validateSmartButton(value);\r\n\t}\r\n\r\n\t@Watch('_syncValueBySelector')\r\n\tpublic validateSyncValueBySelector(value?: string): void {\r\n\t\tthis.controller.validateSyncValueBySelector(value);\r\n\t}\r\n\r\n\t@Watch('_tabIndex')\r\n\tpublic validateTabIndex(value?: number): void {\r\n\t\tthis.controller.validateTabIndex(value);\r\n\t}\r\n\r\n\t@Watch('_touched')\r\n\tpublic validateTouched(value?: boolean): void {\r\n\t\tthis.controller.validateTouched(value);\r\n\t}\r\n\r\n\t@Watch('_value')\r\n\tpublic validateValue(value?: string): void {\r\n\t\tthis.controller.validateValue(value);\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis._alert = this._alert === true;\r\n\t\tthis._touched = this._touched === true;\r\n\t\tthis.controller.componentWillLoad();\r\n\t}\r\n\r\n\tprivate onChange = (event: Event) => {\r\n\t\tif (this.ref instanceof HTMLInputElement && this.ref.type === 'file' && typeof this.state._on?.onChange === 'function') {\r\n\t\t\tthis.state._on.onChange(event, this.ref.files);\r\n\t\t}\r\n\t};\r\n}\r\n"],"mappings":"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"}