{"version":3,"names":["defaultStyleCss","featureHint","KolBadge","this","bgColorStr","colorStr","id","nonce","handleColorChange","value","colorPair","backgroundColor","foregroundColor","_color","_label","render","h","Host","class","state","_smartButton","style","color","_icon","_hideLabel","_iconOnly","_ariaControls","_customClass","_disabled","_id","_on","_tooltipAlign","_variant","validateColor","defaultValue","hooks","beforePatch","validateLabel","afterPatch","length","a11yHint","validateSmartButton","objectObjectHandler","parseJson","e","setState","componentWillLoad"],"sources":["src/components/badge/style.css?tag=kol-badge&mode=default&encapsulation=shadow","src/components/badge/component.tsx"],"sourcesContent":["@import url(../style.css);\n:host > span {\n\tdisplay: inline-flex;\n\tplace-items: center;\n}\n:host > span > kol-button-wc button {\n\tcolor: inherit;\n}\n","import { Component, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { ButtonProps } from '../../types/button-link';\r\nimport { Stringified } from '../../types/common';\r\nimport { KoliBriIconProp } from '../../types/icon';\r\nimport { handleColorChange, PropColor, validateColor } from '../../types/props/color';\r\nimport { LabelPropType, validateLabel } from '../../types/props/label';\r\nimport { a11yHint, featureHint } from '../../utils/a11y.tipps';\r\nimport { nonce } from '../../utils/dev.utils';\r\nimport { objectObjectHandler, parseJson, setState } from '../../utils/prop.validators';\r\nimport { KoliBriBadgeProps, KoliBriBadgeStates } from './types';\r\n\r\nfeatureHint(`[KolBadge] Optimierung des _color-Properties (rgba, rgb, hex usw.).`);\r\n\r\n@Component({\r\n\ttag: 'kol-badge',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolBadge implements KoliBriBadgeProps {\r\n\tprivate bgColorStr = '#000';\r\n\tprivate colorStr = '#fff';\r\n\tprivate readonly id = nonce();\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t'smart-button': typeof this.state._smartButton === 'object' && this.state._smartButton !== null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundColor: this.bgColorStr,\r\n\t\t\t\t\t\tcolor: this.colorStr,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<kol-span-wc id={this.id} _icon={this._icon} _hideLabel={this._hideLabel || this._iconOnly} _label={this.state._label}></kol-span-wc>\r\n\t\t\t\t\t{typeof this.state._smartButton === 'object' && this.state._smartButton !== null && (\r\n\t\t\t\t\t\t<kol-button-wc\r\n\t\t\t\t\t\t\t_ariaControls={this.id}\r\n\t\t\t\t\t\t\t_customClass={this.state._smartButton._customClass}\r\n\t\t\t\t\t\t\t_disabled={this.state._smartButton._disabled}\r\n\t\t\t\t\t\t\t_hideLabel={true}\r\n\t\t\t\t\t\t\t_icon={this.state._smartButton._icon}\r\n\t\t\t\t\t\t\t_id={this.state._smartButton._id}\r\n\t\t\t\t\t\t\t_label={this.state._smartButton._label}\r\n\t\t\t\t\t\t\t_on={this.state._smartButton._on}\r\n\t\t\t\t\t\t\t_tooltipAlign={this.state._smartButton._tooltipAlign}\r\n\t\t\t\t\t\t\t_variant={this.state._smartButton._variant}\r\n\t\t\t\t\t\t></kol-button-wc>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</span>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Setzt die Hintergrundfarbe.\r\n\t */\r\n\t@Prop() public _color?: Stringified<PropColor> = '#000';\r\n\r\n\t/**\r\n\t * Blendet die Beschriftung (Label) aus und zeigt sie stattdessen mittels eines Tooltips an.\r\n\t */\r\n\t@Prop() public _hideLabel?: boolean = false;\r\n\r\n\t/**\r\n\t * Setzt die Iconklasse (z.B.: `_icon=\"codicon codicon-home`).\r\n\t */\r\n\t@Prop() public _icon?: Stringified<KoliBriIconProp>;\r\n\r\n\t/**\r\n\t * Blendet die Beschriftung (Label) aus und zeigt sie stattdessen mittels eines Tooltips an.\r\n\t * @deprecated use _hide-label\r\n\t */\r\n\t@Prop() public _iconOnly?: boolean;\r\n\r\n\t/**\r\n\t * Setzt die sichtbare oder semantische Beschriftung der Komponente (z.B. Aria-Label, Label, Headline, Caption, Summary usw.).\r\n\t */\r\n\t@Prop() public _label!: LabelPropType;\r\n\r\n\t/**\r\n\t * Ermöglicht einen Schalter ins das Eingabefeld mit einer beliebigen Aktion zu einzufügen (nur _hide-label).\r\n\t */\r\n\t@Prop() public _smartButton?: Stringified<ButtonProps>;\r\n\r\n\t@State() public state: KoliBriBadgeStates = {\r\n\t\t_color: {\r\n\t\t\tbackgroundColor: '#000',\r\n\t\t\tforegroundColor: '#fff',\r\n\t\t},\r\n\t\t_label: '…', // ⚠ required\r\n\t};\r\n\r\n\tprivate handleColorChange = (value: unknown) => {\r\n\t\tconst colorPair = handleColorChange(value);\r\n\t\tthis.bgColorStr = colorPair.backgroundColor;\r\n\t\tthis.colorStr = colorPair.foregroundColor as string;\r\n\t};\r\n\r\n\t@Watch('_color')\r\n\tpublic validateColor(value?: Stringified<PropColor>): void {\r\n\t\tvalidateColor(this, value, {\r\n\t\t\tdefaultValue: '#000',\r\n\t\t\thooks: {\r\n\t\t\t\tbeforePatch: this.handleColorChange,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_label')\r\n\tpublic validateLabel(value?: LabelPropType): void {\r\n\t\tvalidateLabel(this, value, {\r\n\t\t\thooks: {\r\n\t\t\t\tafterPatch: (value) => {\r\n\t\t\t\t\tif (typeof value === 'string' && value.length > 32) {\r\n\t\t\t\t\t\ta11yHint(`[KolBadge] The label is too long for a badge (${value.length} > 32).`);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_smartButton')\r\n\tpublic validateSmartButton(value?: ButtonProps | string): void {\r\n\t\tobjectObjectHandler(value, () => {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = parseJson<ButtonProps>(value as string);\r\n\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t}\r\n\t\t\tsetState(this, '_smartButton', value);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateColor(this._color);\r\n\t\tthis.validateLabel(this._label);\r\n\t\tthis.validateSmartButton(this._smartButton);\r\n\t}\r\n}\r\n"],"mappings":";;;qWAAA,MAAMA,EAAkB,uxBCYxBC,EAAY,uE,MASCC,EAAQ,M,yBACZC,KAAAC,WAAa,OACbD,KAAAE,SAAW,OACFF,KAAAG,GAAKC,IAyEdJ,KAAAK,kBAAqBC,IAC5B,MAAMC,EAAYF,EAAkBC,GACpCN,KAAKC,WAAaM,EAAUC,gBAC5BR,KAAKE,SAAWK,EAAUE,eAAyB,E,YAvCH,O,gBAKX,M,2GAuBM,CAC3CC,OAAQ,CACPF,gBAAiB,OACjBC,gBAAiB,QAElBE,OAAQ,I,CApEFC,SACN,OACCC,EAACC,EAAI,KACJD,EAAA,QACCE,MAAO,CACN,sBAAuBf,KAAKgB,MAAMC,eAAiB,UAAYjB,KAAKgB,MAAMC,eAAiB,MAE5FC,MAAO,CACNV,gBAAiBR,KAAKC,WACtBkB,MAAOnB,KAAKE,WAGbW,EAAA,eAAaV,GAAIH,KAAKG,GAAIiB,MAAOpB,KAAKoB,MAAOC,WAAYrB,KAAKqB,YAAcrB,KAAKsB,UAAWX,OAAQX,KAAKgB,MAAML,gBACvGX,KAAKgB,MAAMC,eAAiB,UAAYjB,KAAKgB,MAAMC,eAAiB,MAC3EJ,EAAA,iBACCU,cAAevB,KAAKG,GACpBqB,aAAcxB,KAAKgB,MAAMC,aAAaO,aACtCC,UAAWzB,KAAKgB,MAAMC,aAAaQ,UACnCJ,WAAY,KACZD,MAAOpB,KAAKgB,MAAMC,aAAaG,MAC/BM,IAAK1B,KAAKgB,MAAMC,aAAaS,IAC7Bf,OAAQX,KAAKgB,MAAMC,aAAaN,OAChCgB,IAAK3B,KAAKgB,MAAMC,aAAaU,IAC7BC,cAAe5B,KAAKgB,MAAMC,aAAaW,cACvCC,SAAU7B,KAAKgB,MAAMC,aAAaY,Y,CAsDjCC,cAAcxB,GACpBwB,EAAc9B,KAAMM,EAAO,CAC1ByB,aAAc,OACdC,MAAO,CACNC,YAAajC,KAAKK,oB,CAMd6B,cAAc5B,GACpB4B,EAAclC,KAAMM,EAAO,CAC1B0B,MAAO,CACNG,WAAa7B,IACZ,UAAWA,IAAU,UAAYA,EAAM8B,OAAS,GAAI,CACnDC,EAAS,iDAAiD/B,EAAM8B,gB,MAQ9DE,oBAAoBhC,GAC1BiC,EAAoBjC,GAAO,KAC1B,IACCA,EAAQkC,EAAuBlC,E,CAE9B,MAAOmC,G,CAGTC,EAAS1C,KAAM,eAAgBM,EAAM,G,CAIhCqC,oBACN3C,KAAK8B,cAAc9B,KAAKU,QACxBV,KAAKkC,cAAclC,KAAKW,QACxBX,KAAKsC,oBAAoBtC,KAAKiB,a"}