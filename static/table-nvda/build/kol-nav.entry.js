/*!
 * KoliBri - The accessible HTML-Standard
 */
import{r as t,h as i,H as a}from"./index-330c31f9.js";import{a as e}from"./i18n-931157b2.js";import{b as n,a as s}from"./prop.validators-0a66a178.js";import{v as o}from"./label-8d64163d.js";import{h as l,b as r,d as c}from"./a11y.tipps-beae7792.js";import{w as h}from"./validation-78ce9756.js";import"./index-fc511254.js";import"./index-3711603c.js";import"./dev.utils-5b0de6da.js";import"./reuse-c2156413.js";const d=(t,i)=>{n(t,"_collapsible",i)};const p=(t,i)=>{n(t,"_compact",i)};const u=(t,i)=>{n(t,"_hasCompactButton",i)};const m=":host{--a11y-min-size:44px;font-size:inherit}*{hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}[role='button'],button:not([role='link']),kol-input .input{min-height:var(--a11y-min-size);min-width:var(--a11y-min-size)}a,button,h1,h2,h3,h4,h5,h6,input,option,select,textarea{font-family:inherit;font-size:inherit}:is(a,button){background-color:transparent;border:none;margin:0;padding:0;width:100%;}:host{max-width:100%}*{box-sizing:border-box}kol-span-wc{display:grid;place-items:center}kol-span-wc>span{display:flex;place-items:center}a,button{cursor:pointer}button,input,option,select,textarea{font-family:inherit}.icon-only>kol-span-wc>span>span{display:none}:host>div{display:grid;place-items:center}nav{width:100%}.list{display:flex;list-style:none;margin:0;padding:0}.list.vertical{flex-direction:column}.entry{display:flex}.entry kol-button-wc:first-child,.entry kol-link-wc,.entry kol-span-wc{flex-grow:1}.entry kol-span-wc{justify-items:start}";const v=new Set;function b(t){if(v.has(t)){console.error(`There already is a kol-nav with the label "${t}"`)}else{v.add(t)}}function f(t){v.delete(t)}const _=class{constructor(a){t(this,a);this.onClick=t=>{t._active=!t._active;this.state=Object.assign({},this.state)};this.hasActiveChild=t=>{if(Array.isArray(t._children)&&t._children.length>0){return t._children.some(this.hasActiveChild)}return false};this.linkList=t=>i("ul",{class:`list ${t.deep===0&&t.orientation==="horizontal"?" horizontal":" vertical"}`,"data-deep":t.deep},t.links.map(((i,a)=>this.li(t.collapsible,t.compact,t.deep,a,i,t.orientation))));this._ariaCurrentValue=false;this._ariaLabel=undefined;this._collapsible=true;this._compact=false;this._hasCompactButton=false;this._label=undefined;this._links=undefined;this._orientation="vertical";this._variant="primary";this.state={_ariaCurrentValue:false,_label:"…",_collapsible:true,_hasCompactButton:false,_links:[],_orientation:"vertical",_variant:"primary"}}entry(t,a,e,n,s){return i("div",{class:"entry"},i("kol-button-link-text-switch",{"_has-children":e,"_hide-label":a,_link:n,_selected:s}),e?this.expandButton(t,n,s):"")}expandButton(t,a,e){return i("kol-button-wc",{class:"expand-button",_ariaExpanded:e,_disabled:!t,_icon:"codicon codicon-"+(e?"remove":"add"),_hideLabel:true,_label:`Untermenü zu ${a._label} ${e?"schließen":"öffnen"}`,_on:{onClick:()=>this.onClick(a)}})}li(t,a,e,n,s,o){const l=Array.isArray(s._children)&&s._children.length>0;const r=!!s._active;const c=l&&!!s._active;return i("li",{class:{expanded:c,selected:r,"has-children":l},key:n},this.entry(t,a,l,s,r),l&&r?i(this.linkList,{collapsible:t,compact:a,deep:e+1,links:s._children||[],orientation:o}):"")}render(){let t=this.state._hasCompactButton;if(this.state._orientation==="horizontal"&&this.state._hasCompactButton===true){t=false;l(`[KolNav] Wenn eine horizontale Navigation verwendet wird, kann die Option _hasCompactButton nicht aktiviert werden.`)}const n=this.state._collapsible===true;const s=this.state._compact===true;const o=this.state._orientation;return i(a,null,i("div",{class:{[o]:true,[this.state._variant]:true}},i("nav",{"aria-label":this.state._label,id:"nav"},i(this.linkList,{collapsible:n,compact:s,deep:0,links:this.state._links,orientation:o})),t&&i("div",{class:"mt-2 w-full compact"},i("kol-button",{_ariaControls:"nav",_ariaExpanded:!s,_icon:s?"codicon codicon-chevron-right":"codicon codicon-chevron-left",_hideLabel:true,_label:e(s?"kol-nav-maximize":"kol-nav-minimize"),_on:{onClick:()=>{this.state=Object.assign(Object.assign({},this.state),{_compact:this.state._compact===false})}},_tooltipAlign:"right",_variant:"ghost"}))))}validateAriaCurrentValue(t){s(this,"_ariaCurrentValue",(t=>t===true||t==="date"||t==="location"||t==="page"||t==="step"||t==="time"),new Set(["boolean","String {data, location, page, step, time}"]),t)}validateAriaLabel(t){this.validateLabel(t)}validateCollapsible(t){d(this,t)}validateCompact(t){p(this,t)}validateHasCompactButton(t){u(this,t)}validateLabel(t){f(this.state._label);o(this,t);r(t);b(this.state._label)}validateLinks(t){h("KolNav",this,t);c(`[KolNav] Die Navigationsstruktur wird noch nicht rekursiv validiert.`)}validateOrientation(t){s(this,"_orientation",(t=>t==="horizontal"||t==="vertical"),new Set(["Orientation {horizontal, vertical}"]),t,{defaultValue:"vertical"})}validateVariant(t){s(this,"_variant",(t=>t==="primary"||t==="secondary"),new Set(["KoliBriNavVariant {primary, secondary}"]),t,{defaultValue:"primary"})}componentWillLoad(){this.validateAriaCurrentValue(this._ariaCurrentValue);this.validateCollapsible(this._collapsible);this.validateCompact(this._compact);this.validateHasCompactButton(this._hasCompactButton);this.validateLabel(this._label||this._ariaLabel);this.validateLinks(this._links);this.validateOrientation(this._orientation);this.validateVariant(this._variant)}disconnectedCallback(){f(this.state._label)}static get watchers(){return{_ariaCurrentValue:["validateAriaCurrentValue"],_ariaLabel:["validateAriaLabel"],_collapsible:["validateCollapsible"],_compact:["validateCompact"],_hasCompactButton:["validateHasCompactButton"],_label:["validateLabel"],_links:["validateLinks"],_orientation:["validateOrientation"],_variant:["validateVariant"]}}};_.style={default:m};export{_ as kol_nav};
//# sourceMappingURL=kol-nav.entry.js.map