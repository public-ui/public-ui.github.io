/*!
 * KoliBri - The accessible HTML-Standard
 */
function t(t){return t.split("-")[1]}function n(t){return t==="y"?"height":"width"}function e(t){return t.split("-")[0]}function o(t){return["top","bottom"].includes(e(t))?"x":"y"}function i(i,r,s){let{reference:c,floating:l}=i;const f=c.x+c.width/2-l.width/2;const a=c.y+c.height/2-l.height/2;const u=o(r);const d=n(u);const m=c[d]/2-l[d]/2;const y=e(r);const p=u==="x";let h;switch(y){case"top":h={x:f,y:c.y-l.height};break;case"bottom":h={x:f,y:c.y+c.height};break;case"right":h={x:c.x+c.width,y:a};break;case"left":h={x:c.x-l.width,y:a};break;default:h={x:c.x,y:c.y}}switch(t(r)){case"start":h[u]-=m*(s&&p?-1:1);break;case"end":h[u]+=m*(s&&p?-1:1);break}return h}const r=async(t,n,e)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:c}=e;const l=s.filter(Boolean);const f=await(c.isRTL==null?void 0:c.isRTL(n));let a=await c.getElementRects({reference:t,floating:n,strategy:r});let{x:u,y:d}=i(a,o,f);let m=o;let y={};let p=0;for(let e=0;e<l.length;e++){const{name:s,fn:h}=l[e];const{x,y:g,data:w,reset:b}=await h({x:u,y:d,initialPlacement:o,placement:m,strategy:r,middlewareData:y,rects:a,platform:c,elements:{reference:t,floating:n}});u=x!=null?x:u;d=g!=null?g:d;y={...y,[s]:{...y[s],...w}};if(b&&p<=50){p++;if(typeof b==="object"){if(b.placement){m=b.placement}if(b.rects){a=b.rects===true?await c.getElementRects({reference:t,floating:n,strategy:r}):b.rects}({x:u,y:d}=i(a,m,f))}e=-1;continue}}return{x:u,y:d,placement:m,strategy:r,middlewareData:y}};function s(t,n){return typeof t==="function"?t(n):t}function c(t){return{top:0,right:0,bottom:0,left:0,...t}}function l(t){return typeof t!=="number"?c(t):{top:t,right:t,bottom:t,left:t}}function f(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function a(t,n){var e;if(n===void 0){n={}}const{x:o,y:i,platform:r,rects:c,elements:a,strategy:u}=t;const{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:p=false,padding:h=0}=s(n,t);const x=l(h);const g=y==="floating"?"reference":"floating";const w=a[p?g:y];const b=f(await r.getClippingRect({element:((e=await(r.isElement==null?void 0:r.isElement(w)))!=null?e:true)?w:w.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:d,rootBoundary:m,strategy:u}));const v=y==="floating"?{...c.floating,x:o,y:i}:c.reference;const A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating));const R=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1};const S=f(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:A,strategy:u}):v);return{top:(b.top-S.top+x.top)/R.y,bottom:(S.bottom-b.bottom+x.bottom)/R.y,left:(b.left-S.left+x.left)/R.x,right:(S.right-b.right+x.right)/R.x}}const u=Math.min;const d=Math.max;function m(t,n,e){return d(t,u(n,e))}const y=e=>({name:"arrow",options:e,async fn(i){const{x:r,y:c,placement:f,rects:a,platform:d,elements:y}=i;const{element:p,padding:h=0}=s(e,i)||{};if(p==null){return{}}const x=l(h);const g={x:r,y:c};const w=o(f);const b=n(w);const v=await d.getDimensions(p);const A=w==="y";const R=A?"top":"left";const S=A?"bottom":"right";const k=A?"clientHeight":"clientWidth";const F=a.reference[b]+a.reference[w]-g[w]-a.floating[b];const M=g[w]-a.reference[w];const O=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let P=O?O[k]:0;if(!P||!await(d.isElement==null?void 0:d.isElement(O))){P=y.floating[k]||a.floating[b]}const T=F/2-M/2;const C=P/2-v[b]/2-1;const z=u(x[R],C);const D=u(x[S],C);const B=z;const L=P-v[b]-D;const E=P/2-v[b]/2+T;const I=m(B,E,L);const q=t(f)!=null&&E!=I&&a.reference[b]/2-(E<B?z:D)-v[b]/2<0;const N=q?E<B?B-E:L-E:0;return{[w]:g[w]-N,data:{[w]:I,centerOffset:E-I+N}}}});const p={left:"right",right:"left",bottom:"top",top:"bottom"};function h(t){return t.replace(/left|right|bottom|top/g,(t=>p[t]))}function x(e,i,r){if(r===void 0){r=false}const s=t(e);const c=o(e);const l=n(c);let f=c==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";if(i.reference[l]>i.floating[l]){f=h(f)}return{main:f,cross:h(f)}}const g={start:"end",end:"start"};function w(t){return t.replace(/start|end/g,(t=>g[t]))}function b(t){const n=h(t);return[w(t),n,w(n)]}function v(t,n,e){const o=["left","right"];const i=["right","left"];const r=["top","bottom"];const s=["bottom","top"];switch(t){case"top":case"bottom":if(e)return n?i:o;return n?o:i;case"left":case"right":return n?r:s;default:return[]}}function A(n,o,i,r){const s=t(n);let c=v(e(n),i==="start",r);if(s){c=c.map((t=>t+"-"+s));if(o){c=c.concat(c.map(w))}}return c}const R=function(t){if(t===void 0){t={}}return{name:"flip",options:t,async fn(n){var o;const{placement:i,middlewareData:r,rects:c,initialPlacement:l,platform:f,elements:u}=n;const{mainAxis:d=true,crossAxis:m=true,fallbackPlacements:y,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=true,...v}=s(t,n);const R=e(i);const S=e(l)===l;const k=await(f.isRTL==null?void 0:f.isRTL(u.floating));const F=y||(S||!w?[h(l)]:b(l));if(!y&&g!=="none"){F.push(...A(l,w,g,k))}const M=[l,...F];const O=await a(n,v);const P=[];let T=((o=r.flip)==null?void 0:o.overflows)||[];if(d){P.push(O[R])}if(m){const{main:t,cross:n}=x(i,c,k);P.push(O[t],O[n])}T=[...T,{placement:i,overflows:P}];if(!P.every((t=>t<=0))){var C,z;const t=(((C=r.flip)==null?void 0:C.index)||0)+1;const n=M[t];if(n){return{data:{index:t,overflows:T},reset:{placement:n}}}let e=(z=T.filter((t=>t.overflows[0]<=0)).sort(((t,n)=>t.overflows[1]-n.overflows[1]))[0])==null?void 0:z.placement;if(!e){switch(p){case"bestFit":{var D;const t=(D=T.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,n)=>t+n),0)])).sort(((t,n)=>t[1]-n[1]))[0])==null?void 0:D[0];if(t){e=t}break}case"initialPlacement":e=l;break}}if(i!==e){return{reset:{placement:e}}}}return{}}}};async function S(n,i){const{placement:r,platform:c,elements:l}=n;const f=await(c.isRTL==null?void 0:c.isRTL(l.floating));const a=e(r);const u=t(r);const d=o(r)==="x";const m=["left","top"].includes(a)?-1:1;const y=f&&d?-1:1;const p=s(i,n);let{mainAxis:h,crossAxis:x,alignmentAxis:g}=typeof p==="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};if(u&&typeof g==="number"){x=u==="end"?g*-1:g}return d?{x:x*y,y:h*m}:{x:h*m,y:x*y}}const k=function(t){if(t===void 0){t=0}return{name:"offset",options:t,async fn(n){const{x:e,y:o}=n;const i=await S(n,t);return{x:e+i.x,y:o+i.y,data:i}}}};function F(t){return t==="x"?"y":"x"}const M=function(t){if(t===void 0){t={}}return{name:"shift",options:t,async fn(n){const{x:i,y:r,placement:c}=n;const{mainAxis:l=true,crossAxis:f=false,limiter:u={fn:t=>{let{x:n,y:e}=t;return{x:n,y:e}}},...d}=s(t,n);const y={x:i,y:r};const p=await a(n,d);const h=o(e(c));const x=F(h);let g=y[h];let w=y[x];if(l){const t=h==="y"?"top":"left";const n=h==="y"?"bottom":"right";const e=g+p[t];const o=g-p[n];g=m(e,g,o)}if(f){const t=x==="y"?"top":"left";const n=x==="y"?"bottom":"right";const e=w+p[t];const o=w-p[n];w=m(e,w,o)}const b=u.fn({...n,[h]:g,[x]:w});return{...b,data:{x:b.x-i,y:b.y-r}}}}};function O(t){var n;return((n=t.ownerDocument)==null?void 0:n.defaultView)||window}function P(t){return O(t).getComputedStyle(t)}function T(t){return t instanceof O(t).Node}function C(t){if(T(t)){return(t.nodeName||"").toLowerCase()}return"#document"}function z(t){return t instanceof O(t).HTMLElement}function D(t){return t instanceof O(t).Element}function B(t){if(typeof ShadowRoot==="undefined"){return false}return t instanceof O(t).ShadowRoot||t instanceof ShadowRoot}function L(t){const{overflow:n,overflowX:e,overflowY:o,display:i}=P(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+e)&&!["inline","contents"].includes(i)}function E(t){return["table","td","th"].includes(C(t))}function I(t){const n=q();const e=P(t);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":false)||!n&&(e.backdropFilter?e.backdropFilter!=="none":false)||!n&&(e.filter?e.filter!=="none":false)||["transform","perspective","filter"].some((t=>(e.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(e.contain||"").includes(t)))}function q(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}function N(t){return["html","body","#document"].includes(C(t))}const $=Math.min;const j=Math.max;const H=Math.round;const V=Math.floor;const W=t=>({x:t,y:t});function X(t){const n=P(t);let e=parseFloat(n.width)||0;let o=parseFloat(n.height)||0;const i=z(t);const r=i?t.offsetWidth:e;const s=i?t.offsetHeight:o;const c=H(e)!==r||H(o)!==s;if(c){e=r;o=s}return{width:e,height:o,$:c}}function Y(t){return!D(t)?t.contextElement:t}function _(t){const n=Y(t);if(!z(n)){return W(1)}const e=n.getBoundingClientRect();const{width:o,height:i,$:r}=X(n);let s=(r?H(e.width):e.width)/o;let c=(r?H(e.height):e.height)/i;if(!s||!Number.isFinite(s)){s=1}if(!c||!Number.isFinite(c)){c=1}return{x:s,y:c}}const G=W(0);function J(t,n,e){var o,i;if(n===void 0){n=true}if(!q()){return G}const r=t?O(t):window;if(!e||n&&e!==r){return G}return{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function K(t,n,e,o){if(n===void 0){n=false}if(e===void 0){e=false}const i=t.getBoundingClientRect();const r=Y(t);let s=W(1);if(n){if(o){if(D(o)){s=_(o)}}else{s=_(t)}}const c=J(r,e,o);let l=(i.left+c.x)/s.x;let a=(i.top+c.y)/s.y;let u=i.width/s.x;let d=i.height/s.y;if(r){const t=O(r);const n=o&&D(o)?O(o):o;let e=t.frameElement;while(e&&o&&n!==t){const t=_(e);const n=e.getBoundingClientRect();const o=getComputedStyle(e);const i=n.left+(e.clientLeft+parseFloat(o.paddingLeft))*t.x;const r=n.top+(e.clientTop+parseFloat(o.paddingTop))*t.y;l*=t.x;a*=t.y;u*=t.x;d*=t.y;l+=i;a+=r;e=O(e).frameElement}}return f({width:u,height:d,x:l,y:a})}function Q(t){return((T(t)?t.ownerDocument:t.document)||window.document).documentElement}function U(t){if(D(t)){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Z(t){let{rect:n,offsetParent:e,strategy:o}=t;const i=z(e);const r=Q(e);if(e===r){return n}let s={scrollLeft:0,scrollTop:0};let c=W(1);const l=W(0);if(i||!i&&o!=="fixed"){if(C(e)!=="body"||L(r)){s=U(e)}if(z(e)){const t=K(e);c=_(e);l.x=t.x+e.clientLeft;l.y=t.y+e.clientTop}}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+l.x,y:n.y*c.y-s.scrollTop*c.y+l.y}}function tt(t){return K(Q(t)).left+U(t).scrollLeft}function nt(t){const n=Q(t);const e=U(t);const o=t.ownerDocument.body;const i=j(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth);const r=j(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let s=-e.scrollLeft+tt(t);const c=-e.scrollTop;if(P(o).direction==="rtl"){s+=j(n.clientWidth,o.clientWidth)-i}return{width:i,height:r,x:s,y:c}}function et(t){if(C(t)==="html"){return t}const n=t.assignedSlot||t.parentNode||B(t)&&t.host||Q(t);return B(n)?n.host:n}function ot(t){const n=et(t);if(N(n)){return t.ownerDocument?t.ownerDocument.body:t.body}if(z(n)&&L(n)){return n}return ot(n)}function it(t,n){var e;if(n===void 0){n=[]}const o=ot(t);const i=o===((e=t.ownerDocument)==null?void 0:e.body);const r=O(o);if(i){return n.concat(r,r.visualViewport||[],L(o)?o:[])}return n.concat(o,it(o))}function rt(t,n){const e=O(t);const o=Q(t);const i=e.visualViewport;let r=o.clientWidth;let s=o.clientHeight;let c=0;let l=0;if(i){r=i.width;s=i.height;const t=q();if(!t||t&&n==="fixed"){c=i.offsetLeft;l=i.offsetTop}}return{width:r,height:s,x:c,y:l}}function st(t,n){const e=K(t,true,n==="fixed");const o=e.top+t.clientTop;const i=e.left+t.clientLeft;const r=z(t)?_(t):W(1);const s=t.clientWidth*r.x;const c=t.clientHeight*r.y;const l=i*r.x;const f=o*r.y;return{width:s,height:c,x:l,y:f}}function ct(t,n,e){let o;if(n==="viewport"){o=rt(t,e)}else if(n==="document"){o=nt(Q(t))}else if(D(n)){o=st(n,e)}else{const e=J(t);o={...n,x:n.x-e.x,y:n.y-e.y}}return f(o)}function lt(t,n){const e=et(t);if(e===n||!D(e)||N(e)){return false}return P(e).position==="fixed"||lt(e,n)}function ft(t,n){const e=n.get(t);if(e){return e}let o=it(t).filter((t=>D(t)&&C(t)!=="body"));let i=null;const r=P(t).position==="fixed";let s=r?et(t):t;while(D(s)&&!N(s)){const n=P(s);const e=I(s);if(!e&&n.position==="fixed"){i=null}const c=r?!e&&!i:!e&&n.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||L(s)&&!e&&lt(t,s);if(c){o=o.filter((t=>t!==s))}else{i=n}s=et(s)}n.set(t,o);return o}function at(t){let{element:n,boundary:e,rootBoundary:o,strategy:i}=t;const r=e==="clippingAncestors"?ft(n,this._c):[].concat(e);const s=[...r,o];const c=s[0];const l=s.reduce(((t,e)=>{const o=ct(n,e,i);t.top=j(o.top,t.top);t.right=$(o.right,t.right);t.bottom=$(o.bottom,t.bottom);t.left=j(o.left,t.left);return t}),ct(n,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ut(t){return X(t)}function dt(t,n){if(!z(t)||P(t).position==="fixed"){return null}if(n){return n(t)}return t.offsetParent}function mt(t){let n=et(t);while(z(n)&&!N(n)){if(I(n)){return n}else{n=et(n)}}return null}function yt(t,n){const e=O(t);if(!z(t)){return e}let o=dt(t,n);while(o&&E(o)&&P(o).position==="static"){o=dt(o,n)}if(o&&(C(o)==="html"||C(o)==="body"&&P(o).position==="static"&&!I(o))){return e}return o||mt(t)||e}function pt(t,n,e){const o=z(n);const i=Q(n);const r=e==="fixed";const s=K(t,true,r,n);let c={scrollLeft:0,scrollTop:0};const l=W(0);if(o||!o&&!r){if(C(n)!=="body"||L(i)){c=U(n)}if(z(n)){const t=K(n,true,r,n);l.x=t.x+n.clientLeft;l.y=t.y+n.clientTop}else if(i){l.x=tt(i)}}return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}const ht={getClippingRect:at,convertOffsetParentRelativeRectToViewportRelativeRect:Z,isElement:D,getDimensions:ut,getOffsetParent:yt,getDocumentElement:Q,getScale:_,async getElementRects(t){let{reference:n,floating:e,strategy:o}=t;const i=this.getOffsetParent||yt;const r=this.getDimensions;return{reference:pt(n,await i(e),o),floating:{x:0,y:0,...await r(e)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>P(t).direction==="rtl"};function xt(t,n){let e=null;let o;const i=Q(t);function r(){clearTimeout(o);e&&e.disconnect();e=null}function s(c,l){if(c===void 0){c=false}if(l===void 0){l=1}r();const{left:f,top:a,width:u,height:d}=t.getBoundingClientRect();if(!c){n()}if(!u||!d){return}const m=V(a);const y=V(i.clientWidth-(f+u));const p=V(i.clientHeight-(a+d));const h=V(f);const x=-m+"px "+-y+"px "+-p+"px "+-h+"px";const g={rootMargin:x,threshold:j(0,$(1,l))||1};let w=true;function b(t){const n=t[0].intersectionRatio;if(n!==l){if(!w){return s()}if(!n){o=setTimeout((()=>{s(false,1e-7)}),100)}else{s(false,n)}}w=false}try{e=new IntersectionObserver(b,{...g,root:i.ownerDocument})}catch(t){e=new IntersectionObserver(b,g)}e.observe(t)}s(true);return r}function gt(t,n,e,o){if(o===void 0){o={}}const{ancestorScroll:i=true,ancestorResize:r=true,elementResize:s=typeof ResizeObserver==="function",layoutShift:c=typeof IntersectionObserver==="function",animationFrame:l=false}=o;const f=Y(t);const a=i||r?[...f?it(f):[],...it(n)]:[];a.forEach((t=>{i&&t.addEventListener("scroll",e,{passive:true});r&&t.addEventListener("resize",e)}));const u=f&&c?xt(f,e):null;let d=-1;let m=null;if(s){m=new ResizeObserver((t=>{let[o]=t;if(o&&o.target===f&&m){m.unobserve(n);cancelAnimationFrame(d);d=requestAnimationFrame((()=>{m&&m.observe(n)}))}e()}));if(f&&!l){m.observe(f)}m.observe(n)}let y;let p=l?K(t):null;if(l){h()}function h(){const n=K(t);if(p&&(n.x!==p.x||n.y!==p.y||n.width!==p.width||n.height!==p.height)){e()}p=n;y=requestAnimationFrame(h)}e();return()=>{a.forEach((t=>{i&&t.removeEventListener("scroll",e);r&&t.removeEventListener("resize",e)}));u&&u();m&&m.disconnect();m=null;if(l){cancelAnimationFrame(y)}}}const wt=(t,n,e)=>{const o=new Map;const i={platform:ht,...e};const s={...i.platform,_c:o};return r(t,n,{...i,platform:s})};export{y as a,gt as b,wt as c,R as f,k as o,M as s};
//# sourceMappingURL=floating-ui.dom.esm-0dc6aa99.js.map