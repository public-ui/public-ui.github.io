{"version":3,"names":["defaultStyleCss","PAGINATION_OPTIONS","CELL_REFS","Map","KolTable","this","horizontal","sortDirections","showPagination","pageStartSlice","pageEndSlice","disableSort","sortedColumnHead","label","key","sortDirection","ariaLive","setSortDirection","sort","direction","clear","set","sortFunction","handlePagination","onClick","event","page","_a","state","_pagination","_on","setState","Object","assign","_page","onChangePage","onChangePageSize","pageSize","_pageSize","beforePatchPagination","nextValue","_nextState","_component","updateSortedData","cell","sortedData","_data","get","translate","placeholders","column","reverse","renderTableRow","row","rowIndex","h","map","col","colIndex","renderTableCell","asTd","headerCell","undefined","sortButtonIcon","scope","rowSpan","colSpan","style","textAlign","width","class","length","innerHTML","exportparts","_icon","_hideLabel","_label","colLabel","_variant","ref","render","el","cellRender","renderFoot","rows","createDataField","_dataFoot","_headers","_caption","vertical","_total","_sortedData","validateCaption","value","watchString","required","validateData","emptyStringByArrayHandler","objectObjectHandler","parseJson","e","Array","isArray","find","dataTupel","afterPatch","setTimeout","validateDataFoot","validateHeaders","watchValidator","Set","hooks","beforePatch","headers","forEach","header","_b","_c","_d","devHint","validateMinWidth","defaultValue","validatePagination","componentWillLoad","_minWidth","getNumberOfCols","horizontalHeaders","data","max","count","getNumberOfRows","verticalHeaders","filterHeaderKeys","primaryHeader","cells","push","getPrimaryHeader","isFoot","maxCols","maxRows","startRow","dataField","rowCount","rowSpans","_row","index","i","dataRow","headerCells","rowsTotal","k","j","colspan","rowspan","emptyCell","Math","selectDisplayedData","slice","clearTimeout","html","displayedData","Host","height","overflow","_boundaryCount","_customClass","_pageSizeOptions","_siblingCount","_tooltipAlign","tabindex","minWidth","cols"],"sources":["src/components/table/style.css?tag=kol-table&mode=default&encapsulation=shadow","src/components/table/component.tsx"],"sourcesContent":["@import url(../style.css);\n@import url(../host-display-block.css);\n:host {\n\tdisplay: grid;\n}\n:host > div.table {\n\tmax-width: 100%;\n\torder: 1;\n\toverflow-x: auto;\n\toverflow-y: hidden;\n}\n:host > div.table table {\n\twidth: 100%;\n}\nth > div {\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\tplace-items: center;\n}\ndiv.pagination {\n\torder: 2;\n}\ndiv.pagination,\ndiv.pagination > div:last-child {\n\tdisplay: grid;\n\tplace-items: center;\n}\n@media (min-width: 1024px) {\n\tdiv.pagination,\n\tdiv.pagination > div:last-child {\n\t\tgrid-auto-flow: column;\n\t}\n\tdiv.pagination kol-pagination {\n\t\tdisplay: flex;\n\t}\n}\n","import { Generic } from '@a11y-ui/core';\r\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\r\nimport { Component, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { translate } from '../../i18n';\r\nimport { Stringified } from '../../types/common';\r\nimport { devHint } from '../../utils/a11y.tipps';\r\nimport { emptyStringByArrayHandler, objectObjectHandler, parseJson, setState, watchString, watchValidator } from '../../utils/prop.validators';\r\nimport { KoliBriPaginationButtonCallbacks } from '../pagination/types';\r\nimport {\r\n\tKoliBriSortDirection,\r\n\tKoliBriSortFunction,\r\n\tKoliBriTableAPI,\r\n\tKoliBriTableCell,\r\n\tKoliBriTableDataType,\r\n\tKoliBriTableHeaderCell,\r\n\tKoliBriTableHeaderCellAndData,\r\n\tKoliBriTableHeaders,\r\n\tKoliBriTablePaginationProps,\r\n\tKoliBriTableRender,\r\n\tKoliBriTableSelectedHead,\r\n\tKoliBriTableStates,\r\n} from './types';\r\n\r\nconst PAGINATION_OPTIONS = [10, 20, 50, 100];\r\n\r\nconst CELL_REFS = new Map<HTMLElement, ReturnType<typeof setTimeout>>();\r\n\r\n@Component({\r\n\ttag: 'kol-table',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolTable implements KoliBriTableAPI {\r\n\tprivate horizontal = true;\r\n\tprivate sortFunction?: KoliBriSortFunction;\r\n\tprivate sortDirections: Map<KoliBriSortFunction, KoliBriSortDirection> = new Map();\r\n\tprivate showPagination = false;\r\n\tprivate pageStartSlice = 0;\r\n\tprivate pageEndSlice = 10;\r\n\tprivate disableSort = false;\r\n\r\n\tprivate sortedColumnHead: KoliBriTableSelectedHead = { label: '', key: '', sortDirection: 'NOS' };\r\n\tprivate ariaLive = '';\r\n\r\n\t/**\r\n\t * Setzt die sichtbare oder semantische Beschriftung der Komponente (z.B. Aria-Label, Label, Headline, Caption, Summary usw.).\r\n\t */\r\n\t@Prop() public _caption!: string;\r\n\r\n\t/**\r\n\t * Gibt die Daten an, die für die Erstellung der Tabelle verwendet werden.\r\n\t */\r\n\t@Prop() public _data!: Stringified<KoliBriTableDataType[]>;\r\n\r\n\t/**\r\n\t * Hier können die Daten für die Fußzeile der Tabelle übergeben werden.\r\n\t */\r\n\t@Prop() public _dataFoot?: Stringified<KoliBriTableDataType[]>;\r\n\r\n\t/**\r\n\t * Gibt die horizontalen und vertikalen Header für die Tabelle an.\r\n\t */\r\n\t@Prop() public _headers!: Stringified<KoliBriTableHeaders>;\r\n\r\n\t/**\r\n\t * Gibt an, die minimale Breite der Tabelle an.\r\n\t */\r\n\t@Prop() public _minWidth?: string;\r\n\r\n\t/**\r\n\t * Gibt an, ob die Daten geteilt in Seiten angezeigt wird.\r\n\t */\r\n\t@Prop() public _pagination?: boolean | Stringified<KoliBriTablePaginationProps>;\r\n\r\n\t@State() public state: KoliBriTableStates = {\r\n\t\t_caption: '…', // ⚠ required\r\n\t\t_data: [],\r\n\t\t_dataFoot: [],\r\n\t\t_headers: {\r\n\t\t\thorizontal: [],\r\n\t\t\tvertical: [],\r\n\t\t},\r\n\t\t_pagination: {\r\n\t\t\t_page: 1,\r\n\t\t\t_pageSize: 10,\r\n\t\t\t_total: 0,\r\n\t\t},\r\n\t\t_sortedData: [],\r\n\t};\r\n\r\n\t@Watch('_caption')\r\n\tpublic validateCaption(value?: string): void {\r\n\t\twatchString(this, '_caption', value, {\r\n\t\t\trequired: true,\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_data')\r\n\tpublic validateData(value?: Stringified<KoliBriTableDataType[]>): void {\r\n\t\temptyStringByArrayHandler(value, () => {\r\n\t\t\tobjectObjectHandler(value, () => {\r\n\t\t\t\tif (typeof value === 'undefined') {\r\n\t\t\t\t\tvalue = [];\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalue = parseJson<KoliBriTableDataType[]>(value);\r\n\t\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(value) && value.find((dataTupel: KoliBriTableDataType) => !(typeof dataTupel === 'object' && dataTupel !== null)) === undefined) {\r\n\t\t\t\t\tsetState(this, '_data', value, {\r\n\t\t\t\t\t\tafterPatch: () => {\r\n\t\t\t\t\t\t\t// TODO: kein guter Hack (endless loop)\r\n\t\t\t\t\t\t\tsetTimeout(this.updateSortedData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_dataFoot')\r\n\tpublic validateDataFoot(value?: Stringified<KoliBriTableDataType[]>): void {\r\n\t\temptyStringByArrayHandler(value, () => {\r\n\t\t\tobjectObjectHandler(value, () => {\r\n\t\t\t\tif (typeof value === 'undefined') {\r\n\t\t\t\t\tvalue = [];\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalue = parseJson<KoliBriTableDataType[]>(value);\r\n\t\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(value) && value.find((dataTupel: KoliBriTableDataType) => !(typeof dataTupel === 'object' && dataTupel !== null)) === undefined) {\r\n\t\t\t\t\tsetState(this, '_dataFoot', value, {\r\n\t\t\t\t\t\tafterPatch: () => {\r\n\t\t\t\t\t\t\tsetTimeout(this.updateSortedData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setSortDirection = (sort: KoliBriSortFunction, direction: KoliBriSortDirection) => {\r\n\t\t/**\r\n\t\t * Durch des Clearen, ist es nicht möglich eine Mehr-Spalten-Sortierung\r\n\t\t * darzustellen. Das wäre der Fall, wenn man ggf. Daten in außerhalb der\r\n\t\t * Komponente sortiert und diese sortiert von außen rein gibt und der\r\n\t\t * Sortierungsalgorithmus mehrere Spalten zusammen sortierte.\r\n\t\t *\r\n\t\t * Beachte auch col.sort !== this.sortFunction\r\n\t\t */\r\n\t\tthis.sortDirections.clear();\r\n\t\tthis.sortDirections.set(sort, direction);\r\n\t\tthis.sortFunction = sort;\r\n\t};\r\n\r\n\t@Watch('_headers')\r\n\tpublic validateHeaders(value?: Stringified<KoliBriTableHeaders>): void {\r\n\t\t/**\r\n\t\t * - es darf maximal ein Header als primary markiert werden (last win)\r\n\t\t * - der primary-Header entscheidet implizit über _order und _orientation\r\n\t\t *   - primary-Headers müssen das key-Property setzen\r\n\t\t *   - nicht primary-Headers müssen das key-Property nicht setzen (wird ignoriert)\r\n\t\t *   - _order: wird durch den primary-Header geregelt\r\n\t\t *   - _orientation: wird durch den primary-Header geregelt\r\n\t\t * - sobald ein Header sortierbar ist, darf es nur noch entweder horizontale\r\n\t\t *   oder vertikale Header geben, aber nicht mehr beides\r\n\t\t */\r\n\t\temptyStringByArrayHandler(value, () => {\r\n\t\t\tobjectObjectHandler(value, () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalue = parseJson<KoliBriTableHeaders>(value);\r\n\t\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t\t}\r\n\t\t\t\twatchValidator(this, '_headers', (value): boolean => typeof value === 'object' && value !== null, new Set(['KoliBriTableHeaders']), value, {\r\n\t\t\t\t\thooks: {\r\n\t\t\t\t\t\tbeforePatch: (nextValue: unknown) => {\r\n\t\t\t\t\t\t\tconst headers: KoliBriTableHeaders = nextValue as KoliBriTableHeaders;\r\n\t\t\t\t\t\t\theaders.horizontal?.forEach((header) => {\r\n\t\t\t\t\t\t\t\theader.forEach((cell) => {\r\n\t\t\t\t\t\t\t\t\tif (typeof cell.sort === 'function' && typeof cell.sortDirection === 'string') {\r\n\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(cell.sort, cell.sortDirection);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\theaders.vertical?.forEach((header) => {\r\n\t\t\t\t\t\t\t\theader.forEach((cell) => {\r\n\t\t\t\t\t\t\t\t\tif (typeof cell.sort === 'function' && typeof cell.sortDirection === 'string') {\r\n\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(cell.sort, cell.sortDirection);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (headers.horizontal && headers.vertical && headers.horizontal?.length > 0 && headers.vertical?.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.disableSort = true;\r\n\t\t\t\t\t\t\t\tdevHint(\r\n\t\t\t\t\t\t\t\t\t`Table: You can not sort the table data, if horizontal and vertical headers are defined at the same time. (https://github.com/public-ui/kolibri/issues/2372)`\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_minWidth')\r\n\tpublic validateMinWidth(value?: string): void {\r\n\t\twatchString(this, '_minWidth', value, {\r\n\t\t\tdefaultValue: undefined,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate readonly handlePagination: KoliBriPaginationButtonCallbacks = {\r\n\t\tonClick: (event: Event, page: number) => {\r\n\t\t\tif (typeof this.state._pagination._on?.onClick === 'function') {\r\n\t\t\t\tthis.state._pagination._on.onClick(event, page);\r\n\t\t\t}\r\n\t\t\tsetState(this, '_pagination', {\r\n\t\t\t\t...this.state._pagination,\r\n\t\t\t\t_page: page,\r\n\t\t\t});\r\n\t\t},\r\n\t\tonChangePage: (event: Event, page: number) => {\r\n\t\t\tif (typeof this.state._pagination._on?.onChangePage === 'function') {\r\n\t\t\t\tthis.state._pagination._on.onChangePage(event, page);\r\n\t\t\t}\r\n\t\t\tsetState(this, '_pagination', {\r\n\t\t\t\t...this.state._pagination,\r\n\t\t\t\t_page: page,\r\n\t\t\t});\r\n\t\t},\r\n\t\tonChangePageSize: (event: Event, pageSize: number) => {\r\n\t\t\tif (typeof this.state._pagination._on?.onChangePageSize === 'function') {\r\n\t\t\t\tthis.state._pagination._on.onChangePageSize(event, pageSize);\r\n\t\t\t}\r\n\t\t\tsetState(this, '_pagination', {\r\n\t\t\t\t...this.state._pagination,\r\n\t\t\t\t_pageSize: pageSize,\r\n\t\t\t});\r\n\t\t\tsetState(this, '_pageSize', pageSize);\r\n\t\t},\r\n\t};\r\n\r\n\tprivate readonly beforePatchPagination: Generic.Element.NextStateHooksCallback = (nextValue, _nextState, _component, key): void => {\r\n\t\tif (key === '_pagination') {\r\n\t\t\tthis.showPagination = nextValue === true || nextValue === '' /* true */ || (typeof nextValue === 'object' && nextValue !== null);\r\n\t\t}\r\n\t};\r\n\r\n\t@Watch('_pagination')\r\n\tpublic validatePagination(value?: boolean | Stringified<KoliBriTablePaginationProps>): void {\r\n\t\ttry {\r\n\t\t\tvalue = parseJson<KoliBriTablePaginationProps>(value);\r\n\t\t\t// eslint-disable-next-line no-empty\r\n\t\t} catch (e) {\r\n\t\t\t// value behält den ursprünglichen Wert\r\n\t\t}\r\n\t\twatchValidator(this, '_pagination', () => true, new Set(['boolean', 'KoliBriTablePagination']), value, {\r\n\t\t\thooks: {\r\n\t\t\t\tbeforePatch: this.beforePatchPagination,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateCaption(this._caption);\r\n\t\tthis.validateData(this._data);\r\n\t\tthis.validateDataFoot(this._dataFoot);\r\n\t\tthis.validateHeaders(this._headers);\r\n\t\tthis.validateMinWidth(this._minWidth);\r\n\t\tthis.validatePagination(this._pagination);\r\n\t}\r\n\r\n\tprivate getNumberOfCols(horizontalHeaders: KoliBriTableHeaderCell[][], data: KoliBriTableDataType[]): number {\r\n\t\tlet max = 0;\r\n\t\thorizontalHeaders.forEach((row) => {\r\n\t\t\tlet count = 0;\r\n\t\t\trow.forEach((col) => (count += col.colSpan ?? 1));\r\n\t\t\tif (max < count) {\r\n\t\t\t\tmax = count;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (max === 0) {\r\n\t\t\tmax = data.length;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\r\n\tprivate getNumberOfRows(verticalHeaders: KoliBriTableHeaderCell[][], data: KoliBriTableDataType[]): number {\r\n\t\tlet max = 0;\r\n\t\tverticalHeaders.forEach((col) => {\r\n\t\t\tlet count = 0;\r\n\t\t\tcol.forEach((row) => (count += row.rowSpan ?? 1));\r\n\t\t\tif (max < count) {\r\n\t\t\t\tmax = count;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (max === 0) {\r\n\t\t\tmax = data.length;\r\n\t\t} else {\r\n\t\t\tmax -= this.state._dataFoot.length;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\r\n\tprivate filterHeaderKeys(headers: KoliBriTableHeaderCell[][]): KoliBriTableHeaderCell[] {\r\n\t\tconst primaryHeader: KoliBriTableHeaderCell[] = [];\r\n\t\theaders.forEach((cells) => {\r\n\t\t\tcells.forEach((cell) => {\r\n\t\t\t\tif (typeof cell.key === 'string') {\r\n\t\t\t\t\tprimaryHeader.push(cell);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn primaryHeader;\r\n\t}\r\n\r\n\tprivate getPrimaryHeader(headers: KoliBriTableHeaders): KoliBriTableHeaderCell[] {\r\n\t\tlet primaryHeader: KoliBriTableHeaderCell[] = this.filterHeaderKeys(headers.horizontal ?? []);\r\n\t\tthis.horizontal = true;\r\n\t\tif (primaryHeader.length === 0) {\r\n\t\t\tprimaryHeader = this.filterHeaderKeys(headers.vertical ?? []);\r\n\t\t\tif (primaryHeader.length > 0) {\r\n\t\t\t\tthis.horizontal = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn primaryHeader;\r\n\t}\r\n\r\n\tprivate createDataField(data: KoliBriTableDataType[], headers: KoliBriTableHeaders, isFoot?: boolean): KoliBriTableCell[][] {\r\n\t\theaders.horizontal = Array.isArray(headers?.horizontal) ? headers.horizontal : [];\r\n\t\theaders.vertical = Array.isArray(headers?.vertical) ? headers.vertical : [];\r\n\t\tconst primaryHeader = this.getPrimaryHeader(headers);\r\n\t\tconst maxCols = this.getNumberOfCols(headers.horizontal, data);\r\n\t\tlet maxRows = this.getNumberOfRows(headers.vertical, data);\r\n\t\tlet startRow = 0;\r\n\t\tif (isFoot) {\r\n\t\t\tstartRow = maxRows;\r\n\t\t\tmaxRows += this.state._dataFoot.length;\r\n\t\t}\r\n\t\tconst dataField: KoliBriTableCell[][] = [];\r\n\r\n\t\tconst rowCount: number[] = [];\r\n\t\tconst rowSpans: number[][] = [];\r\n\t\theaders.vertical.forEach((_row, index) => {\r\n\t\t\trowCount[index] = 0;\r\n\t\t\trowSpans[index] = [];\r\n\t\t});\r\n\r\n\t\tfor (let i = startRow; i < maxRows; i++) {\r\n\t\t\tconst dataRow: KoliBriTableHeaderCellAndData[] = [];\r\n\t\t\theaders.vertical.forEach((headerCells, index) => {\r\n\t\t\t\tlet rowsTotal = 0;\r\n\t\t\t\trowSpans[index].forEach((value) => (rowsTotal += value));\r\n\t\t\t\tif (rowsTotal <= i) {\r\n\t\t\t\t\tconst rows = headerCells[i - rowsTotal + rowCount[index]];\r\n\t\t\t\t\tif (typeof rows === 'object') {\r\n\t\t\t\t\t\tdataRow.push({\r\n\t\t\t\t\t\t\t...rows,\r\n\t\t\t\t\t\t\tasTd: false,\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n\t\t\t\t\t\t\tdata: {} as KoliBriTableDataType,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet rowSpan = 1;\r\n\t\t\t\t\t\tif (typeof rows.rowSpan === 'number' && rows.rowSpan > 1) {\r\n\t\t\t\t\t\t\trowSpan = rows.rowSpan;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trowSpans[index].push(rowSpan);\r\n\t\t\t\t\t\tif (typeof rows.colSpan === 'number' && rows.colSpan > 1) {\r\n\t\t\t\t\t\t\tfor (let k = 1; k < rows.colSpan; k++) {\r\n\t\t\t\t\t\t\t\trowSpans[index + k].push(rowSpan);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trowCount[index]++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tfor (let j = 0; j < maxCols; j++) {\r\n\t\t\t\tif (this.horizontal === true) {\r\n\t\t\t\t\tconst row = isFoot ? this.state._dataFoot[i - startRow] : data[i];\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\ttypeof primaryHeader[j] === 'object' &&\r\n\t\t\t\t\t\tprimaryHeader[j] !== null &&\r\n\t\t\t\t\t\ttypeof primaryHeader[j].key === 'string' &&\r\n\t\t\t\t\t\ttypeof row === 'object' &&\r\n\t\t\t\t\t\trow !== null\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tdataRow.push({\r\n\t\t\t\t\t\t\t...primaryHeader[j],\r\n\t\t\t\t\t\t\tcolSpan: undefined,\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n\t\t\t\t\t\t\tdata: row,\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n\t\t\t\t\t\t\tlabel: row[primaryHeader[j].key as unknown as string] as string,\r\n\t\t\t\t\t\t\trowSpan: undefined,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\ttypeof primaryHeader[i] === 'object' &&\r\n\t\t\t\t\t\tprimaryHeader[i] !== null &&\r\n\t\t\t\t\t\ttypeof primaryHeader[i].key === 'string' &&\r\n\t\t\t\t\t\ttypeof data[j] === 'object' &&\r\n\t\t\t\t\t\tdata[j] !== null\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tdataRow.push({\r\n\t\t\t\t\t\t\t...primaryHeader[i],\r\n\t\t\t\t\t\t\tcolSpan: undefined,\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n\t\t\t\t\t\t\tdata: data[j],\r\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n\t\t\t\t\t\t\tlabel: data[j][primaryHeader[i].key as unknown as number] as string,\r\n\t\t\t\t\t\t\trowSpan: undefined,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataField.push(dataRow);\r\n\t\t}\r\n\t\tif (data.length === 0) {\r\n\t\t\tlet colspan = 0;\r\n\t\t\tlet rowspan = 0;\r\n\t\t\tif (Array.isArray(headers.horizontal) && headers.horizontal.length > 0) {\r\n\t\t\t\theaders.horizontal[0].forEach((col) => {\r\n\t\t\t\t\tcolspan += col.colSpan || 1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(headers.vertical) && headers.vertical.length > 0) {\r\n\t\t\t\tcolspan -= headers.vertical.length;\r\n\t\t\t\theaders.vertical[0].forEach((row) => {\r\n\t\t\t\t\trowspan += row.rowSpan || 1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst emptyCell = {\r\n\t\t\t\tcolSpan: colspan,\r\n\t\t\t\tlabel: translate('kol-no-entries'),\r\n\t\t\t\trender: undefined,\r\n\t\t\t\trowSpan: Math.max(rowspan, 1),\r\n\t\t\t};\r\n\t\t\tif (dataField.length === 0) {\r\n\t\t\t\tdataField.push([emptyCell]);\r\n\t\t\t} else {\r\n\t\t\t\tdataField[0].push(emptyCell);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dataField;\r\n\t}\r\n\r\n\tprivate selectDisplayedData(data: KoliBriTableDataType[], pageSize: number, page: number): KoliBriTableDataType[] {\r\n\t\tif (typeof pageSize === 'number' && pageSize > 0 && typeof page === 'number' && page > 0) {\r\n\t\t\tthis.pageStartSlice = pageSize * (page - 1);\r\n\t\t\tthis.pageEndSlice = pageSize * page > data.length ? data.length : pageSize * page;\r\n\t\t\treturn data.slice(this.pageStartSlice, this.pageEndSlice);\r\n\t\t} else {\r\n\t\t\tthis.pageStartSlice = 0;\r\n\t\t\tthis.pageEndSlice = data.length;\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate cellRender(col: KoliBriTableHeaderCellAndData & { render: KoliBriTableRender }, el?: HTMLElement): void {\r\n\t\tif (el /* SSR instanceof HTMLElement */) {\r\n\t\t\tclearTimeout(CELL_REFS.get(el));\r\n\t\t\tCELL_REFS.set(\r\n\t\t\t\tel,\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tclearTimeout(CELL_REFS.get(el));\r\n\t\t\t\t\tconst html = col.render(\r\n\t\t\t\t\t\tel,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tasTd: col.asTd,\r\n\t\t\t\t\t\t\tlabel: col.label,\r\n\t\t\t\t\t\t\ttextAlign: col.textAlign,\r\n\t\t\t\t\t\t\twidth: col.width,\r\n\t\t\t\t\t\t} as KoliBriTableHeaderCell,\r\n\t\t\t\t\t\tcol.data,\r\n\t\t\t\t\t\tthis.state._data\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (typeof html === 'string') {\r\n\t\t\t\t\t\tel.innerHTML = html;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateSortedData = (cell: KoliBriTableSelectedHead = this.sortedColumnHead) => {\r\n\t\tlet sortedData: KoliBriTableDataType[] = this.state._data;\r\n\t\tif (typeof this.sortFunction === 'function') {\r\n\t\t\tswitch (this.sortDirections.get(this.sortFunction)) {\r\n\t\t\t\tcase 'ASC':\r\n\t\t\t\t\tsortedData = this.sortFunction([...this.state._data]);\r\n\t\t\t\t\tthis.ariaLive = translate('kol-sort-ascending', { placeholders: { column: cell.label } });\r\n\t\t\t\t\tthis.sortedColumnHead = { label: cell.label, key: cell.key, sortDirection: 'ASC' };\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'DESC':\r\n\t\t\t\t\tsortedData = this.sortFunction([...this.state._data]).reverse();\r\n\t\t\t\t\tthis.ariaLive = translate('kol-sort-descending', { placeholders: { column: cell.label } });\r\n\t\t\t\t\tthis.sortedColumnHead = { label: cell.label, key: cell.key, sortDirection: 'DESC' };\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NOS':\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsortedData = [...this.state._data];\r\n\t\t\t\t\tthis.sortedColumnHead = { label: '', key: '', sortDirection: 'NOS' };\r\n\t\t\t\t\tthis.ariaLive = translate('kol-sort-none', { placeholders: { column: cell.label } });\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState(this, '_sortedData', sortedData);\r\n\t};\r\n\r\n\tprivate readonly renderTableRow = (row: KoliBriTableCell[], rowIndex: number): JSX.Element => {\r\n\t\treturn <tr key={`tbody-${rowIndex}`}>{row.map((col, colIndex) => this.renderTableCell(col, rowIndex, colIndex))}</tr>;\r\n\t};\r\n\tprivate readonly renderTableCell = (cell: KoliBriTableCell, rowIndex: number, colIndex: number): JSX.Element => {\r\n\t\tif (cell.asTd === false) {\r\n\t\t\tconst headerCell = cell as KoliBriTableHeaderCell;\r\n\t\t\tlet sortDirection = undefined;\r\n\t\t\tlet sortButtonIcon = 'codicon codicon-fold';\r\n\t\t\tif (!this.disableSort && headerCell.key === this.sortedColumnHead.key) {\r\n\t\t\t\tswitch (this.sortedColumnHead.sortDirection) {\r\n\t\t\t\t\tcase 'ASC':\r\n\t\t\t\t\t\tsortButtonIcon = 'codicon codicon-chevron-up';\r\n\t\t\t\t\t\tsortDirection = 'ascending';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'DESC':\r\n\t\t\t\t\t\tsortButtonIcon = 'codicon codicon-chevron-down';\r\n\t\t\t\t\t\tsortDirection = 'descending';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<th // role=\"rowheader\"\r\n\t\t\t\t\tkey={`tbody-${rowIndex}-${colIndex}-${headerCell.label}`}\r\n\t\t\t\t\tscope={typeof headerCell.rowSpan === 'number' && headerCell.rowSpan > 1 ? 'rowgroup' : 'row'}\r\n\t\t\t\t\tcolSpan={headerCell.colSpan}\r\n\t\t\t\t\trowSpan={headerCell.rowSpan}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextAlign: headerCell.textAlign,\r\n\t\t\t\t\t\twidth: headerCell.width,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taria-sort={sortDirection}\r\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n\t\t\t\t\tdata-sort={`sort-${this.sortDirections.get(headerCell.sort!) as string}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"w-full flex gap-1 items-center\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t\t\t'w-full': true,\r\n\t\t\t\t\t\t\t\t[headerCell.textAlign as string]: typeof headerCell.textAlign === 'string' && headerCell.textAlign.length > 0,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tinnerHTML={headerCell.label}\r\n\t\t\t\t\t\t\tstyle={{ textAlign: headerCell.textAlign }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t{!this.disableSort && typeof headerCell.sort === 'function' && (\r\n\t\t\t\t\t\t\t<kol-button\r\n\t\t\t\t\t\t\t\texportparts=\"icon\"\r\n\t\t\t\t\t\t\t\t_icon={sortButtonIcon}\r\n\t\t\t\t\t\t\t\t_hideLabel\r\n\t\t\t\t\t\t\t\t_label={translate('kol-change-order', { placeholders: { colLabel: headerCell.label } })}\r\n\t\t\t\t\t\t\t\t_on={{\r\n\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (typeof headerCell.sort === 'function') {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.sortFunction = headerCell.sort;\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (this.sortDirections.get(this.sortFunction)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'ASC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'DESC');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'DESC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'NOS');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'ASC');\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tthis.updateSortedData(headerCell as KoliBriTableSelectedHead);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t_variant=\"ghost\"\r\n\t\t\t\t\t\t\t></kol-button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</th>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<td // role=\"gridcell\"\r\n\t\t\t\t\tkey={`tbody-${rowIndex}-${colIndex}-${cell.label}`}\r\n\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t[cell.textAlign as string]: typeof cell.textAlign === 'string' && cell.textAlign.length > 0,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcolSpan={cell.colSpan}\r\n\t\t\t\t\trowSpan={cell.rowSpan}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextAlign: cell.textAlign,\r\n\t\t\t\t\t\twidth: cell.width,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tref={\r\n\t\t\t\t\t\ttypeof cell.render === 'function'\r\n\t\t\t\t\t\t\t? (el) => {\r\n\t\t\t\t\t\t\t\t\tthis.cellRender(cell as KoliBriTableHeaderCellAndData & { render: KoliBriTableRender }, el);\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinnerHTML={typeof cell.render !== 'function' ? cell.label : ''}\r\n\t\t\t\t></td>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate readonly renderFoot = (): JSX.Element => {\r\n\t\tconst rows: KoliBriTableCell[][] = this.createDataField(this.state._dataFoot, this.state._headers, true);\r\n\t\treturn <tfoot>{rows.map(this.renderTableRow)}</tfoot>;\r\n\t};\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\tconst displayedData: KoliBriTableDataType[] = this.selectDisplayedData(\r\n\t\t\tthis.state._sortedData,\r\n\t\t\tthis.showPagination ? this.state._pagination?._pageSize ?? 10 : this.state._sortedData.length,\r\n\t\t\tthis.state._pagination._page || 1\r\n\t\t);\r\n\t\tconst dataField = this.createDataField(displayedData, this.state._headers);\r\n\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<span style={{ height: '0', width: '0', overflow: 'hidden' }} aria-live=\"assertive\">\r\n\t\t\t\t\t{this.ariaLive}\r\n\t\t\t\t</span>\r\n\t\t\t\t{this.pageEndSlice > 0 && this.showPagination && (\r\n\t\t\t\t\t<div class=\"pagination\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tEinträge {this.pageEndSlice > 0 ? this.pageStartSlice + 1 : 0} bis {this.pageEndSlice} von{' '}\r\n\t\t\t\t\t\t\t{this.state._pagination._total || (Array.isArray(this.state._data) ? this.state._data.length : 0)} angezeigt\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<kol-pagination\r\n\t\t\t\t\t\t\t\t_boundaryCount={this.state._pagination._boundaryCount}\r\n\t\t\t\t\t\t\t\t_customClass={this.state._pagination._customClass}\r\n\t\t\t\t\t\t\t\t_on={this.handlePagination}\r\n\t\t\t\t\t\t\t\t_page={this.state._pagination._page}\r\n\t\t\t\t\t\t\t\t_pageSize={this.state._pagination._pageSize}\r\n\t\t\t\t\t\t\t\t_pageSizeOptions={this.state._pagination._pageSizeOptions || PAGINATION_OPTIONS}\r\n\t\t\t\t\t\t\t\t_siblingCount={this.state._pagination._siblingCount}\r\n\t\t\t\t\t\t\t\t_tooltipAlign=\"bottom\"\r\n\t\t\t\t\t\t\t\t_total={this.state._pagination._total || this.state._data.length}\r\n\t\t\t\t\t\t\t></kol-pagination>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"table\" tabindex=\"0\">\r\n\t\t\t\t\t<table\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tminWidth: this.state._minWidth,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<caption>{this.state._caption}</caption>\r\n\t\t\t\t\t\t{Array.isArray(this.state._headers.horizontal) && (\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t{this.state._headers.horizontal.map((cols, rowIndex) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={`thead-${rowIndex}`}>\r\n\t\t\t\t\t\t\t\t\t\t{cols.map((col, colIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (col.asTd === true) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td // role=\"gridcell\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`thead-${rowIndex}-${colIndex}-${col.label}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[col.textAlign as string]: typeof col.textAlign === 'string' && col.textAlign.length > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan={col.colSpan}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowSpan={col.rowSpan}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: col.textAlign,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: col.width,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof col.render === 'function'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (el) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cellRender(col as KoliBriTableHeaderCellAndData & { render: KoliBriTableRender }, el);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerHTML={typeof col.render !== 'function' ? col.label : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst headerCell = col as KoliBriTableHeaderCell;\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet sortDirection = undefined;\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet sortButtonIcon = 'codicon codicon-fold';\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (headerCell.key === this.sortedColumnHead.key) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (this.sortedColumnHead.sortDirection) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'ASC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortButtonIcon = 'codicon codicon-chevron-up';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortDirection = 'ascending';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'DESC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortButtonIcon = 'codicon codicon-chevron-down';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortDirection = 'descending';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th // role=\"columnheader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`thead-${rowIndex}-${colIndex}-${headerCell.label}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope={typeof headerCell.colSpan === 'number' && headerCell.colSpan > 1 ? 'colgroup' : 'col'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan={headerCell.colSpan}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowSpan={headerCell.rowSpan}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: col.textAlign,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: col.width,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-sort={sortDirection}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-sort={sortDirection ? `sort-${this.sortedColumnHead.sortDirection}` : 'sort-NOS'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full flex gap-1 items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'w-full': true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[col.textAlign as string]: typeof col.textAlign === 'string' && col.textAlign.length > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerHTML={col.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: col.textAlign,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!this.disableSort && typeof headerCell.sort === 'function' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<kol-button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texportparts=\"icon\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_icon={sortButtonIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_hideLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_label={translate('kol-change-order', { placeholders: { colLabel: col.label } })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_on={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof headerCell.sort === 'function') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.sortFunction = headerCell.sort;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (this.sortDirections.get(this.sortFunction)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'ASC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'DESC');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'DESC':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'NOS');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setSortDirection(this.sortFunction, 'ASC');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.updateSortedData(headerCell as KoliBriTableSelectedHead);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_variant=\"ghost\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></kol-button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<tbody>{dataField.map(this.renderTableRow)}</tbody>\r\n\t\t\t\t\t\t{this.state._dataFoot.length > 0 ? this.renderFoot() : ''}\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":"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"}