{"version":3,"names":["AVAILABLE_HORIZONTAL_ALIGNMENT_VALUES","Set","AVAILABLE_VERTICAL_ALIGNMENT_VALUES","AVAILABLE_ALIGNMENT_VALUES","validateAlignment","component","propName","value","watchValidator","defaultStyleCss","KolTabs","this","onCreateLabel","translate","showCreateTab","nextPossibleTabIndex","tabs","offset","step","length","_disabled","onKeyDown","event","timeout","setTimeout","clearTimeout","selectedIndex","key","state","_tabs","_selected","onSelect","onClickSelect","index","onMouseDown","stopPropagation","callbacks","onClick","catchTabPanelHost","el","tabPanelHost","selectNextNotDisabledTab","selected","upOrDown","initialSelected","Array","isArray","devHint","syncSelectedAndTabs","nextValue","nextState","_component","set","handleTabPanels","HTMLDivElement","i","children","div","document","createElement","setAttribute","slot","appendChild","_a","host","HTMLCollection","_b","_c","onCreate","_on","_label","_tabsAlign","renderButtonGroup","h","role","map","button","_icon","_hideLabel","_iconOnly","_tabIndex","_tooltipAlign","_variant","undefined","_customClass","_ariaControls","_ariaSelected","_id","_role","_value","class","render","Host","ref","tabPanelsElement","validateAriaLabel","validateLabel","validateOn","featureHint","label","Log","debug","callback","setState","validateSelected","watchNumber","hooks","beforePatch","validateTabs","watchJsonArrayString","item","uiUxHintMillerscheZahl","validateTabsAlign","componentWillLoad","_ariaLabel","componentDidRender","removeAttribute","focus","selectedTimeout","koliBriQuerySelector"],"sources":["src/utils/validators/alignment.ts","src/components/tabs/style.css?tag=kol-tabs&mode=default&encapsulation=shadow","src/components/tabs/component.tsx"],"sourcesContent":["import { Generic } from '@a11y-ui/core';\r\n\r\nimport { Align } from '../../types/props/align';\r\nimport { watchValidator } from '../prop.validators';\r\n\r\nconst AVAILABLE_HORIZONTAL_ALIGNMENT_VALUES = new Set(['\"left\", \"right\"']);\r\n// export const validateHorizontalAlignment = (component: Generic.Element.Component, propName: string, value?: HorizontalAlignment): void => {\r\n// \twatchValidator(component, propName, (value) => value === 'left' || value === 'right', AVAILABLE_HORIZONTAL_ALIGNMENT_VALUES, value);\r\n// };\r\n\r\nconst AVAILABLE_VERTICAL_ALIGNMENT_VALUES = new Set(['\"bottom\", \"top\"']);\r\n// export const validateVertivalAlignment = (component: Generic.Element.Component, propName: string, value?: VerticalAlignment): void => {\r\n// \twatchValidator(component, propName, (value) => value === 'top' || value === 'bottom', AVAILABLE_VERTICAL_ALIGNMENT_VALUES, value);\r\n// };\r\n\r\nconst AVAILABLE_ALIGNMENT_VALUES = new Set([...AVAILABLE_HORIZONTAL_ALIGNMENT_VALUES, ...AVAILABLE_VERTICAL_ALIGNMENT_VALUES]);\r\nexport const validateAlignment = (component: Generic.Element.Component, propName: string, value?: Align): void => {\r\n\twatchValidator(\r\n\t\tcomponent,\r\n\t\tpropName,\r\n\t\t(value) => value === 'bottom' || value === 'left' || value === 'right' || value === 'top',\r\n\t\tAVAILABLE_ALIGNMENT_VALUES,\r\n\t\tvalue\r\n\t);\r\n};\r\n","@import url(../style.css);\n@import url(../host-display-block.css);\nkol-button-group-wc {\n\tdisplay: inline-flex;\n\tflex-wrap: wrap;\n}\nkol-button-group-wc button {\n\tborder-bottom-color: transparent;\n\tborder-bottom-style: solid;\n\tdisplay: block;\n}\ndiv.grid,\ndiv[role='tabpanel'] {\n\theight: 100%;\n}\n:host > .tabs-align-right {\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n}\n:host > .tabs-align-right kol-button-group-wc {\n\tdisplay: grid;\n\torder: 2;\n}\n:host > .tabs-align-left {\n\tdisplay: grid;\n\tgrid-template-columns: auto 1fr;\n}\n:host > .tabs-align-left kol-button-group-wc {\n\tdisplay: grid;\n\torder: 0;\n}\n:host > .tabs-align-bottom {\n\tdisplay: grid;\n\tgrid-template-rows: 1fr auto;\n}\n:host > .tabs-align-bottom kol-button-group-wc {\n\torder: 2;\n}\n:host > .tabs-align-bottom kol-button-group-wc > div {\n\tdisplay: flex;\n}\n:host > .tabs-align-bottom > kol-button-group-wc > div > div:first-child {\n\tmargin: 0 1em 0 0;\n}\n:host > .tabs-align-bottom > kol-button-group-wc > div > div {\n\tmargin: 0 1em;\n}\n:host > .tabs-align-top {\n\tdisplay: grid;\n\tgrid-template-rows: auto 1fr;\n}\n:host > .tabs-align-top kol-button-group-wc {\n\torder: 0;\n}\n:host > .tabs-align-top kol-button-group-wc > div {\n\tdisplay: flex;\n}\n:host > .tabs-align-top > kol-button-group-wc > div > div:first-child {\n\tmargin: 0 1em 0 0;\n}\n:host > .tabs-align-top > kol-button-group-wc > div > div {\n\tmargin: 0 1em;\n}\n:host > div {\n\tdisplay: grid;\n}\n:host > .tabs-align-left kol-button-group-wc,\n:host > .tabs-align-top kol-button-group-wc {\n\torder: 0;\n}\n:host > .tabs-align-bottom kol-button-group-wc,\n:host > .tabs-align-right kol-button-group-wc {\n\torder: 1;\n}\n:host > div.tabs-align-left kol-button-group-wc > div,\n:host > div.tabs-align-left kol-button-group-wc > div > div,\n:host > div.tabs-align-right kol-button-group-wc > div,\n:host > div.tabs-align-right kol-button-group-wc > div > div {\n\tdisplay: grid;\n}\n:host > div.tabs-align-left kol-button-group-wc > div > div kol-button-wc,\n:host > div.tabs-align-right kol-button-group-wc > div > div kol-button-wc {\n\twidth: 100%;\n}\n:host > div.tabs-align-bottom kol-button-group-wc div,\n:host > div.tabs-align-top kol-button-group-wc div {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n","import { Generic } from '@a11y-ui/core';\r\nimport { Component, Element, h, Host, JSX, Prop, State, Watch } from '@stencil/core';\r\n\r\nimport { translate } from '../../i18n';\r\nimport { KoliBriButtonCallbacks } from '../../types/button-link';\r\nimport { Stringified } from '../../types/common';\r\nimport { Align } from '../../types/props/align';\r\nimport { LabelPropType, validateLabel } from '../../types/props/label';\r\nimport { devHint, featureHint, uiUxHintMillerscheZahl } from '../../utils/a11y.tipps';\r\nimport { Log } from '../../utils/dev.utils';\r\nimport { koliBriQuerySelector, setState, watchJsonArrayString, watchNumber } from '../../utils/prop.validators';\r\nimport { validateAlignment } from '../../utils/validators/alignment';\r\nimport { KoliBriTabsAPI, KoliBriTabsCallbacks, KoliBriTabsStates, TabButtonProps } from './types';\r\n\r\n// https://www.w3.org/TR/wai-aria-practices-1.1/examples/tabs/tabs-2/tabs.html\r\n\r\n@Component({\r\n\ttag: 'kol-tabs',\r\n\tstyleUrls: {\r\n\t\tdefault: './style.css',\r\n\t},\r\n\tshadow: true,\r\n})\r\nexport class KolTabs implements KoliBriTabsAPI {\r\n\t@Element() private readonly host?: HTMLKolTabsElement;\r\n\tprivate tabPanelsElement?: HTMLElement;\r\n\tprivate onCreateLabel = `${translate('kol-new')} …`;\r\n\tprivate showCreateTab = false;\r\n\tprivate selectedTimeout?: ReturnType<typeof setTimeout>;\r\n\r\n\tprivate nextPossibleTabIndex = (tabs: TabButtonProps[], offset: number, step: number): number => {\r\n\t\tif (step > 0) {\r\n\t\t\tif (offset + step < tabs.length) {\r\n\t\t\t\tif (tabs[offset + step]._disabled) {\r\n\t\t\t\t\treturn this.nextPossibleTabIndex(tabs, offset, step + 1);\r\n\t\t\t\t}\r\n\t\t\t\treturn offset + step;\r\n\t\t\t}\r\n\t\t} else if (step < 0) {\r\n\t\t\tif (offset + step >= 0) {\r\n\t\t\t\tif (tabs[offset + step]._disabled) {\r\n\t\t\t\t\treturn this.nextPossibleTabIndex(tabs, offset, step - 1);\r\n\t\t\t\t}\r\n\t\t\t\treturn offset + step;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn offset;\r\n\t};\r\n\r\n\tprivate onKeyDown = (event: KeyboardEvent) => {\r\n\t\tconst timeout = setTimeout(() => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tlet selectedIndex: number | null = null;\r\n\t\t\tswitch (event.key) {\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\t\tselectedIndex = this.nextPossibleTabIndex(this.state._tabs, this.state._selected, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\t\tselectedIndex = this.nextPossibleTabIndex(this.state._tabs, this.state._selected, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (selectedIndex !== null) {\r\n\t\t\t\tthis.onSelect(event, selectedIndex, true);\r\n\t\t\t}\r\n\t\t}, 250);\r\n\t};\r\n\r\n\tprivate readonly onClickSelect = (event: MouseEvent, index: number): void => {\r\n\t\tthis.onSelect(event, index, true);\r\n\t};\r\n\r\n\t// private readonly onClickClose = (event: Event, button: TabButtonProps, index: number) => {\r\n\t// \tevent.stopPropagation();\r\n\t// \tthis.onClose(button, event, index);\r\n\t// };\r\n\r\n\tprivate readonly onMouseDown = (event: Event): void => {\r\n\t\tevent.stopPropagation();\r\n\t};\r\n\r\n\tprivate readonly callbacks: KoliBriButtonCallbacks<number> = {\r\n\t\tonClick: this.onClickSelect,\r\n\t\tonMouseDown: this.onMouseDown,\r\n\t};\r\n\r\n\tprivate renderButtonGroup() {\r\n\t\treturn (\r\n\t\t\t<kol-button-group-wc role=\"tablist\" aria-label={this.state._label} onKeyDown={this.onKeyDown}>\r\n\t\t\t\t{this.state._tabs.map((button: TabButtonProps, index: number) => (\r\n\t\t\t\t\t<kol-button-wc\r\n\t\t\t\t\t\t_disabled={button._disabled}\r\n\t\t\t\t\t\t_icon={button._icon}\r\n\t\t\t\t\t\t_hideLabel={button._hideLabel || button._iconOnly}\r\n\t\t\t\t\t\t_label={button._label} // TODO: ariaLabel-Konzept prüfen\r\n\t\t\t\t\t\t_on={this.callbacks as KoliBriButtonCallbacks<unknown>}\r\n\t\t\t\t\t\t_tabIndex={this.state._selected === index ? 0 : -1}\r\n\t\t\t\t\t\t_tooltipAlign={button._tooltipAlign}\r\n\t\t\t\t\t\t_variant={this.state._selected === index ? 'custom' : undefined}\r\n\t\t\t\t\t\t_customClass={this.state._selected === index ? 'selected' : undefined}\r\n\t\t\t\t\t\t_ariaControls={`tabpanel-${index}`}\r\n\t\t\t\t\t\t_ariaSelected={this.state._selected === index}\r\n\t\t\t\t\t\t_id={`tab-${index}`}\r\n\t\t\t\t\t\t_role=\"tab\"\r\n\t\t\t\t\t\t_value={index}\r\n\t\t\t\t\t></kol-button-wc>\r\n\t\t\t\t))}\r\n\t\t\t\t{this.showCreateTab && (\r\n\t\t\t\t\t<kol-button-wc\r\n\t\t\t\t\t\tclass=\"create-button\"\r\n\t\t\t\t\t\t_label={this.onCreateLabel}\r\n\t\t\t\t\t\t_on={{\r\n\t\t\t\t\t\t\tonClick: this.onCreate,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></kol-button-wc>\r\n\t\t\t\t)}\r\n\t\t\t</kol-button-group-wc>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate tabPanelHost?: HTMLDivElement;\r\n\r\n\tprivate readonly catchTabPanelHost = (el?: HTMLDivElement) => {\r\n\t\tthis.tabPanelHost = el;\r\n\t};\r\n\r\n\tpublic render(): JSX.Element {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={(el) => {\r\n\t\t\t\t\t\tthis.tabPanelsElement = el as HTMLElement;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclass={{\r\n\t\t\t\t\t\t[`tabs-align-${this.state._tabsAlign}`]: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.renderButtonGroup()}\r\n\t\t\t\t\t<div ref={this.catchTabPanelHost}>{/* <slot /> */}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Setzt die sichtbare oder semantische Beschriftung der Komponente (z.B. Aria-Label, Label, Headline, Caption, Summary usw.).\r\n\t *\r\n\t *  @deprecated use _label instead\r\n\t */\r\n\t@Prop() public _ariaLabel?: string;\r\n\r\n\t/**\r\n\t * Setzt die sichtbare oder semantische Beschriftung der Komponente (z.B. Aria-Label, Label, Headline, Caption, Summary usw.).\r\n\t */\r\n\t@Prop() public _label?: LabelPropType; // TODO: required in v2\r\n\r\n\t/**\r\n\t * Gibt die Liste der Callback-Funktionen an, die auf Events aufgerufen werden sollen.\r\n\t */\r\n\t@Prop() public _on?: KoliBriTabsCallbacks;\r\n\r\n\t/**\r\n\t * Gibt an, welches Tab selektiert sein soll.\r\n\t */\r\n\t@Prop({ mutable: true, reflect: true }) public _selected?: number = 0;\r\n\r\n\t/**\r\n\t * Setzt die Daten für die Registrierkarten.\r\n\t */\r\n\t@Prop() public _tabs!: Stringified<TabButtonProps[]>;\r\n\r\n\t/**\r\n\t * Setzt die Position der Registrierkarten.\r\n\t */\r\n\t@Prop() public _tabsAlign?: Align = 'top';\r\n\r\n\t@State() public state: KoliBriTabsStates = {\r\n\t\t_label: '…', // ⚠ required\r\n\t\t_selected: 0,\r\n\t\t_tabs: [],\r\n\t\t_tabsAlign: 'top',\r\n\t};\r\n\r\n\tprivate selectNextNotDisabledTab = (selected: number, tabs: TabButtonProps[], upOrDown = true, initialSelected?: number): number => {\r\n\t\tif (selected > tabs.length - 1) {\r\n\t\t\tselected = tabs.length - 1;\r\n\t\t}\r\n\t\tif (selected < 0) {\r\n\t\t\tselected = 0;\r\n\t\t}\r\n\t\tif (Array.isArray(tabs) && tabs[selected]) {\r\n\t\t\tif (tabs[selected]._disabled) {\r\n\t\t\t\tif (upOrDown === true) {\r\n\t\t\t\t\tif (selected < tabs.length - 1) {\r\n\t\t\t\t\t\treturn this.selectNextNotDisabledTab(selected + 1, tabs, true, initialSelected || selected);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselected = initialSelected || selected;\r\n\t\t\t\t\t\tupOrDown = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (upOrDown === false) {\r\n\t\t\t\t\tif (selected > 0) {\r\n\t\t\t\t\t\treturn this.selectNextNotDisabledTab(selected - 1, tabs, false, initialSelected || selected);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdevHint(`[KolTabs] Alle Tabs sind deaktiviert und somit kann kein Tab angezeigt werden.`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selected;\r\n\t};\r\n\r\n\tprivate syncSelectedAndTabs = (nextValue: unknown, nextState: Map<string, unknown>, _component: Generic.Element.Component, key: string) => {\r\n\t\tlet selected: number;\r\n\t\tif (key === '_selected') {\r\n\t\t\tselected = nextValue as number;\r\n\t\t} else {\r\n\t\t\tselected = this.state._selected;\r\n\t\t}\r\n\t\tlet tabs: TabButtonProps[];\r\n\t\tif (key === '_tabs') {\r\n\t\t\ttabs = nextValue as TabButtonProps[];\r\n\t\t} else {\r\n\t\t\ttabs = this.state._tabs;\r\n\t\t}\r\n\t\tif (tabs.length > 0) {\r\n\t\t\tnextState.set('_selected', this.selectNextNotDisabledTab(selected, tabs));\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\t@Watch('_ariaLabel')\r\n\tpublic validateAriaLabel(value?: string): void {\r\n\t\tthis.validateLabel(value);\r\n\t}\r\n\r\n\t@Watch('_label')\r\n\tpublic validateLabel(value?: LabelPropType): void {\r\n\t\tvalidateLabel(this, value);\r\n\t}\r\n\r\n\t@Watch('_on')\r\n\tpublic validateOn(value?: KoliBriTabsCallbacks): void {\r\n\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\tfeatureHint('[KolTabs] Prüfen, wie man auch einen EventCallback einzeln ändern kann.');\r\n\t\t\tconst callbacks: KoliBriTabsCallbacks = {};\r\n\t\t\tif (typeof value.onCreate === 'function' || typeof value.onCreate === 'object') {\r\n\t\t\t\tif (typeof value.onCreate === 'object') {\r\n\t\t\t\t\tif (typeof value.onCreate.label === 'string' && value.onCreate.label.length > 0) {\r\n\t\t\t\t\t\tthis.onCreateLabel = value.onCreate.label;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.debug(\r\n\t\t\t\t\t\t\t`[KolTabs] Der Label-Text für Neu in {\r\n  onCreate: {\r\n    label: string (!),\r\n    callback: Function\r\n  }\r\n} ist nicht korrekt gesetzt.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof value.onCreate.callback === 'function') {\r\n\t\t\t\t\t\tcallbacks.onCreate = value.onCreate.callback;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.debug(\r\n\t\t\t\t\t\t\t`[KolTabs] Die onCreate-Callback-Funktion für Neu in {\r\n  onCreate: {\r\n    label: string,\r\n    callback: Function (!)\r\n  }\r\n} ist nicht korrekt gesetzt.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallbacks.onCreate = value.onCreate;\r\n\t\t\t\t}\r\n\t\t\t\tthis.showCreateTab = typeof callbacks.onCreate === 'function';\r\n\t\t\t}\r\n\t\t\tif (typeof value.onSelect === 'function') {\r\n\t\t\t\tcallbacks.onSelect = value.onSelect;\r\n\t\t\t}\r\n\t\t\tsetState<KoliBriTabsCallbacks>(this, '_on', callbacks);\r\n\t\t}\r\n\t}\r\n\r\n\t@Watch('_selected')\r\n\tpublic validateSelected(value?: number): void {\r\n\t\twatchNumber(this, '_selected', value, {\r\n\t\t\thooks: {\r\n\t\t\t\tbeforePatch: this.syncSelectedAndTabs,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t@Watch('_tabs')\r\n\tpublic validateTabs(value?: Stringified<TabButtonProps[]>): void {\r\n\t\twatchJsonArrayString(\r\n\t\t\tthis,\r\n\t\t\t'_tabs',\r\n\t\t\t(item: TabButtonProps) => typeof item === 'object' && item !== null && typeof item._label === 'string' && item._label.length > 0,\r\n\t\t\tvalue,\r\n\t\t\tundefined,\r\n\t\t\t{\r\n\t\t\t\thooks: {\r\n\t\t\t\t\tbeforePatch: this.syncSelectedAndTabs,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\tuiUxHintMillerscheZahl('KolTabs', this.state._tabs.length);\r\n\t}\r\n\r\n\t@Watch('_tabsAlign')\r\n\tpublic validateTabsAlign(value?: Align): void {\r\n\t\tvalidateAlignment(this, '_tabsAlign', value);\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tthis.validateLabel(this._label || this._ariaLabel);\r\n\t\tthis.validateOn(this._on);\r\n\t\tthis.validateSelected(this._selected);\r\n\t\tthis.validateTabs(this._tabs);\r\n\t\tthis.validateTabsAlign(this._tabsAlign);\r\n\t}\r\n\r\n\tprivate readonly handleTabPanels = () => {\r\n\t\tif (this.tabPanelHost instanceof HTMLDivElement) {\r\n\t\t\tfor (let i = this.tabPanelHost.children.length; i < this.state._tabs.length; i++) {\r\n\t\t\t\tconst div = document.createElement('div');\r\n\t\t\t\tdiv.setAttribute('aria-labelledby', `tab-${i}`);\r\n\t\t\t\tdiv.setAttribute('id', `tabpanel-${i}`);\r\n\t\t\t\tdiv.setAttribute('role', 'tabpanel');\r\n\t\t\t\tdiv.setAttribute('hidden', '');\r\n\t\t\t\tconst slot = document.createElement('slot');\r\n\t\t\t\tslot.setAttribute('name', `tabpanel-slot-${i}`);\r\n\t\t\t\tdiv.appendChild(slot);\r\n\t\t\t\tthis.tabPanelHost.appendChild(div);\r\n\t\t\t\tif (this.host?.children instanceof HTMLCollection && this.host?.children[i] /* SSR instanceof HTMLElement */) {\r\n\t\t\t\t\t// div.appendChild(this.host?.children[0]);\r\n\t\t\t\t\tthis.host?.children[i].setAttribute('slot', `tabpanel-slot-${i}`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tpublic componentDidRender(): void {\r\n\t\tthis.handleTabPanels();\r\n\t\tif (this.tabPanelHost instanceof HTMLDivElement) {\r\n\t\t\tfor (let i = 0; i < this.tabPanelHost.children.length; i++) {\r\n\t\t\t\tif (i !== this.state._selected) {\r\n\t\t\t\t\tthis.tabPanelHost.children[i].setAttribute('hidden', '');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.tabPanelHost.children[i].removeAttribute('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSelect(event: CustomEvent | KeyboardEvent | MouseEvent | PointerEvent, index: number, focus = false): void {\r\n\t\tthis._selected = index;\r\n\t\tif (typeof this._on?.onSelect === 'function') {\r\n\t\t\tthis._on?.onSelect(event, index);\r\n\t\t}\r\n\t\tif (focus === true) {\r\n\t\t\t// TODO: prüfen, ob hier noch was offen ist\r\n\t\t\t// devHint('[KolTabs] Tab-Fokus-verschieben geht im Moment nicht.');\r\n\t\t\tthis.selectedTimeout = setTimeout(() => {\r\n\t\t\t\tclearTimeout(this.selectedTimeout);\r\n\t\t\t\tif (this.tabPanelsElement /* SSR instanceof HTMLElement */) {\r\n\t\t\t\t\tconst button: HTMLElement | null = koliBriQuerySelector(`button#tab-${index}`, this.tabPanelsElement);\r\n\t\t\t\t\tbutton?.focus();\r\n\t\t\t\t}\r\n\t\t\t}, 250);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onCreate = (event: Event) => {\r\n\t\tevent.stopPropagation();\r\n\t\tif (typeof this.state._on?.onCreate === 'function') {\r\n\t\t\tthis.state._on?.onCreate(event);\r\n\t\t}\r\n\t};\r\n}\r\n"],"mappings":"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"}