{"version":3,"names":["beforePatchIcon","value","nextState","icon","isString","right","left","set","InputIconController","InputController","constructor","component","name","host","super","this","validateIcon","objectObjectHandler","parseJson","e","watchValidator","isIcon","Set","hooks","beforePatch","required","componentWillLoad","_icon"],"sources":["src/components/@deprecated/input/controller-icon.ts"],"sourcesContent":["import { Generic } from '@a11y-ui/core';\r\n\r\nimport { Stringified } from '../../../types/common';\r\nimport { KoliBriHorizontalIcon } from '../../../types/icon';\r\nimport { isIcon } from '../../../types/props/icon';\r\nimport { objectObjectHandler, parseJson, watchValidator } from '../../../utils/prop.validators';\r\nimport { isString } from '../../../utils/validator';\r\nimport { InputController } from './controller';\r\nimport { Props, Watches } from './types-icon';\r\n\r\nconst beforePatchIcon = (value: unknown, nextState: Map<string, unknown>): void => {\r\n\tconst icon = value as KoliBriHorizontalIcon;\r\n\tif (typeof icon === 'object' && icon !== null) {\r\n\t\tif (isString(icon.right, 1)) {\r\n\t\t\ticon.right = { icon: icon.right as string };\r\n\t\t}\r\n\t\tif (isString(icon.left, 1)) {\r\n\t\t\ticon.left = { icon: icon.left as string };\r\n\t\t}\r\n\t\tnextState.set('_icon', icon);\r\n\t}\r\n};\r\n\r\nexport class InputIconController extends InputController implements Watches {\r\n\tprotected readonly component: Generic.Element.Component & Props;\r\n\r\n\tpublic constructor(component: Generic.Element.Component & Props, name: string, host?: HTMLElement) {\r\n\t\tsuper(component, name, host);\r\n\t\tthis.component = component;\r\n\t}\r\n\r\n\tpublic validateIcon(value?: Stringified<KoliBriHorizontalIcon>): void {\r\n\t\tobjectObjectHandler(value, () => {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = parseJson<KoliBriHorizontalIcon>(value as string);\r\n\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t}\r\n\t\t\twatchValidator(\r\n\t\t\t\tthis.component,\r\n\t\t\t\t'_icon',\r\n\t\t\t\t(value): boolean => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\ttypeof value === 'object' && value !== null && (isString(value.left, 1) || isIcon(value.left) || isString(value.right, 1) || isIcon(value.right))\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\tnew Set(['KoliBriHorizontalIcon']),\r\n\t\t\t\tvalue,\r\n\t\t\t\t{\r\n\t\t\t\t\thooks: {\r\n\t\t\t\t\t\tbeforePatch: beforePatchIcon,\r\n\t\t\t\t\t},\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic componentWillLoad(): void {\r\n\t\tsuper.componentWillLoad();\r\n\t\tthis.validateIcon(this.component._icon);\r\n\t}\r\n}\r\n"],"mappings":";;;4LAUA,MAAMA,EAAkB,CAACC,EAAgBC,KACxC,MAAMC,EAAOF,EACb,UAAWE,IAAS,UAAYA,IAAS,KAAM,CAC9C,GAAIC,EAASD,EAAKE,MAAO,GAAI,CAC5BF,EAAKE,MAAQ,CAAEF,KAAMA,EAAKE,M,CAE3B,GAAID,EAASD,EAAKG,KAAM,GAAI,CAC3BH,EAAKG,KAAO,CAAEH,KAAMA,EAAKG,K,CAE1BJ,EAAUK,IAAI,QAASJ,E,SAIZK,UAA4BC,EAGxCC,YAAmBC,EAA8CC,EAAcC,GAC9EC,MAAMH,EAAWC,EAAMC,GACvBE,KAAKJ,UAAYA,C,CAGXK,aAAaf,GACnBgB,EAAoBhB,GAAO,KAC1B,IACCA,EAAQiB,EAAiCjB,E,CAExC,MAAOkB,G,CAGTC,EACCL,KAAKJ,UACL,SACCV,UAEQA,IAAU,UAAYA,IAAU,OAASG,EAASH,EAAMK,KAAM,IAAMe,EAAOpB,EAAMK,OAASF,EAASH,EAAMI,MAAO,IAAMgB,EAAOpB,EAAMI,SAG5I,IAAIiB,IAAI,CAAC,0BACTrB,EACA,CACCsB,MAAO,CACNC,YAAaxB,GAEdyB,SAAU,MAEX,G,CAIIC,oBACNZ,MAAMY,oBACNX,KAAKC,aAAaD,KAAKJ,UAAUgB,M"}