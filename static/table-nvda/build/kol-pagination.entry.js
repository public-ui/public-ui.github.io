/*!
 * KoliBri - The accessible HTML-Standard
 */
import{r as t,h as i,H as s}from"./index-330c31f9.js";import{a as e}from"./i18n-931157b2.js";import{w as o}from"./button-link-6460a64a.js";import{n as a}from"./dev.utils-5b0de6da.js";import{e as n,w as l,a as h,d as r,p}from"./prop.validators-0a66a178.js";import{S as u}from"./reuse-c2156413.js";import{w as c}from"./controller-1e40c612.js";import"./index-fc511254.js";import"./index-3711603c.js";import"./a11y.tipps-beae7792.js";const d=":host{--a11y-min-size:44px;font-size:inherit}*{hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}[role='button'],button:not([role='link']),kol-input .input{min-height:var(--a11y-min-size);min-width:var(--a11y-min-size)}a,button,h1,h2,h3,h4,h5,h6,input,option,select,textarea{font-family:inherit;font-size:inherit}:is(a,button){background-color:transparent;border:none;margin:0;padding:0;width:100%;}:host{max-width:100%}*{box-sizing:border-box}kol-span-wc{display:grid;place-items:center}kol-span-wc>span{display:flex;place-items:center}a,button{cursor:pointer}button,input,option,select,textarea{font-family:inherit}.icon-only>kol-span-wc>span>span{display:none}.separator:before{content:'•••'}";const _={left:"codicon codicon-debug-reverse-continue"};const f={left:"codicon codicon-chevron-left"};const b={right:"codicon codicon-chevron-right"};const g={right:"codicon codicon-debug-continue"};const v=class{constructor(i){t(this,i);this.nonce=a();this.calcCount=(t,i=1)=>Math.ceil(t/i);this.getCount=()=>this.calcCount(this.state._total,this.state._pageSize);this.onClick=(t,i)=>{if(typeof this.state._on.onClick==="function"){this.state._on.onClick(t,i)}this.onChangePage(t,i)};this.onChangePage=(t,i)=>{const s=setTimeout((()=>{clearTimeout(s);if(typeof this.state._on.onChangePage==="function"){this.state._on.onChangePage(t,i)}}))};this.onChangePageSize=(t,i)=>{i=parseInt(i[0]);if(typeof i==="number"&&i>0&&this._pageSize!==i){this._pageSize=i;const s=setTimeout((()=>{clearTimeout(s);if(typeof this.state._on.onChangePageSize==="function"){this.state._on.onChangePageSize(t,this._pageSize)}}))}};this.onGoToFirst={onClick:t=>{this.onClick(t,1)}};this.onGoToEnd={onClick:t=>{this.onClick(t,this.getCount())}};this.onGoBackward={onClick:t=>{this.onClick(t,this.state._page-1)}};this.onGoForward={onClick:t=>{this.onClick(t,this.state._page+1)}};this.beforePageSize=(t,i)=>{let s=i.has("_pageSize")?i.get("_pageSize"):this.state._pageSize;const e=i.has("_pageSizeOptions")?i.get("_pageSizeOptions"):this.state._pageSizeOptions;if(Array.isArray(e)&&e.length>0){const t=e.find((t=>t.value===s));if(t===undefined){s=e[0].value}else{s=t.value}i.set("_pageSize",s)}const o=i.has("_page")?i.get("_page"):this.state._page;const a=i.has("_total")?i.get("_total"):this.state._total;this.syncPage(i,o,i.get("_pageSize"),a)};this.syncPage=(t,i,s,e)=>{if(e>0){const o=this.calcCount(e,s);if(o>0){if(i>o){t.set("_page",o);this.onChangePage(u,o)}else if(i<1){t.set("_page",1);this.onChangePage(u,1)}}}};this.beforePageSizeOptions=(t,i)=>{const s=[];if(Array.isArray(t)){for(const i of t){if(typeof i==="number"){s.push({label:e("kol-page-per-site",{placeholders:{entries:`${i}`}}),value:i})}}}i.set("_pageSizeOptions",s);this.beforePageSize(s,i)};this._boundaryCount=1;this._customClass=undefined;this._hasButtons=true;this._page=undefined;this._pageSize=1;this._pageSizeOptions=[];this._on=undefined;this._siblingCount=1;this._tooltipAlign="top";this._total=undefined;this._variant="normal";this.state={_boundaryCount:1,_hasButtons:{first:true,last:true,next:true,previous:true},_on:{onClick:()=>null},_page:0,_pageSize:1,_pageSizeOptions:[],_siblingCount:1,_total:0,_variant:"normal"}}render(){var t;let o=false;const a=this.getCount();const n=Array.from(Array(a).keys()).map((t=>t+1)).map((t=>{if(t<=this.state._boundaryCount||t>a-this.state._boundaryCount||t>=this.state._page-this.state._siblingCount&&t<=this.state._page+this.state._siblingCount){o=true;if(this.state._page===t){return this.getSelectedPageButton(t)}else{return this.getUnselectedPageButton(t)}}else if(o===true){o=false;return i("span",{class:"separator",key:`${this.nonce}-el-${t}`})}else{return null}}));return i(s,null,i("div",null,this.state._hasButtons.first&&i("kol-button",{class:"first",exportparts:"icon",_customClass:this.state._customClass,_disabled:this.state._page<=1,_icon:_,_hideLabel:true,_label:e("kol-page-first"),_on:this.onGoToFirst,_variant:this.state._variant,_tooltipAlign:this.state._tooltipAlign}),this.state._hasButtons.previous&&i("kol-button",{class:"previous",exportparts:"icon",_customClass:this.state._customClass,_disabled:this.state._page<=1,_icon:f,_hideLabel:true,_label:e("kol-page-back"),_on:this.onGoBackward,_variant:this.state._variant,_tooltipAlign:this.state._tooltipAlign}),n,this.state._hasButtons.next&&i("kol-button",{class:"next",exportparts:"icon",_customClass:this.state._customClass,_disabled:a<=this.state._page,_icon:b,_hideLabel:true,_label:e("kol-page-next"),_on:this.onGoForward,_variant:this.state._variant,_tooltipAlign:this.state._tooltipAlign}),this.state._hasButtons.last&&i("kol-button",{class:"last",exportparts:"icon",_customClass:this.state._customClass,_disabled:a<=this.state._page,_icon:g,_hideLabel:true,_label:e("kol-page-last"),_on:this.onGoToEnd,_variant:this.state._variant,_tooltipAlign:this.state._tooltipAlign})),((t=this.state._pageSizeOptions)===null||t===void 0?void 0:t.length)>0&&i("kol-select",{_hideLabel:true,_id:"pagination-size",_label:e("kol-entries-per-site"),_list:this.state._pageSizeOptions,_on:{onChange:this.onChangePageSize},_value:[this.state._pageSize]}))}getUnselectedPageButton(t){return i("kol-button",{exportparts:"icon",key:`${this.nonce}-${t}`,_customClass:this.state._customClass,_label:`${t}`,_on:{onClick:i=>{this.onClick(i,t)}},_variant:this.state._variant})}getSelectedPageButton(t){return i("kol-button-wc",{class:"selected",key:`${this.nonce}-selected`,_customClass:this.state._customClass,_disabled:true,_ariaCurrent:true,_label:`${t}`,_variant:this.state._variant})}validateBoundaryCount(t){n(this,"_boundaryCount",Math.max(0,t!==null&&t!==void 0?t:1))}validateCustomClass(t){l(this,"_customClass",t,{defaultValue:undefined})}validateHasButtons(t){h(this,"_hasButtons",(t=>typeof t==="boolean"||typeof t==="string"||typeof t==="object"&&t!==null),new Set(["Boolean","PaginationHasButton"]),t,{hooks:{beforePatch:(t,i)=>{if(typeof t==="boolean"){i.set("_hasButtons",{first:t,last:t,next:t,previous:t})}else{if(typeof t==="string"){try{t=p(t)}catch(t){i.delete("_hasButtons")}}if(typeof t==="object"&&t!==null){i.set("_hasButtons",Object.assign(Object.assign({},this.state._hasButtons),{first:typeof t.first==="boolean"?t.first===true:this.state._hasButtons.first,last:typeof t.last==="boolean"?t.last===true:this.state._hasButtons.last,next:typeof t.next==="boolean"?t.next===true:this.state._hasButtons.next,previous:typeof t.previous==="boolean"?t.previous===true:this.state._hasButtons.previous}))}}}}})}validateOn(t){if(typeof t==="object"&&t!==null){this.state=Object.assign(Object.assign({},this.state),{_on:t})}}validatePage(t){n(this,"_page",t,{hooks:{beforePatch:(t,i)=>{const s=i.has("_pageSize")?i.get("_pageSize"):this.state._pageSize;const e=i.has("_total")?i.get("_total"):this.state._total;this.syncPage(i,t,s,e)}}})}validatePageSize(t){n(this,"_pageSize",t,{hooks:{beforePatch:this.beforePageSize}})}validatePageSizeOptions(t){r(this,"_pageSizeOptions",(t=>typeof t==="number"),t,undefined,{hooks:{beforePatch:this.beforePageSizeOptions}})}validateSiblingCount(t){n(this,"_siblingCount",Math.max(0,t!==null&&t!==void 0?t:1))}validateTotal(t){n(this,"_total",t,{hooks:{beforePatch:(t,i)=>{const s=i.has("_page")?i.get("_page"):this.state._page;const e=i.has("_pageSize")?i.get("_pageSize"):this.state._pageSize;this.syncPage(i,s,e,t)}}})}validateTooltipAlign(t){o(this,"_tooltipAlign",t)}validateVariant(t){c(this,"_variant",t)}componentWillLoad(){this.validateBoundaryCount(this._boundaryCount);this.validateCustomClass(this._customClass);this.validateHasButtons(this._hasButtons);this.validateOn(this._on);this.validatePage(this._page);this.validatePageSize(this._pageSize);this.validatePageSizeOptions(this._pageSizeOptions);this.validateSiblingCount(this._siblingCount);this.validateTooltipAlign(this._tooltipAlign);this.validateTotal(this._total);this.validateVariant(this._variant);this.validatePage(this._page)}static get watchers(){return{_boundaryCount:["validateBoundaryCount"],_customClass:["validateCustomClass"],_hasButtons:["validateHasButtons"],_on:["validateOn"],_page:["validatePage"],_pageSize:["validatePageSize"],_pageSizeOptions:["validatePageSizeOptions"],_siblingCount:["validateSiblingCount"],_total:["validateTotal"],_tooltipAlign:["validateTooltipAlign"],_variant:["validateVariant"]}}};v.style={default:d};export{v as kol_pagination};
//# sourceMappingURL=kol-pagination.entry.js.map