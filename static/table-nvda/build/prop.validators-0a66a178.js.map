{"version":3,"names":["pushNodes","set","domNodes","forEach","domNode","has","add","querySelectorAll","selector","node","document","Document","HTMLElement","ShadowRoot","Set","nodeList","i","length","shadowRoot","Array","from","Error","querySelector","arr","arr_1","obj_1","obj","css_1","css","hex_1","hex","num_1","num","data","a","parse","concat","Math","round","r","g","b","push","String","substr","opaque","num2hex","is","isshort","charAt","toLowerCase","name","hex3","hex6","rgb","rgba","object","array","number","s","toString","h","indexOf","str","hex2num","parseInt","replace","l","isNaN","slice","getnum","val","integer","floor","Object","prototype","call","getPrototypeOf","undefined","red","green","blue","alpha","isArray","match","t","split","map","Number","n","e","u","pow","c","o","f","substring","repeat","max","min","OBJECT_OBJECT","objectObjectHandler","value","cb","test","emptyStringByArrayHandler","setEventTarget","event","target","getExperimalMode","Log","debug","defineProperty","writable","patchState","component","_a","nextHooks","hooks","key","beforePatch","get","nextState","_b","size","state","assign","fromEntries","_c","afterPatch","setState","propName","Map","logWarn","requiredGeneric","devHint","constructor","join","watchValidator","validationFunction","options","required","defaultValue","watchBoolean","watchString","minLength","maxLength","watchNumber","watchJsonArrayString","itemValidation","arrayValidation","items","parseJson","invalid","find","item","error","BOOLEAN","INTEGER","FLOAT","mapString2Unknown","typeStr","oldValue","parseFloat","JSON_CHARS","JSON","stringify","stringifyJson","warn","mapBoolean2String","mapStringOrBoolean2String","koliBriQuerySelector","getDocument","koliBriQuerySelectorAll","DEFAULT_COLOR_CONTRAST","getDefaultColorContrast","backgroundColor","color","body","level","score","TRANSPARENT_REGEXP","koliBriA11yColorContrast","a11yColorContrast","computedStyle","getComputedStyle","hexBG","hexC","diff","contrast","koliBriQuerySelectorColors","selectedNode","scrollByHTMLElement","element","parentElement","window","scrollTo","behavior","top","getBoundingClientRect","getWindow","pageYOffset","focus","scrollBySelector","temp","KoliBriUtils","static","targetNode","recursion","log","returnValue","executionLock","cache","clear","children","shadowChildren","slotElement","assignedNodes","slotChildren","domChildren","arrayChildren","colorContrast","colors","queryHtmlElementColors","KoliBriDevHelper","patchTheme","patchThemeTag"],"sources":["node_modules/.pnpm/query-selector-all-shadow-root@0.0.3/node_modules/query-selector-all-shadow-root/esm/index.js","node_modules/.pnpm/query-selector-shadow-root@0.0.3/node_modules/query-selector-shadow-root/esm/index.js","node_modules/.pnpm/rgba-convert@0.3.0/node_modules/rgba-convert/index.js","node_modules/.pnpm/wcag-contrast@3.0.0/node_modules/wcag-contrast/dist/index.m.js","src/utils/prop.validators.ts"],"sourcesContent":["const pushNodes = (set, domNodes) => {\n    domNodes.forEach((domNode) => {\n        if (set.has(domNode) === false) {\n            set.add(domNode);\n        }\n    });\n};\nexport const querySelectorAll = (selector, node = document) => {\n    if (node instanceof Document ||\n        node instanceof HTMLElement ||\n        node instanceof ShadowRoot) {\n        const domNodes = new Set();\n        pushNodes(domNodes, node.querySelectorAll(selector));\n        const nodeList = node.querySelectorAll('[class*=\"hydrated\"]');\n        for (let i = 0; i < nodeList.length; i++) {\n            const shadowRoot = nodeList[i].shadowRoot;\n            if (typeof shadowRoot === \"object\" && shadowRoot !== null) {\n                pushNodes(domNodes, querySelectorAll(selector, shadowRoot));\n            }\n            else {\n                pushNodes(domNodes, querySelectorAll(selector, nodeList[i]));\n            }\n        }\n        return Array.from(domNodes);\n    }\n    else {\n        throw new Error(`The parameter document for the method querySelectorAll is not type of Document, HTMLElement or ShadowRoot.`);\n    }\n};\n//# sourceMappingURL=index.js.map","export const querySelector = (selector, node = document) => {\n    if (node instanceof Document ||\n        node instanceof HTMLElement ||\n        node instanceof ShadowRoot) {\n        let domNode = node.querySelector(selector);\n        if (domNode === null) {\n            const nodeList = node.querySelectorAll('[class*=\"hydrated\"]');\n            for (let i = 0; i < nodeList.length; i++) {\n                const shadowRoot = nodeList[i].shadowRoot;\n                if (typeof shadowRoot === \"object\" && shadowRoot !== null) {\n                    domNode = querySelector(selector, shadowRoot);\n                }\n                else {\n                    domNode = querySelector(selector, nodeList[i]);\n                }\n                if (domNode !== null) {\n                    break;\n                }\n            }\n        }\n        return domNode;\n    }\n    else {\n        throw new Error(`The parameter document for the method querySelector is not type of Document, HTMLElement or ShadowRoot.`);\n    }\n};\n//# sourceMappingURL=index.js.map","\nmodule.exports     = arr\nmodule.exports.arr = arr\nmodule.exports.obj = obj\nmodule.exports.css = css\nmodule.exports.hex = hex\nmodule.exports.num = num\n\nfunction arr(data) {\n  var a = parse(data)\n  if (a.length == 3) {\n    return a.concat(255)\n  } else {\n    a[3] = Math.round(a[3])\n    return a\n  }\n}\n\nfunction obj(data) {\n  var a = parse(data)\n  return {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length == 3\n      ? 255\n      : Math.round(a[3])\n  }\n}\n\nfunction css(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n\n  return a[3] == 255\n    ? 'rgb(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')'\n    : a[3] == 0\n      ? 'rgba(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', 0)'\n      : 'rgba(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + String(a[3] / 255).substr(1) + ')'\n}\n\nfunction hex(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n  var opaque = a[3] == 255\n  var r = num2hex(a[0])\n  var g = num2hex(a[1])\n  var b = num2hex(a[2])\n  var a = num2hex(Math.round(a[3]))\n  var is = isshort(r, g, b, a)\n  if (opaque) {\n    return is\n      ? '#' + r.charAt(0) + g.charAt(0) + b.charAt(0)\n      : '#' + r + g + b\n  }\n  return is\n    ? '#' + r.charAt(0) + g.charAt(0) + b.charAt(0) + a.charAt(0)\n    : '#' + r + g + b + a\n}\n\nfunction num(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n  else a[3] = Math.round(a[3])\n  return ((a[3] << 24) >>> 0 | a[0] << 16 | a[1] << 8 | a[2]) >>> 0\n}\n\nfunction parse(data) {\n  if (typeof data == 'string') {\n    data = data.toLowerCase()\n    return name(data)\n      || hex3(data)\n      || hex6(data)\n      || rgb(data)\n      || rgba(data)\n      || [0, 0, 0, 255]\n  }\n  return object(data)\n    || array(data)\n    || number(data)\n    || [0, 0, 0, 255]\n}\n\nfunction num2hex(num) {\n  var s = num.toString(16)\n  return s.length == 1\n    ? '0' + s\n    : s\n}\n\nfunction isshort(r, g, b, a) {\n  var h = ['ff', '00', '11', '22', '33', '44', '55', '66',\n           '77', '88', '99', 'aa', 'bb', 'cc', 'dd', 'ee']\n  return h.indexOf(r) != -1\n    && h.indexOf(g) != -1\n    && h.indexOf(b) != -1\n    && h.indexOf(a) != -1\n}\n\nfunction name(str) {\n  if (str == 'red')     return [255, 0, 0]\n  if (str == 'green')   return [0, 255, 0]\n  if (str == 'blue')    return [0, 0, 255]\n  if (str == 'black')   return [0, 0, 0]\n  if (str == 'white')   return [255, 255, 255]\n  if (str == 'cyan')    return [0, 255, 255]\n  if (str == 'gray')    return [128, 128, 128]\n  if (str == 'grey')    return [128, 128, 128]\n  if (str == 'magenta') return [255, 0, 255]\n  // ok, not the real css `pink` but my personal `magenta` alias\n  // `pink` is simpler than `fuchsia`, whatever...\n  if (str == 'pink')    return [255, 0, 255]\n  if (str == 'yellow')  return [255, 255, 0]\n}\n\nfunction hex2num(str) {\n  return str.length == 1\n    ? parseInt(str + str, 16)\n    : parseInt(str, 16)\n}\n\nfunction hex3(str) {\n  var s = str.replace(/^#/,'')\n  var l = s.length\n  if (l == 3 || l == 4) {\n    var r = hex2num(s[0])\n    var g = hex2num(s[1])\n    var b = hex2num(s[2])\n    var a = l == 3\n      ? 255\n      : hex2num(s[3])\n\n    if (isNaN(r) || isNaN(g) || isNaN(b) || isNaN(a)) return\n\n    return [r, g, b, a]\n  }\n}\n\nfunction hex6(str) {\n  var s = str.replace(/^#/,'')\n  var l = s.length\n  if (l == 6 || l == 8) {\n    var r = hex2num(s.slice(0, 2))\n    var g = hex2num(s.slice(2, 4))\n    var b = hex2num(s.slice(4, 6))\n    var a = l == 6\n      ? 255\n      : hex2num(s.slice(6, 8))\n\n    if (isNaN(r) || isNaN(g) || isNaN(b) || isNaN(a)) return\n\n    return [r, g, b, a]\n  }\n}\n\nfunction getnum(val, integer) {\n  if (typeof val != 'number') return -1\n  if (integer === true && Math.floor(val) !== val) return -1\n  return val >= 0 && val <= 255\n    ? val\n    : -1\n}\n\nfunction object(obj) {\n  if (Object.prototype.toString.call(obj) === '[object Object]'\n    && Object.getPrototypeOf(obj) === Object.getPrototypeOf({})) {\n    var r = getnum(obj.r != undefined ? obj.r : obj.red   != undefined ? obj.red   : 0,   true)\n    var g = getnum(obj.g != undefined ? obj.g : obj.green != undefined ? obj.green : 0,   true)\n    var b = getnum(obj.b != undefined ? obj.b : obj.blue  != undefined ? obj.blue  : 0,   true)\n    var a = getnum(obj.a != undefined ? obj.a : obj.alpha != undefined ? obj.alpha : 255, true)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n\nfunction array(arr) {\n  if (Array.isArray(arr) && (arr.length == 3 || arr.length == 4)) {\n    var r = getnum(arr[0],   true)\n    var g = getnum(arr[1],   true)\n    var b = getnum(arr[2],   true)\n    var a = getnum(arr[3] != undefined ? arr[3] : 255, true)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n\nfunction number(num) {\n  if (typeof num == 'number' && Math.floor(num) == num && num <= 4294967295 && num >= 0) {\n    var a = num >> 24 & 255\n    var r = num >> 16 & 255\n    var g = num >> 8  & 255\n    var b = num & 255\n    return [r, g, b, a]\n  }\n}\n\nfunction rgb(str) {\n  if (str.substr(0, 4) == 'rgb(') {\n    str = str.match(/^rgb\\(([^)]+)\\)/)[1]\n    var t = str.split(/ *, */).map(Number)\n    var r = getnum(t[0], true)\n    var g = getnum(t[1], true)\n    var b = getnum(t[2], true)\n    if (r != -1 && g != -1 && b != -1) {\n      return [r, g, b, 255]\n    }\n  }\n}\n\nfunction rgba(str) {\n  if (str.substr(0, 5) == 'rgba(') {\n    str = str.match(/^rgba\\(([^)]+)\\)/)[1]\n    var t = str.split(/ *, */).map(Number)\n    var r = getnum(t[0], true)\n    var g = getnum(t[1], true)\n    var b = getnum(t[2], true)\n    var a = getnum(t[3] * 255)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n","var n=.2126,r=.7152,t=.0722,e=1/12.92;function u(n){return Math.pow((n+.055)/1.055,2.4)}function a(a){var i=a[0]/255,c=a[1]/255,o=a[2]/255,s=i<=.03928?i*e:u(i),f=c<=.03928?c*e:u(c),l=o<=.03928?o*e:u(o);return s*n+f*r+l*t}function i(n){var r=255;8===(n=n.replace(/^#/,\"\")).length&&(r=parseInt(n.slice(6,8),16),n=n.substring(0,6)),4===n.length&&(r=parseInt(n.slice(3,4).repeat(2),16),n=n.substring(0,3)),3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var t=parseInt(n,16);return[t>>16,t>>8&255,255&t,r]}function c(n,r){return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function o(n,r){return c(a(n),a(r))}function s(n,r){return o(i(n),i(r))}function f(n){return n>=7?\"AAA\":n>=4.5?\"AA\":n>=3?\"AA Large\":\"Fail\"}export{c as luminance,o as rgb,s as hex,f as score};\n//# sourceMappingURL=index.m.js.map\n","import { querySelectorAll } from 'query-selector-all-shadow-root';\r\nimport { querySelector } from 'query-selector-shadow-root';\r\nimport rgba from 'rgba-convert';\r\nimport { hex, score } from 'wcag-contrast';\r\n\r\nimport { Generic, patchTheme, patchThemeTag } from '@a11y-ui/core';\r\n\r\nimport { Stringified } from '../types/common';\r\nimport { devHint } from './a11y.tipps';\r\nimport { getDocument, getExperimalMode, getWindow, Log } from './dev.utils';\r\n\r\n// https://regex101.com/r/lSYLO9/1\r\n/**\r\n * Bei Stencil kann es vorkommen, dass bei der Übergabe eines komplexer Objekte\r\n * der String \"[object Object]\" an die Web Component übergeben wird. Um den Neben-\r\n * effekt abzufangen, wird dieser Fall abgefangen und nicht ausgeführt.\r\n */\r\nconst OBJECT_OBJECT = /\\[object Object\\]/;\r\nexport const objectObjectHandler = (value: unknown, cb: () => void): void => {\r\n\tif (typeof value === 'string' && OBJECT_OBJECT.test(value)) {\r\n\t\treturn;\r\n\t}\r\n\tcb();\r\n};\r\n\r\n/**\r\n * Bei Stencil kann es vorkommen, dass bei der Übergabe eines leeren Array's\r\n * ein leerer String an die Web Component übergeben wird. Um den Nebeneffekt\r\n * abzufangen, wird dieser Fall abgefangen und nicht ausgeführt.\r\n */\r\nexport const emptyStringByArrayHandler = (value: unknown, cb: () => void): void => {\r\n\tif (typeof value === 'string' && value === '') {\r\n\t\treturn;\r\n\t}\r\n\tcb();\r\n};\r\n\r\n/**\r\n * Bei interaktiven HTML-Elementen kommt es vor, dass der Event an einem nicht\r\n * interaktiven HTML-Element \"lostriggert\" und dann den DOM-Baum hoch propagiert.\r\n * Zu unterschiedlichen Zeitpunkten sind an dem einen Event somit immer unterschiedliche\r\n * HTML-Elemente.\r\n * Damit wir das \"richtige\" interaktive HTML-Element an das Event binden, setzen\r\n * wir das Target explizit und stoppen die Propagation.\r\n */\r\nexport const setEventTarget = (event: Event, target?: HTMLElement): void => {\r\n\tif (getExperimalMode()) {\r\n\t\tLog.debug([event, target]);\r\n\t\tLog.debug(`↑ We propagate the (submit) event to this target.`);\r\n\t}\r\n\tObject.defineProperty(event, 'target', {\r\n\t\tvalue: target,\r\n\t\twritable: false,\r\n\t});\r\n};\r\n\r\nconst patchState = (component: Generic.Element.Component): void => {\r\n\tcomponent.nextHooks?.forEach((hooks, key) => {\r\n\t\tconst beforePatch = hooks.get('beforePatch') as Generic.Element.NextStateHooksCallback;\r\n\t\tif (typeof beforePatch === 'function') {\r\n\t\t\tbeforePatch(component.nextState?.get(key), component.nextState as Map<string, unknown>, component, key);\r\n\t\t}\r\n\t});\r\n\t/**\r\n\t * Wenn in beforePatch Methoden die Änderung verworfen wird,\r\n\t * muss auch nicht der State aktualisiert und neu gerendert\r\n\t * werden.\r\n\t */\r\n\tif ((component.nextState as Map<string, unknown>)?.size > 0) {\r\n\t\tcomponent.state = {\r\n\t\t\t...component.state,\r\n\t\t\t...Object.fromEntries(component.nextState as Map<string, unknown>),\r\n\t\t};\r\n\t\tdelete component.nextState;\r\n\r\n\t\tcomponent.nextHooks?.forEach((hooks, key) => {\r\n\t\t\tconst afterPatch = hooks.get('afterPatch') as Generic.Element.StateHooksCallback;\r\n\t\t\tif (typeof afterPatch === 'function') {\r\n\t\t\t\tafterPatch(component.state[key], component.state, component, key);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tdelete component.nextHooks;\r\n};\r\n\r\ntype SetStateHooks = {\r\n\tafterPatch?: Generic.Element.StateHooksCallback;\r\n\tbeforePatch?: Generic.Element.NextStateHooksCallback;\r\n};\r\n\r\nexport const setState = <T>(component: Generic.Element.Component, propName: string, value?: T | null | undefined, hooks: SetStateHooks = {}): void => {\r\n\tif (component.nextHooks === undefined) {\r\n\t\tcomponent.nextHooks = new Map();\r\n\t}\r\n\tif (component.nextState === undefined) {\r\n\t\tcomponent.nextState = new Map();\r\n\t}\r\n\tif (component.nextState.get(propName) !== value) {\r\n\t\tconst nextHooks = component.nextHooks.get(propName);\r\n\t\tif (nextHooks instanceof Map === false) {\r\n\t\t\tcomponent.nextHooks.set(propName, new Map());\r\n\t\t}\r\n\t\tif (typeof hooks.afterPatch === 'function') {\r\n\t\t\tcomponent.nextHooks.get(propName)?.set('afterPatch', hooks.afterPatch);\r\n\t\t}\r\n\t\tif (typeof hooks.beforePatch === 'function') {\r\n\t\t\tcomponent.nextHooks.get(propName)?.set('beforePatch', hooks.beforePatch);\r\n\t\t}\r\n\t\tcomponent.nextState.set(propName, value);\r\n\t\t/**\r\n\t\t * Muss erstmal in sync bleiben, da sonst der\r\n\t\t * Tooltip nicht korrekt ausgerichtet wird.\r\n\t\t */\r\n\t\t// if (component.hydrated === true || processEnv !== 'test') {\r\n\t\t// clearTimeout(component.timeout as NodeJS.Timeout);\r\n\t\t// component.timeout = setTimeout(() => {\r\n\t\t// \tclearTimeout(component.timeout as NodeJS.Timeout);\r\n\t\t// \tpatchState(component);\r\n\t\t// }, 50);\r\n\t\t// } else {\r\n\t\tpatchState(component);\r\n\t\t// }\r\n\t}\r\n};\r\n\r\nconst logWarn = (component: Generic.Element.Component, propName: string, value: unknown, requiredGeneric: Set<string | null | undefined>): void => {\r\n\tdevHint(\r\n\t\t`[${component.constructor.name}] Der Property-Wert (${value as string}) für '${propName}' ist nicht valide. Folgende Werte sind erlaubt: ${Array.from(\r\n\t\t\trequiredGeneric\r\n\t\t).join(', ')}`\r\n\t);\r\n};\r\n\r\nexport type WatchOptions = {\r\n\tdefaultValue?: unknown;\r\n\thooks?: SetStateHooks;\r\n\trequired?: boolean;\r\n};\r\n\r\nexport type WatchBooleanOptions = WatchOptions & {\r\n\tdefaultValue?: boolean | null;\r\n};\r\n\r\nexport type WatchStringOptions = WatchOptions & {\r\n\tdefaultValue?: string | null;\r\n\tmaxLength?: number;\r\n\tminLength?: number;\r\n};\r\n\r\nexport type WatchNumberOptions = WatchOptions & {\r\n\tdefaultValue?: number | null;\r\n\tmin?: number;\r\n\tmax?: number;\r\n};\r\n\r\nexport function watchValidator<T>(\r\n\tcomponent: Generic.Element.Component,\r\n\tpropName: string,\r\n\tvalidationFunction: (value?: T) => boolean,\r\n\trequiredGeneric: Set<string | null | undefined>,\r\n\tvalue?: T,\r\n\toptions: WatchOptions = {}\r\n): void {\r\n\tif (validationFunction(value)) {\r\n\t\t/**\r\n\t\t * Triff zu, wenn der Wert VALIDE ist.\r\n\t\t */\r\n\t\tsetState(component, propName, value, options.hooks);\r\n\t} else if ((value === undefined || value === null) && !options.required) {\r\n\t\t/**\r\n\t\t * Triff zu, wenn der Wert entweder ...\r\n\t\t * - UNDEFINED oder NULL\r\n\t\t * - und NICHT REQUIRED\r\n\t\t * ... ist.\r\n\t\t */\r\n\t\tsetState(component, propName, options.defaultValue, options.hooks);\r\n\t} else {\r\n\t\t/**\r\n\t\t * Triff zu, wenn der Wert NICHT valide ist.\r\n\t\t */\r\n\t\tif (!options.required) {\r\n\t\t\trequiredGeneric.add(null);\r\n\t\t}\r\n\t\tlogWarn(component, propName, value, requiredGeneric);\r\n\t}\r\n}\r\n\r\nexport const watchBoolean = (component: Generic.Element.Component, propName: string, value?: boolean, options?: WatchBooleanOptions): void => {\r\n\twatchValidator(component, propName, (value): boolean => typeof value === 'boolean', new Set(['Boolean {true, false}']), value, options);\r\n};\r\n\r\nexport const watchString = (component: Generic.Element.Component, propName: string, value?: string, options: WatchStringOptions = {}): void => {\r\n\tconst minLength = typeof options.minLength === 'number' ? options?.minLength : 0;\r\n\twatchValidator(\r\n\t\tcomponent,\r\n\t\tpropName,\r\n\t\t(value): boolean =>\r\n\t\t\ttypeof value === 'string' && value.length >= minLength && (typeof options?.maxLength === 'undefined' || value.length <= options.maxLength),\r\n\t\tnew Set([`String`]),\r\n\t\tvalue,\r\n\t\toptions\r\n\t);\r\n};\r\n\r\nexport const watchNumber = (component: Generic.Element.Component, propName: string, value?: number, options?: WatchNumberOptions): void => {\r\n\twatchValidator(\r\n\t\tcomponent,\r\n\t\tpropName,\r\n\t\t(value): boolean =>\r\n\t\t\ttypeof value === 'number' &&\r\n\t\t\t(typeof options?.min === 'undefined' || (typeof options?.min === 'number' && value >= options.min)) &&\r\n\t\t\t(typeof options?.max === 'undefined' || (typeof options?.max === 'number' && value <= options.max)),\r\n\t\tnew Set(['Number']),\r\n\t\tvalue,\r\n\t\toptions\r\n\t);\r\n};\r\n\r\nexport const watchJsonArrayString = <T>(\r\n\tcomponent: Generic.Element.Component,\r\n\tpropName: string,\r\n\titemValidation: (item: T) => boolean,\r\n\tvalue?: Stringified<T[]>,\r\n\tarrayValidation: (items: T[]) => boolean = (items: T[]) => items === items, // nochmal hirnen\r\n\toptions: WatchOptions = {}\r\n): void => {\r\n\temptyStringByArrayHandler(value, () => {\r\n\t\tobjectObjectHandler(value, () => {\r\n\t\t\tif (typeof value === 'undefined') {\r\n\t\t\t\tvalue = [];\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalue = parseJson<T[]>(value);\r\n\t\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\tconst invalid = value.find((item: T) => !itemValidation(item));\r\n\t\t\t\t\tif (invalid === undefined && arrayValidation(value)) {\r\n\t\t\t\t\t\tsetState(component, propName, value, options.hooks);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobjectObjectHandler(invalid, () => {\r\n\t\t\t\t\t\t\tLog.debug(invalid);\r\n\t\t\t\t\t\t\tthrow new Error(`↑ Das Schema für das Property (_options) ist nicht valide. Der Wert wird nicht geändert.`);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobjectObjectHandler(value, () => {\r\n\t\t\t\t\t\tLog.debug(value);\r\n\t\t\t\t\t\tthrow new Error(`↑ Das Schema für das Property (_options) ist nicht valide. Der Wert wird nicht geändert.`);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t/**\r\n\t\t\t\t * TODO: Wir haben einen Known-Bug beim Propergieren von Zeichenkettenliste (string[]).\r\n\t\t\t\t */\r\n\t\t\t\tLog.debug(error);\r\n\t\t\t\t// devHint(`Known bug: Zeichenkettenliste (string[])`);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};\r\n\r\nconst BOOLEAN = /^(true|false)$/;\r\nconst INTEGER = /^-?(0|[1-9]\\d*)$/;\r\nconst FLOAT = /^-?(0.|[1-9]\\d*.)\\d*[1-9]$/;\r\nexport const mapString2Unknown = (value: unknown) => {\r\n\tconst typeStr = typeof value;\r\n\tconst oldValue = `${value as string}`;\r\n\tif (typeof value === 'string') {\r\n\t\tif (BOOLEAN.test(value)) {\r\n\t\t\tvalue = value === 'true';\r\n\t\t} else if (INTEGER.test(value)) {\r\n\t\t\tvalue = parseInt(value);\r\n\t\t} else if (FLOAT.test(value)) {\r\n\t\t\tvalue = parseFloat(value);\r\n\t\t} else if (JSON_CHARS.test(value)) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = parseJson<unknown>(value);\r\n\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// value behält den ursprünglichen Wert\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (typeStr !== typeof value) {\r\n\t\tdevHint(`You have used a stringified property value (${oldValue} to ${JSON.stringify(value)}) which type switched from ${typeStr} to ${typeof value}!`);\r\n\t}\r\n\treturn value;\r\n};\r\n\r\nexport const stringifyJson = (value: unknown): string => {\r\n\ttry {\r\n\t\treturn JSON.stringify(value).replace(/\"/g, \"'\");\r\n\t} catch (error) {\r\n\t\tLog.warn(['stringifyJson', value]);\r\n\t\tLog.error(`↑ Das JSON konnte nicht in einen String umgewandelt werden. Es wird ein stringifizierbares JSON erwartet.`);\r\n\t\tthrow new Error();\r\n\t}\r\n};\r\n\r\nconst JSON_CHARS = /^[{[]/; // string starts with { or [\r\nexport const parseJson = <T>(value: unknown): T => {\r\n\tif (typeof value === 'string') {\r\n\t\ttry {\r\n\t\t\t// \"null\", \"true\", \"false\", \"0\" works too\r\n\t\t\treturn JSON.parse(value);\r\n\t\t} catch (error) {\r\n\t\t\tif (JSON_CHARS.test(value)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn JSON.parse(value.replace(/'/g, '\"'));\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tLog.warn(['parseJson', value]);\r\n\t\t\t\t\tLog.error(`↑ Der JSON-String konnte nicht geparsed werden. Achten Sie darauf, dass einfache Anführungszeichen im Text maskiert werden (&#8216;).`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tthrow new Error();\r\n};\r\n\r\nexport const mapBoolean2String = (value?: boolean): string | undefined => {\r\n\treturn typeof value === 'boolean' ? (value === true ? 'true' : 'false') : undefined;\r\n};\r\n\r\nexport const mapStringOrBoolean2String = (value?: string | boolean): string | undefined => {\r\n\treturn typeof value === 'string' ? value : mapBoolean2String(value);\r\n};\r\n\r\nexport const koliBriQuerySelector = <T extends Element>(selector: string, node?: Document | HTMLElement | ShadowRoot): T | null =>\r\n\tquerySelector<T>(selector, node || getDocument());\r\n\r\nexport const koliBriQuerySelectorAll = <T extends Element>(selector: string, node?: Document | HTMLElement | ShadowRoot): T[] =>\r\n\tquerySelectorAll<T>(selector, node || getDocument());\r\n\r\ninterface A11yColorContrast {\r\n\tbackgroundColor: string;\r\n\tcolor: string;\r\n\tdomNode: HTMLElement | HTMLSlotElement;\r\n\tlevel: string;\r\n\tscore: number;\r\n}\r\n\r\nlet DEFAULT_COLOR_CONTRAST: A11yColorContrast | null = null;\r\nconst getDefaultColorContrast = (): A11yColorContrast => {\r\n\tDEFAULT_COLOR_CONTRAST = DEFAULT_COLOR_CONTRAST || {\r\n\t\tbackgroundColor: '#00000000',\r\n\t\tcolor: '#00000000',\r\n\t\tdomNode: getDocument().body,\r\n\t\tlevel: 'Fail',\r\n\t\tscore: 1,\r\n\t};\r\n\treturn DEFAULT_COLOR_CONTRAST;\r\n};\r\n\r\nconst TRANSPARENT_REGEXP = /(\\d+, ){3}0\\)/;\r\nexport const koliBriA11yColorContrast = (domNode: HTMLElement, a11yColorContrast: A11yColorContrast = getDefaultColorContrast()): A11yColorContrast => {\r\n\tconst computedStyle = getComputedStyle(domNode);\r\n\tconst hexBG: string = TRANSPARENT_REGEXP.test(computedStyle.backgroundColor) ? a11yColorContrast.backgroundColor : rgba.hex(computedStyle.backgroundColor);\r\n\tconst hexC: string = TRANSPARENT_REGEXP.test(computedStyle.color) ? a11yColorContrast.color : rgba.hex(computedStyle.color);\r\n\tconst diff = hex(hexBG, hexC);\r\n\tconst contrast = {\r\n\t\tbackgroundColor: hexBG,\r\n\t\tcolor: hexC,\r\n\t\tdomNode: domNode,\r\n\t\tlevel: score(diff),\r\n\t\tscore: diff,\r\n\t};\r\n\tif (diff < 4.5) {\r\n\t\tLog.error([\r\n\t\t\t'Color-Contrast-Error',\r\n\t\t\t{\r\n\t\t\t\tbackgroundColor: contrast.backgroundColor,\r\n\t\t\t\tcolor: contrast.color,\r\n\t\t\t\tlevel: contrast.level,\r\n\t\t\t\tscore: contrast.score,\r\n\t\t\t},\r\n\t\t\tcontrast.domNode,\r\n\t\t]);\r\n\t}\r\n\treturn contrast;\r\n};\r\n\r\nexport const koliBriQuerySelectorColors = (selector: string, a11yColorContrast: A11yColorContrast = getDefaultColorContrast()): A11yColorContrast => {\r\n\tif (a11yColorContrast.domNode instanceof HTMLElement) {\r\n\t\ta11yColorContrast = koliBriA11yColorContrast(a11yColorContrast.domNode, a11yColorContrast);\r\n\t}\r\n\tconst selectedNode: HTMLElement | null = a11yColorContrast.domNode.querySelector<HTMLElement>(selector);\r\n\tif (selectedNode === null) {\r\n\t\tconst nodeList: NodeListOf<HTMLElement> = a11yColorContrast.domNode.querySelectorAll<HTMLElement>('[class=\"hydrated\"]');\r\n\t\tfor (let i = 0; i < nodeList.length; i++) {\r\n\t\t\t// const shadowRoot: ShadowRoot = nodeList[i].shadowRoot as ShadowRoot;\r\n\t\t\t// if (typeof shadowRoot === 'object' && shadowRoot !== null) {\r\n\t\t\t//   a11yColorContrast.domNode = shadowRoot;\r\n\t\t\t//   a11yColorContrast = koliBriQuerySelectorColors(selector, a11yColorContrast);\r\n\t\t\t// } else {\r\n\t\t\ta11yColorContrast.domNode = nodeList[i];\r\n\t\t\ta11yColorContrast = koliBriQuerySelectorColors(selector, a11yColorContrast);\r\n\t\t\t// }\r\n\t\t\tif (a11yColorContrast.domNode !== null) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn a11yColorContrast;\r\n\t} else {\r\n\t\treturn koliBriA11yColorContrast(selectedNode, a11yColorContrast);\r\n\t}\r\n};\r\n\r\nconst scrollByHTMLElement = (element: HTMLElement, parentElement: Window | HTMLElement = window): void => {\r\n\tif (element instanceof HTMLElement) {\r\n\t\tparentElement.scrollTo({\r\n\t\t\tbehavior: 'smooth',\r\n\t\t\ttop: element.getBoundingClientRect().top + getWindow().pageYOffset - 50,\r\n\t\t});\r\n\t\telement.focus();\r\n\t} else {\r\n\t\tdevHint(`Das HTMLElement ist nicht valide, zu dem gescrollt werden soll.`);\r\n\t}\r\n};\r\nexport const scrollBySelector = (selector: string, document?: Document | HTMLElement | ShadowRoot): void => {\r\n\tif (\r\n\t\t((selector as unknown) instanceof Document || (selector as unknown) instanceof HTMLElement || (selector as unknown) instanceof ShadowRoot) &&\r\n\t\ttypeof document === 'string'\r\n\t) {\r\n\t\tdevHint(\r\n\t\t\t`Bei der Methode querySelectorAll wurden die Parameter document, selector in selector, document getauscht, da der Parameter selector nicht, allerdings der Parameter document optional sein kann.`\r\n\t\t);\r\n\t\tconst temp = `${document as unknown as string}`;\r\n\t\tdocument = selector as unknown as Document;\r\n\t\tselector = temp;\r\n\t}\r\n\tif (typeof selector === 'string') {\r\n\t\tconst element: HTMLElement | null = koliBriQuerySelector<HTMLElement>(selector, document);\r\n\t\tif (element instanceof HTMLElement) {\r\n\t\t\tscrollByHTMLElement(element);\r\n\t\t} else {\r\n\t\t\tdevHint(`Es konnte kein HTMLElement mit dem Selector (${selector}) gefunden werden, zu dem gescrollt werden soll.`);\r\n\t\t}\r\n\t} else {\r\n\t\tdevHint(`Der Selector ist nicht valide, zu dem gescrollt werden soll.`);\r\n\t}\r\n};\r\n\r\nexport class KoliBriUtils {\r\n\tprivate static executionLock = false;\r\n\tprivate static cache = new Map<Element, A11yColorContrast>();\r\n\tpublic static queryHtmlElementColors(targetNode: HTMLElement, a11yColorContrast: A11yColorContrast, recursion = false, log = true): A11yColorContrast | null {\r\n\t\tlet returnValue = null;\r\n\t\tif (recursion === true || KoliBriUtils.executionLock === false) {\r\n\t\t\tif (recursion === false) {\r\n\t\t\t\tKoliBriUtils.cache.clear();\r\n\t\t\t\tKoliBriUtils.cache.set(a11yColorContrast.domNode, a11yColorContrast);\r\n\t\t\t\tKoliBriUtils.executionLock = true;\r\n\t\t\t\tif (log === true) {\r\n\t\t\t\t\tLog.debug(`[KoliBriUtils] Color contrast analysis started...`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Log.debug(a11yColorContrast.domNode);\r\n\t\t\tif (targetNode === a11yColorContrast.domNode) {\r\n\t\t\t\treturnValue = a11yColorContrast;\r\n\t\t\t} else {\r\n\t\t\t\tconst children: Set<Element> = new Set<Element>();\r\n\t\t\t\tif (a11yColorContrast.domNode.shadowRoot) {\r\n\t\t\t\t\tconst shadowChildren = a11yColorContrast.domNode.shadowRoot.children;\r\n\t\t\t\t\tfor (let i = 0; i < shadowChildren.length; i++) {\r\n\t\t\t\t\t\tchildren.add(shadowChildren[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst slotElement: HTMLSlotElement = a11yColorContrast.domNode as HTMLSlotElement;\r\n\t\t\t\tif (typeof slotElement.assignedNodes === 'function') {\r\n\t\t\t\t\tconst slotChildren = slotElement.assignedNodes();\r\n\t\t\t\t\tfor (let i = 0; i < slotChildren.length; i++) {\r\n\t\t\t\t\t\tif (slotChildren[i] instanceof HTMLElement) {\r\n\t\t\t\t\t\t\tchildren.add(slotChildren[i] as HTMLElement);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst domChildren = a11yColorContrast.domNode.children;\r\n\t\t\t\tfor (let i = 0; i < domChildren.length; i++) {\r\n\t\t\t\t\tchildren.add(domChildren[i]);\r\n\t\t\t\t}\r\n\t\t\t\tconst arrayChildren = Array.from(children);\r\n\t\t\t\tfor (let i = 0; i < arrayChildren.length; i++) {\r\n\t\t\t\t\tlet colorContrast: A11yColorContrast | undefined = KoliBriUtils.cache.get(arrayChildren[i]);\r\n\t\t\t\t\tif (colorContrast === undefined) {\r\n\t\t\t\t\t\tcolorContrast = koliBriA11yColorContrast(arrayChildren[i] as HTMLElement, a11yColorContrast);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tKoliBriUtils.cache.set(arrayChildren[i], colorContrast);\r\n\t\t\t\t\tconst colors: A11yColorContrast | null = KoliBriUtils.queryHtmlElementColors(targetNode, colorContrast, true, false);\r\n\t\t\t\t\tif (colors !== null) {\r\n\t\t\t\t\t\treturnValue = colors;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tLog.debug(`[KoliBriUtils] Call aborted because a color contrast analysis is currently being executed.`);\r\n\t\t}\r\n\t\tif (recursion === false) {\r\n\t\t\tif (log === true) {\r\n\t\t\t\tLog.debug(`[KoliBriUtils] Color contrast analysis finished (${KoliBriUtils.cache.size} DOM elements are analysed).`);\r\n\t\t\t}\r\n\t\t\tKoliBriUtils.executionLock = false;\r\n\t\t\tKoliBriUtils.cache.clear();\r\n\t\t}\r\n\t\treturn returnValue;\r\n\t}\r\n}\r\n\r\nexport class KoliBriDevHelper {\r\n\tpublic static readonly patchTheme = patchTheme;\r\n\tpublic static readonly patchThemeTag = patchThemeTag;\r\n\tpublic static readonly querySelector = koliBriQuerySelector;\r\n\tpublic static readonly querySelectorAll = koliBriQuerySelectorAll;\r\n\tpublic static readonly scrollByHTMLElement = scrollByHTMLElement;\r\n\tpublic static readonly scrollBySelector = scrollBySelector;\r\n\tpublic static readonly stringifyJson = stringifyJson;\r\n}\r\n"],"mappings":"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"}