import {
	KolAbbr,
	KolAlert,
	KolCard,
	KolHeading,
	KolIconIcofont,
	KolIndentedText,
	KolIcon,
	KolKolibri,
	KolDetails,
	KolLink,
	KolLogo,
	KolTable,
} from '@public-ui/react';

# Designer

<div className="grid grid-cols-2">
	<KolCard _headline="Eigenes Theme erstellen" _level={2}>
		<KolLink slot="content" _useCase="nav" _href="/designer" _target="designer">
			<div className="flex gap-4 py-2">
				<KolIcon className="homepage" _icon="codicon codicon-paintcan" />
				<span>Klicken Sie hier, um den Designer in einem neuen Browser-Fenster zu öffnen.</span>
			</div>
		</KolLink>
	</KolCard>
</div>

<br />

Mithilfe des KoliBri-Designers können Benutzer für die KoliBri-Bibliothek schnell einen eigenen Style entwickeln. Die Wirkungen der eigenen CSS-Anweisungen werden direkt an der Komponente sichtbar.<br/>
Die fertigen Styles können anschließend als Theme heruntergeladen und im eigenen Projekt eingefügt werden.

<kol-alert _heading="Designer oder Scss" _type="info" _variant="card">
	KoliBri bietet zum Erstellen von Themes auch einen <kol-link _href="/docs/concepts/styling/scss" _label="Scss" />
	-Ansatz an. Je nach persönlichen Präferenzen kann der Designer oder Scss verwendet werden.
</kol-alert>

## Globales CSS

Damit sich alle HTML-Elemente bei der Verwendung von assistiven Werkzeugen und bei hohe Zoomstufen optimal verhalten,
müssen spezifische CSS-Styles gesetzt werden. Hierzu werden initial folgende CSS bei allen Komponenten gesetzt und
können bei Bedarf vom Theme-spezifischen CSS überschrieben werden.

```css
* {
	font-size: inherit; /* ermöglicht proportionales Skalieren */
	hyphens: auto; /* aktiviert die sprachspezifische Silbentrennung */
	letter-spacing: inherit; /* ermöglicht das Ändern des Buchstabenabstands */
	word-break: break-word; /* ermöglicht das Umbrechen von Wörtern */
	word-spacing: inherit; /* ermöglicht das Änderen des Wortabstands */
}
```

## Aufbau

Der KoliBri-Designer ist in drei Bereiche aufgeteilt.

### Oben links: Theme

Das eigene Theme kann wahlweise auf Basis eines Standard-Theme (default) oder direkt mit einem leeren Theme aufgebaut
werden. Standardmäßig wird im Feld <b>Theme</b> durch den Eintrag <i>„default“</i> ein Standard-Theme als Basis ausgewählt.
Hier werden zur Anschauung einige CSS-Anweisungen in den Editor-Bereich eingefügt, deren Wirkung beispielhaft auf die
Standard-Komponente <b>Button</b> angewendet wird.<br />
Wird in das Feld <b>Theme</b> ein eigener Wert für das zu erstellende Theme eingegeben, setzt der KoliBri-Designer sämtliche
Styling-Anweisungen zurück und es kann mit einem völlig leeren Theme begonnen werden.

<kol-indented-text>Bitte beachten Sie, dass einige KoliBri-Komponenten bei Auswahl eines leeren Standard-Themes naturgemäß entweder
gar nicht, ungewohnt oder mit Browser-Default-Layout angezeigt werden.</kol-indented-text>

### Mitte links: Editor

Zur einfachen Eingabe eigener CSS-Anweisungen besitzt der KoliBri-Designer einen <i>VS Code-Editor</i>. Anweisungen, die Benutzer:innen in den Editorbereich schreiben, werden nach Drücken der Tastenkombination <code>Strg + S</code> oder <code>Command + S</code> automatisch übernommen und die Auswirkungen auf die gerade gewählte Komponente übertragen.

### Oben rechts: Komponenten

Über die Auswahlbox <b>Komponenten</b> kann die zu bearbeitende KoliBri-Komponente ausgewählt werden. Es stehen alle KoliBri-Komponenten zur Verfügung, die eine optische Ausgabe aufweisen. Nicht enthalten sind rein funktionale Komponenten, wie z. B. Modal, InputLeandUpAdapter oder auch SkipNav.<br/>
Nach Auswahl einer Komponente lädt der KoliBri-Designer eine typische Basisausgabe der Komponente. Bei Komponenten, die unterschiedliche Varianten besitzen, wie z. B. Button, werden alle Varianten ausgegeben.

<kol-indented-text>Bitte beachten Sie, dass einige KoliBri-Komponenten Abhängigkeiten voneinander besitzen. So besteht die Komponente <b> LinkGroup</b>
beispielsweise aus der Link-Komponente, IconIcofont-Komponte und Tooltip-Komponente. Es empfiehlt sich, zunächst mit der <i>kleinsten</i>
Komponente zu beginnen und nachfolgend auf die eigentliche Hauptkomponente zu wechseln. Eine detaillierte Beschreibung folgt weiter unten.</kol-indented-text>

### Oben mitte: Vorschau

In diesem Bereich wird die aktuell geladene Komponente mit einer typischen Ausgabe dargestellt. Je nach Auswahl des Vorgabe-Themes stellt sich die Komponente entweder im Default-Browser-Layout dar oder besitzt bereits Styling-Merkmale, die aus dem Vorgabe-Theme stammen.

### Unten: Importieren / Exportieren / Zurücksetzen

Der KoliBri-Designer bietet verschiedene Möglichkeiten, Ihre eigenen Einstellungen zu speichern und sie erneut zur weiteren Bearbeitung zu laden.

Über den Button <b>„Theme erstellen“</b> werden die eigenen CSS-Anweisungen als eigenständiges Theme zusammengefasst und im Editor zur Ansicht und zum Kopieren bereitgestellt.<br/>
Der Button <b>„Theme herunterladen“</b> ermöglicht es, das eigene Theme als JSON-Datei zu speichern.<br/>
Um alle Änderungen rückgängig zu machen, klicken Sie auf den Button <b>„Alle Änderungen verwerfen“</b>. Der KoliBri-Designer wird auf das Vorgabe-Theme <b>„default“</b> zurückgesetzt.<br/>
Mit dem Upload-Feld <b>„Theme laden“</b> kann eine bereits erstellte Theme-Datei (JSON-Datei) zur erneuten Bearbeitung in den KoliBri-Designer geladen werden.

## Abhängigkeiten der Komponenten voneinander

Die meisten KoliBri-Komponenten bestehen technisch aus einer Sammlung anderer KoliBri-Komponenten, die zusammengenommen dann eine neue KoliBri-Komponente ergeben und ähnliche, aber weitergehende, Anwendungsfelder besitzen.<br/>
Die Kenntnis der technischen Konstruktion der zu bearbeitenden Komponente ist für die richtige Reihenfolge beim Erstellen des eigenen Themes wichtig.

<kol-indented-text>Die Abhängigkeiten der KoliBri-Komponenten voneinander werden im Storybook, im Abschnitt <b >Beschreibung</b>
der jeweiligen Komponente, im Detail anhand eines Diagramms beschrieben.</kol-indented-text>

<p>
	<b>Beispiel:</b>
</p>

<kol-link-group _heading="Überschrift" _links="[{'_label':'Link 1', '_icon':'icofont-home','_href':'test'},{'_label':'Link 2', '_icon':'icofont-phone','_href':'test'}]" _list-style-type="none"></kol-link-group>

Die in diesem Beispiel verwendete LinkGroup besteht aus den weiteren KoliBri-Komponenten:

- kol-heading
- kol-link → nutzt außerdem kol-tooltip und kol-badge
- kol-icon-icofont

1. Legen Sie zunächst die CSS-Anweisungen für die Überschrift der LinkGroup fest. Die Überschrift besteht aus der KoliBri-Komponente <b>kol-heading</b>. Wechsel Sie daher im Auswahlfeld <b>Komponenten</b> zur Komponente <b>kol-heading</b>. Passen Sie hier im Editor z. B. für h1 die Schriftfarbe an. Diese Einstellung gilt nun für alle Komponenten, in denen die Komponente kol-heading genutzt wird. Die Schriftfarbe hat sich also nicht nur für die Komponente kol-heading selbst verändert, sondern synchron für alle Komponenten, die <b>kol-heading</b> außerdem nutzen. Unter anderem die im Beispiel genutzte <b>kol-link-group</b>.<br/>Wechseln Sie im Auswahlfeld <b>Komponenten</b> zurück zur Komponente <b>kol-link-group</b>. Auch hier hat sich die Schriftfarbe der Überschrift gemäß der CSS-Anweisung der Komponente <b>kol-eading</b> geändert.
2. Ändern Sie jetzt die Schriftfarbe der Links. Wechseln Sie im Auswahlfeld <b>Komponenten</b> zu <b>kol-link</b>. Ändern Sie im Editor den Color-Wert für <b>a</b>. Wechseln Sie zurück zur Komponente <b>kol-link-group</b>. Die Schriftfarbe der einzelnen Links hat sich ebenfalls geändert.
3. Wenn Sie versuchen, die zuvor genannten Einstellungen direkt in der Komponente <b>kol-link-group</b> zu ändern, werden Sie keine Veränderungen sehen. Es wäre hier aber z. B. möglich, die Hintergrundfarbe der ganzen Komponente <b>kol-link-group</b> zu ändern.
4. Beachten Sie, dass Sie über den KoliBri-Designer nur Komponenten stylen können, die sich innerhalb eines Shadow-Doms befinden. Es wäre beim Beispiel <b>kol-link-group</b> nicht möglich, das Element <b><kol-link-group></kol-link-group></b> selbst zu stylen, da sich dieses nicht innerhalb eines Shadow-Doms befindet.
5. Beachten Sie, dass Änderungen im KoliBri-Designer nur solche KoliBri-Komponenten möglich sind, die beim Rendern einen Shadow-Dom besitzen. Das ist z. B. bei der Komponente <b>kol-icon-icofont</b> oder <b>kol-icon-fontawesome</b> nicht der Fall.
