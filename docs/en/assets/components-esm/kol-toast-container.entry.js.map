{"file":"kol-toast-container.entry.js","mappings":";;;;;;;;;;AAAA,MAAM,eAAe,GAAG,qGAAqG;;ACM7H,MAAM,kBAAkB,GAAG,GAAG,CAAC;MASlB,iBAAiB;;;iBACG;MAC/B,YAAY,EAAE,EAAE;KAChB;;EAKD,MAAM,OAAO,CAAC,KAAY;IACzB,MAAM,aAAa,GAAe;MACjC,KAAK;MACL,MAAM,EAAE,QAAQ;MAChB,EAAE,EAAE,SAAS,KAAK,EAAE,EAAE;KACtB,CAAC;IACF,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,CAAC,aAAa,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GACzD,CAAC;IAEF,UAAU,CAAC;MACV,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,eAAe,KACzD,eAAe,KAAK,aAAa;4CAE3B,eAAe,KAClB,MAAM,EAAE,SAAS,MAEjB,eAAe,CAClB,GACD,CAAC;KACF,EAAE,kBAAkB,CAAC,CAAC;GACvB;EAEO,WAAW,CAAC,UAAsB;IACzC,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,eAAe;QACzD,IAAI,eAAe,KAAK,UAAU,EAAE;UACnC,eAAe,CAAC,MAAM,GAAG,UAAU,CAAC;SACpC;QACD,OAAO,eAAe,CAAC;OACvB,CAAC,GACF,CAAC;IAEF,UAAU,CAAC;MACV,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,eAAe,KAAK,eAAe,KAAK,UAAU,CAAC,GACjG,CAAC;KACF,EAAE,kBAAkB,CAAC,CAAC;GACvB;EAEO,mBAAmB;IAC1B,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,eAAe,sCACtD,eAAe,KAClB,MAAM,EAAE,UAAU,IACjB,CAAC,GACH,CAAC;IAEF,UAAU,CAAC;MACV,IAAI,CAAC,KAAK,mCACN,IAAI,CAAC,KAAK,KACb,YAAY,EAAE,EAAE,GAChB,CAAC;KACF,EAAE,kBAAkB,CAAC,CAAC;GACvB;EAEM,MAAM;IACZ,QACC,EAAC,QAAQ,QACP,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,KAClC,kBAAY,MAAM,EAAE,SAAS,CAAC,qBAAqB,CAAC,EAAE,KAAK,EAAC,WAAW,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAe,CAC5I,EACA,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,UAAU,MACvC,iBACC,MAAM,EAAE,UAAU,CAAC,KAAK,CAAC,KAAK,EAC9B,OAAO,EAAE,UAAU,CAAC,MAAM,EAC1B,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,IAAI,EAC5B,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EACpD,GAAG,EAAE,UAAU,CAAC,EAAE,IAEjB,UAAU,CAAC,KAAK,CAAC,WAAW,CAClB,CACZ,CAAC,CACQ,EACV;GACF;;;;;;;;","names":[],"sources":["src/components/toast-container/style.css?tag=kol-toast-container&mode=default&encapsulation=shadow","src/components/toast-container/component.tsx"],"sourcesContent":[":host {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: fixed;\n\tz-index: 200;\n}\n.close-all {\n\talign-self: flex-end;\n}\n","import { Component, Fragment, h, JSX, Method, State } from '@stencil/core';\n\nimport { translate } from '../../i18n';\nimport { nonce } from '../../utils/dev.utils';\nimport { API, States, Toast, ToastState } from './types';\n\nconst TRANSITION_TIMEOUT = 300;\n\n@Component({\n\ttag: 'kol-toast-container',\n\tstyleUrls: {\n\t\tdefault: './style.css',\n\t},\n\tshadow: true,\n})\nexport class KolToastContainer implements API {\n\t@State() public state: States = {\n\t\t_toastStates: [],\n\t};\n\n\t// Stencil requires async function:\n\t// eslint-disable-next-line @typescript-eslint/require-await\n\t@Method()\n\tasync enqueue(toast: Toast) {\n\t\tconst newToastState: ToastState = {\n\t\t\ttoast,\n\t\t\tstatus: 'adding',\n\t\t\tid: `toast-${nonce()}`,\n\t\t};\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\t_toastStates: [newToastState, ...this.state._toastStates],\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\t_toastStates: this.state._toastStates.map((localToastState) =>\n\t\t\t\t\tlocalToastState === newToastState\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t...localToastState,\n\t\t\t\t\t\t\t\tstatus: 'settled',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: localToastState\n\t\t\t\t),\n\t\t\t};\n\t\t}, TRANSITION_TIMEOUT);\n\t}\n\n\tprivate handleClose(toastState: ToastState) {\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\t_toastStates: this.state._toastStates.map((localToastState) => {\n\t\t\t\tif (localToastState === toastState) {\n\t\t\t\t\tlocalToastState.status = 'removing';\n\t\t\t\t}\n\t\t\t\treturn localToastState;\n\t\t\t}),\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\t_toastStates: this.state._toastStates.filter((localToastState) => localToastState !== toastState),\n\t\t\t};\n\t\t}, TRANSITION_TIMEOUT);\n\t}\n\n\tprivate handleCloseAllClick() {\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\t_toastStates: this.state._toastStates.map((localToastState) => ({\n\t\t\t\t...localToastState,\n\t\t\t\tstatus: 'removing',\n\t\t\t})),\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\t_toastStates: [],\n\t\t\t};\n\t\t}, TRANSITION_TIMEOUT);\n\t}\n\n\tpublic render(): JSX.Element {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.state._toastStates.length > 1 && (\n\t\t\t\t\t<kol-button _label={translate('kol-toast-close-all')} class=\"close-all\" _on={{ onClick: this.handleCloseAllClick.bind(this) }}></kol-button>\n\t\t\t\t)}\n\t\t\t\t{this.state._toastStates.map((toastState) => (\n\t\t\t\t\t<kol-toast\n\t\t\t\t\t\t_label={toastState.toast.label}\n\t\t\t\t\t\t_status={toastState.status}\n\t\t\t\t\t\t_type={toastState.toast.type}\n\t\t\t\t\t\t_on={{ onClose: () => this.handleClose(toastState) }}\n\t\t\t\t\t\tkey={toastState.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t{toastState.toast.description}\n\t\t\t\t\t</kol-toast>\n\t\t\t\t))}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n"],"version":3}