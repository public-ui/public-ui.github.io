/*! * KoliBri - The accessible HTML-Standard */ import{r as registerInstance,h,H as Host,g as getElement}from"./index-40be4caf.js";import{h as KolLinkTag}from"./component-names-791b1799.js";import{b as watchBoolean}from"./prop.validators-28badc7d.js";import{v as validateLabel}from"./label-af70fdc5.js";import{v as validateOpen}from"./open-c3666632.js";import{v as validateHref}from"./href-c781430c.js";import"./index-4a3076fc.js";import"./dev.utils-1ca991a2.js";const validateActive=(e,t,a)=>{watchBoolean(e,"_active",t,a)},KolTreeItemWc=class{constructor(e){registerInstance(this,e),this.state={_active:!1,_hasChildren:!1,_href:"",_label:"",_open:!1},this._active=void 0,this._label=void 0,this._open=void 0,this._href=void 0}render(){return h(Host,{key:"922aae251164d4c84619633d0b031bb6019792a6",onSlotchange:this.handleSlotchange.bind(this),class:"kol-tree-item-wc"},h("li",{key:"412a8470bea6b4b738bd156b3b0c94b2207b7759",class:"tree-item"},h(KolLinkTag,{key:"849beb0ce827da5e662308ce704f7db6b7ffbe80",class:{"tree-link":!0,active:Boolean(this.state._active)},_label:"",_href:this.state._href,ref:e=>this.linkElement=e,_tabIndex:this.state._active?0:-1},h("span",{key:"1fe521b37ce81b3a681b7692ebe530d19928182d",slot:"expert"},this.state._hasChildren&&(this.state._open?h("span",{class:"toggle-button",onClick:e=>{this.handleCollapseClick(e)}},"-"):h("span",{class:"toggle-button",onClick:e=>{this.handleExpandClick(e)}},"+"))," ",this.state._label)),h("ul",{key:"0c81c08973ef493345311d8f7f4eb880c248b5d5",hidden:!this.state._hasChildren||!this.state._open,role:"group"},h("slot",{key:"94c3615e5b2a3892f7e72ce90290afbc965a1528"}))))}validateActive(e){validateActive(this,e||!1)}validateLabel(e){validateLabel(this,e)}validateOpen(e){validateOpen(this,e)}validateHref(e){validateHref(this,e)}componentWillLoad(){this.validateActive(this._active),this.validateLabel(this._label),this.validateOpen(this._open),this.validateHref(this._href),this.checkForChildren()}handleSlotchange(){this.checkForChildren()}checkForChildren(){var e;this.state=Object.assign(Object.assign({},this.state),{_hasChildren:Boolean(null===(e=this.host.querySelector("slot"))||void 0===e?void 0:e.assignedElements().length)})}async focusLink(){this.linkElement.focus()}async handleExpandClick(e){e.preventDefault(),this.linkElement.focus(),await this.expand()}async expand(){this.state._hasChildren&&(this.state=Object.assign(Object.assign({},this.state),{_open:!0}))}async handleCollapseClick(e){e.preventDefault(),this.linkElement.focus(),await this.collapse()}async collapse(){this.state._hasChildren&&(this.state=Object.assign(Object.assign({},this.state),{_open:!1}))}async isOpen(){var e;return null!==(e=this.state._open)&&void 0!==e&&e}get host(){return getElement(this)}static get watchers(){return{_active:["validateActive"],_label:["validateLabel"],_open:["validateOpen"],_href:["validateHref"]}}};export{KolTreeItemWc as kol_tree_item_wc};