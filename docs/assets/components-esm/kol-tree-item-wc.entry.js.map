{"file":"kol-tree-item-wc.entry.js","mappings":"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","names":[],"sources":["src/components/tree-item/component.tsx"],"sourcesContent":["import { Component, Element, h, Host, type JSX, Method, Prop, State, Watch } from '@stencil/core';\n\nimport type { ActivePropType, HrefPropType, LabelPropType, OpenPropType, TreeItemAPI, TreeItemStates } from '@public-ui/schema';\nimport { validateActive, validateHref, validateLabel, validateOpen } from '@public-ui/schema';\n\n@Component({\n\ttag: `kol-tree-item-wc`,\n\tshadow: false,\n})\nexport class KolTreeItemWc implements TreeItemAPI {\n\tprivate linkElement!: HTMLKolLinkWcElement;\n\n\t@Element() host!: HTMLElement;\n\n\tpublic render(): JSX.Element {\n\t\treturn (\n\t\t\t<Host onSlotchange={this.handleSlotchange.bind(this)}>\n\t\t\t\t<li class=\"tree-item\">\n\t\t\t\t\t<kol-link\n\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t'tree-link': true,\n\t\t\t\t\t\t\tactive: Boolean(this.state._active),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t_label=\"\"\n\t\t\t\t\t\t_href={this.state._href}\n\t\t\t\t\t\tref={(element) => (this.linkElement = element!)}\n\t\t\t\t\t\t_tabIndex={this.state._active ? 0 : -1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span slot=\"expert\">\n\t\t\t\t\t\t\t{this.state._hasChildren &&\n\t\t\t\t\t\t\t\t(this.state._open ? (\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions,jsx-a11y/click-events-have-key-events\n\t\t\t\t\t\t\t\t\t<span class=\"toggle-button\" onClick={(event) => void this.handleCollapseClick(event)}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions,jsx-a11y/click-events-have-key-events\n\t\t\t\t\t\t\t\t\t<span class=\"toggle-button\" onClick={(event) => void this.handleExpandClick(event)}>\n\t\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t))}{' '}\n\t\t\t\t\t\t\t{this.state._label}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</kol-link>\n\t\t\t\t\t<ul hidden={!this.state._hasChildren || !this.state._open} role=\"group\">\n\t\t\t\t\t\t<slot />\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</Host>\n\t\t);\n\t}\n\n\t@State() public state: TreeItemStates = {\n\t\t_active: false,\n\t\t_hasChildren: false,\n\t\t_href: '',\n\t\t_label: '',\n\t\t_open: false,\n\t};\n\n\t/**\n\t * If set (to true) the tree item is the active one.\n\t */\n\t@Prop() _active?: OpenPropType;\n\n\t/**\n\t * Defines the label of the link.\n\t */\n\t@Prop() _label!: LabelPropType;\n\n\t/**\n\t * If set (to true) opens/expands the element, closes if not set (or set to false).\n\t */\n\t@Prop() _open?: OpenPropType;\n\n\t/**\n\t * This property is used for a link from a reference to the target URL.\n\t */\n\t@Prop() _href!: HrefPropType;\n\n\t@Watch('_active') validateActive(value?: ActivePropType): void {\n\t\tvalidateActive(this, value || false);\n\t}\n\n\t@Watch('_label') validateLabel(value?: LabelPropType): void {\n\t\tvalidateLabel(this, value);\n\t}\n\n\t@Watch('_open') validateOpen(value?: OpenPropType): void {\n\t\tvalidateOpen(this, value);\n\t}\n\n\t@Watch('_href') validateHref(value?: HrefPropType): void {\n\t\tvalidateHref(this, value);\n\t}\n\n\tpublic componentWillLoad(): void {\n\t\tthis.validateActive(this._active);\n\t\tthis.validateLabel(this._label);\n\t\tthis.validateOpen(this._open);\n\t\tthis.validateHref(this._href);\n\n\t\tthis.checkForChildren();\n\t}\n\n\tprivate handleSlotchange() {\n\t\tthis.checkForChildren();\n\t}\n\n\tprivate checkForChildren() {\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\t_hasChildren: Boolean(this.host.querySelector('slot')?.assignedElements().length),\n\t\t};\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/require-await\n\t@Method() async focusLink() {\n\t\tthis.linkElement.focus();\n\t}\n\n\tprivate async handleExpandClick(event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tthis.linkElement.focus();\n\t\tawait this.expand();\n\t}\n\n\t@Method()\n\t// eslint-disable-next-line @typescript-eslint/require-await\n\tpublic async expand() {\n\t\tif (this.state._hasChildren) {\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\t_open: true,\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate async handleCollapseClick(event: MouseEvent) {\n\t\tevent.preventDefault();\n\t\tthis.linkElement.focus();\n\t\tawait this.collapse();\n\t}\n\n\t@Method()\n\t// eslint-disable-next-line @typescript-eslint/require-await\n\tpublic async collapse() {\n\t\tif (this.state._hasChildren) {\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\t_open: false,\n\t\t\t};\n\t\t}\n\t}\n\n\t@Method()\n\t// eslint-disable-next-line @typescript-eslint/require-await\n\tpublic async isOpen() {\n\t\treturn this.state._open ?? false;\n\t}\n}\n"],"version":3}