/*! * KoliBri - The accessible HTML-Standard */ import{r as registerInstance,h,H as Host}from"./index-d0c806ea.js";import{a as watchBoolean,w as watchValidator}from"./prop.validators-125a3282.js";import{v as validateHideLabel}from"./hide-label-2c0bf25c.js";import{v as validateLabel}from"./label-0d258cd5.js";import{b as a11yHintLabelingLandmarks,d as devHint}from"./a11y.tipps-583a2096.js";import{r as removeNavLabel,a as addNavLabel}from"./unique-nav-labels-c6750f60.js";import{w as watchNavLinks}from"./validation-61e035d7.js";import"./dev.utils-2a853234.js";import"./reuse-b3566e4c.js";const validateCollapsible=(a,i)=>{watchBoolean(a,"_collapsible",i)},defaultStyleCss=":host{--a11y-min-size:44px;font-size:inherit}*{font-family:Verdana;hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}[role='button'],button:not([role='link']),kol-input .input{min-height:var(--a11y-min-size);min-width:var(--a11y-min-size)}a,button,h1,h2,h3,h4,h5,h6,input,option,select,textarea{font-family:inherit;font-size:inherit}:is(a,button){background-color:transparent;border:none;margin:0;padding:0;width:100%;}:host{max-width:100%}*{box-sizing:border-box}kol-span-wc{display:grid;place-items:center}kol-span-wc>span{display:flex;place-items:center}a,button{cursor:pointer}button,input,option,select,textarea{font-family:inherit}.icon-only>kol-span-wc>span>span{display:none}:host>div{display:grid;place-items:center}nav{width:100%}.list{display:flex;list-style:none;margin:0;padding:0}.list.vertical{flex-direction:column}.entry{display:flex}.entry kol-button-wc:first-child,.entry kol-link-wc,.entry kol-span-wc{flex-grow:1}.entry kol-span-wc{justify-items:start}",KolNav=class{constructor(a){registerInstance(this,a),this.onClick=a=>{a._active=!a._active,this.state=Object.assign({},this.state)},this.hasActiveChild=a=>!!(Array.isArray(a._children)&&a._children.length>0)&&a._children.some(this.hasActiveChild),this.linkList=a=>h("ul",{class:"list "+(0===a.deep&&"horizontal"===a.orientation?" horizontal":" vertical"),"data-deep":a.deep},a.links.map(((i,t)=>this.li(a.collapsible,a.hideLabel,a.deep,t,i,a.orientation)))),this._ariaCurrentValue=!1,this._collapsible=!0,this._hideLabel=!1,this._label=void 0,this._links=void 0,this._orientation="vertical",this.state={_ariaCurrentValue:!1,_collapsible:!0,_hideLabel:!1,_label:"…",_links:[],_orientation:"vertical"}}entry(a,i,t,e,l){return h("div",{class:{entry:!0,"hide-label":i}},h("kol-button-link-text-switch",{_link:Object.assign(Object.assign({},e),{_hideLabel:i})}),t?this.expandButton(a,e,l):"")}expandButton(a,i,t){return h("kol-button-wc",{class:"expand-button",_ariaExpanded:t,_disabled:!a,_icons:"codicon codicon-"+(t?"remove":"add"),_hideLabel:!0,_label:`Untermenü zu ${i._label} ${t?"schließen":"öffnen"}`,_on:{onClick:()=>this.onClick(i)}})}li(a,i,t,e,l,n){const s=!!l._active,o=Array.isArray(l._children)&&l._children.length>0,r=o&&s;return h("li",{class:{active:s,expanded:r,"has-children":o},key:e},this.entry(a,i,o,l,s),r?h(this.linkList,{collapsible:a,hideLabel:i,deep:t+1,links:l._children||[],orientation:n}):"")}render(){const a=!0===this.state._collapsible,i=!0===this.state._hideLabel,t=this.state._orientation;return h(Host,null,h("div",{class:{[t]:!0}},h("nav",{"aria-label":this.state._label,id:"nav"},h(this.linkList,{collapsible:a,hideLabel:i,deep:0,links:this.state._links,orientation:t}))))}validateAriaCurrentValue(a){watchValidator(this,"_ariaCurrentValue",(a=>!0===a||"date"===a||"location"===a||"page"===a||"step"===a||"time"===a),new Set(["boolean","String {data, location, page, step, time}"]),a)}validateCollapsible(a){validateCollapsible(this,a)}validateHideLabel(a){validateHideLabel(this,a)}validateLabel(a,i,t=!1){t||removeNavLabel(this.state._label),validateLabel(this,a),a11yHintLabelingLandmarks(a),addNavLabel(this.state._label)}validateLinks(a){watchNavLinks("KolNav",this,a),devHint("[KolNav] Die Navigationsstruktur wird noch nicht rekursiv validiert.")}validateOrientation(a){watchValidator(this,"_orientation",(a=>"horizontal"===a||"vertical"===a),new Set(["Orientation {horizontal, vertical}"]),a,{defaultValue:"vertical"})}componentWillLoad(){this.validateAriaCurrentValue(this._ariaCurrentValue),this.validateCollapsible(this._collapsible),this.validateHideLabel(this._hideLabel),this.validateLabel(this._label,void 0,!0),this.validateLinks(this._links),this.validateOrientation(this._orientation)}disconnectedCallback(){removeNavLabel(this.state._label)}static get watchers(){return{_ariaCurrentValue:["validateAriaCurrentValue"],_collapsible:["validateCollapsible"],_hideLabel:["validateHideLabel"],_label:["validateLabel"],_links:["validateLinks"],_orientation:["validateOrientation"]}}};KolNav.style={default:defaultStyleCss};export{KolNav as kol_nav};